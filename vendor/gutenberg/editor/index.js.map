{"version":3,"sources":["webpack://wp/webpack/bootstrap","webpack://wp/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack://wp/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wp/./node_modules/autosize/dist/autosize.js","webpack://wp/./node_modules/classnames/index.js","webpack://wp/./node_modules/computed-style/dist/computedStyle.commonjs.js","webpack://wp/./node_modules/line-height/lib/line-height.js","webpack://wp/./node_modules/memize/index.js","webpack://wp/./node_modules/object-assign/index.js","webpack://wp/./node_modules/prop-types/checkPropTypes.js","webpack://wp/./node_modules/prop-types/factoryWithTypeCheckers.js","webpack://wp/./node_modules/prop-types/index.js","webpack://wp/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://wp/./node_modules/react-autosize-textarea/lib/TextareaAutosize.js","webpack://wp/./node_modules/react-autosize-textarea/lib/index.js","webpack://wp/./node_modules/react-is/cjs/react-is.development.js","webpack://wp/./node_modules/react-is/index.js","webpack://wp/./node_modules/redux-optimist/index.js","webpack://wp/./node_modules/redux-optimist/lib/index.js","webpack://wp/./node_modules/refx/refx.js","webpack://wp/./node_modules/rememo/es/rememo.js","webpack://wp/@wordpress/editor/src/components/autocompleters/block.js","webpack://wp/@wordpress/editor/src/components/autocompleters/index.js","webpack://wp/@wordpress/editor/src/components/autocompleters/user.js","webpack://wp/@wordpress/editor/src/components/autosave-monitor/index.js","webpack://wp/@wordpress/editor/src/components/convert-to-group-buttons/convert-button.js","webpack://wp/@wordpress/editor/src/components/convert-to-group-buttons/icons.js","webpack://wp/@wordpress/editor/src/components/convert-to-group-buttons/index.js","webpack://wp/@wordpress/editor/src/components/deprecated.js","webpack://wp/@wordpress/editor/src/components/document-outline/check.js","webpack://wp/@wordpress/editor/src/components/document-outline/index.js","webpack://wp/@wordpress/editor/src/components/document-outline/item.js","webpack://wp/@wordpress/editor/src/components/editor-history/redo.js","webpack://wp/@wordpress/editor/src/components/editor-history/undo.js","webpack://wp/@wordpress/editor/src/components/editor-notices/index.js","webpack://wp/@wordpress/editor/src/components/error-boundary/index.js","webpack://wp/@wordpress/editor/src/components/global-keyboard-shortcuts/save-shortcut.js","webpack://wp/@wordpress/editor/src/components/global-keyboard-shortcuts/text-editor-shortcuts.js","webpack://wp/@wordpress/editor/src/components/global-keyboard-shortcuts/visual-editor-shortcuts.js","webpack://wp/@wordpress/editor/src/components/index.js","webpack://wp/@wordpress/editor/src/components/inserter-menu-downloadable-blocks-panel/index.js","webpack://wp/@wordpress/editor/src/components/local-autosave-monitor/index.js","webpack://wp/@wordpress/editor/src/components/page-attributes/check.js","webpack://wp/@wordpress/editor/src/components/page-attributes/order.js","webpack://wp/@wordpress/editor/src/components/page-attributes/parent.js","webpack://wp/@wordpress/editor/src/components/page-attributes/template.js","webpack://wp/@wordpress/editor/src/components/post-author/check.js","webpack://wp/@wordpress/editor/src/components/post-author/index.js","webpack://wp/@wordpress/editor/src/components/post-comments/index.js","webpack://wp/@wordpress/editor/src/components/post-excerpt/check.js","webpack://wp/@wordpress/editor/src/components/post-excerpt/index.js","webpack://wp/@wordpress/editor/src/components/post-featured-image/check.js","webpack://wp/@wordpress/editor/src/components/post-featured-image/index.js","webpack://wp/@wordpress/editor/src/components/post-format/check.js","webpack://wp/@wordpress/editor/src/components/post-format/index.js","webpack://wp/@wordpress/editor/src/components/post-last-revision/check.js","webpack://wp/@wordpress/editor/src/components/post-last-revision/index.js","webpack://wp/@wordpress/editor/src/components/post-locked-modal/index.js","webpack://wp/@wordpress/editor/src/components/post-pending-status/check.js","webpack://wp/@wordpress/editor/src/components/post-pending-status/index.js","webpack://wp/@wordpress/editor/src/components/post-permalink/editor.js","webpack://wp/@wordpress/editor/src/components/post-permalink/index.js","webpack://wp/@wordpress/editor/src/components/post-pingbacks/index.js","webpack://wp/@wordpress/editor/src/components/post-preview-button/index.js","webpack://wp/@wordpress/editor/src/components/post-publish-button/index.js","webpack://wp/@wordpress/editor/src/components/post-publish-button/label.js","webpack://wp/@wordpress/editor/src/components/post-publish-panel/index.js","webpack://wp/@wordpress/editor/src/components/post-publish-panel/maybe-post-format-panel.js","webpack://wp/@wordpress/editor/src/components/post-publish-panel/maybe-tags-panel.js","webpack://wp/@wordpress/editor/src/components/post-publish-panel/postpublish.js","webpack://wp/@wordpress/editor/src/components/post-publish-panel/prepublish.js","webpack://wp/@wordpress/editor/src/components/post-saved-state/index.js","webpack://wp/@wordpress/editor/src/components/post-schedule/check.js","webpack://wp/@wordpress/editor/src/components/post-schedule/index.js","webpack://wp/@wordpress/editor/src/components/post-schedule/label.js","webpack://wp/@wordpress/editor/src/components/post-sticky/check.js","webpack://wp/@wordpress/editor/src/components/post-sticky/index.js","webpack://wp/@wordpress/editor/src/components/post-switch-to-draft-button/index.js","webpack://wp/@wordpress/editor/src/components/post-taxonomies/check.js","webpack://wp/@wordpress/editor/src/components/post-taxonomies/flat-term-selector.js","webpack://wp/@wordpress/editor/src/components/post-taxonomies/hierarchical-term-selector.js","webpack://wp/@wordpress/editor/src/components/post-taxonomies/index.js","webpack://wp/@wordpress/editor/src/components/post-text-editor/index.js","webpack://wp/@wordpress/editor/src/components/post-title/index.js","webpack://wp/@wordpress/editor/src/components/post-trash/check.js","webpack://wp/@wordpress/editor/src/components/post-trash/index.js","webpack://wp/@wordpress/editor/src/components/post-type-support-check/index.js","webpack://wp/@wordpress/editor/src/components/post-visibility/check.js","webpack://wp/@wordpress/editor/src/components/post-visibility/index.js","webpack://wp/@wordpress/editor/src/components/post-visibility/label.js","webpack://wp/@wordpress/editor/src/components/post-visibility/utils.js","webpack://wp/@wordpress/editor/src/components/provider/index.js","webpack://wp/@wordpress/editor/src/components/provider/with-registry-provider.js","webpack://wp/@wordpress/editor/src/components/reusable-blocks-buttons/index.js","webpack://wp/@wordpress/editor/src/components/reusable-blocks-buttons/reusable-block-convert-button.js","webpack://wp/@wordpress/editor/src/components/reusable-blocks-buttons/reusable-block-delete-button.js","webpack://wp/@wordpress/editor/src/components/table-of-contents/index.js","webpack://wp/@wordpress/editor/src/components/table-of-contents/panel.js","webpack://wp/@wordpress/editor/src/components/template-validation-notice/index.js","webpack://wp/@wordpress/editor/src/components/theme-support-check/index.js","webpack://wp/@wordpress/editor/src/components/unsaved-changes-warning/index.js","webpack://wp/@wordpress/editor/src/components/word-count/index.js","webpack://wp/@wordpress/editor/src/hooks/default-autocompleters.js","webpack://wp/@wordpress/editor/src/hooks/index.js","webpack://wp/@wordpress/editor/src/index.js","webpack://wp/@wordpress/editor/src/store/actions.js","webpack://wp/@wordpress/editor/src/store/block-sources/index.js","webpack://wp/@wordpress/editor/src/store/block-sources/meta.js","webpack://wp/@wordpress/editor/src/store/constants.js","webpack://wp/@wordpress/editor/src/store/controls.js","webpack://wp/@wordpress/editor/src/store/defaults.js","webpack://wp/@wordpress/editor/src/store/effects.js","webpack://wp/@wordpress/editor/src/store/effects/reusable-blocks.js","webpack://wp/@wordpress/editor/src/store/index.js","webpack://wp/@wordpress/editor/src/store/middlewares.js","webpack://wp/@wordpress/editor/src/store/reducer.js","webpack://wp/@wordpress/editor/src/store/selectors.js","webpack://wp/@wordpress/editor/src/store/utils/notice-builder.js","webpack://wp/@wordpress/editor/src/store/utils/serialize-blocks.js","webpack://wp/@wordpress/editor/src/utils/index.js","webpack://wp/@wordpress/editor/src/utils/media-upload/index.js","webpack://wp/@wordpress/editor/src/utils/terms.js","webpack://wp/@wordpress/editor/src/utils/url.js","webpack://wp/external {\"this\":\"regeneratorRuntime\"}","webpack://wp/external {\"this\":[\"wp\",\"apiFetch\"]}","webpack://wp/external {\"this\":[\"wp\",\"autop\"]}","webpack://wp/external {\"this\":[\"wp\",\"blockDirectory\"]}","webpack://wp/external {\"this\":[\"wp\",\"blockEditor\"]}","webpack://wp/external {\"this\":[\"wp\",\"blocks\"]}","webpack://wp/external {\"this\":[\"wp\",\"components\"]}","webpack://wp/external {\"this\":[\"wp\",\"compose\"]}","webpack://wp/external {\"this\":[\"wp\",\"coreData\"]}","webpack://wp/external {\"this\":[\"wp\",\"data\"]}","webpack://wp/external {\"this\":[\"wp\",\"dataControls\"]}","webpack://wp/external {\"this\":[\"wp\",\"date\"]}","webpack://wp/external {\"this\":[\"wp\",\"deprecated\"]}","webpack://wp/external {\"this\":[\"wp\",\"element\"]}","webpack://wp/external {\"this\":[\"wp\",\"hooks\"]}","webpack://wp/external {\"this\":[\"wp\",\"htmlEntities\"]}","webpack://wp/external {\"this\":[\"wp\",\"i18n\"]}","webpack://wp/external {\"this\":[\"wp\",\"isShallowEqual\"]}","webpack://wp/external {\"this\":[\"wp\",\"keycodes\"]}","webpack://wp/external {\"this\":[\"wp\",\"mediaUtils\"]}","webpack://wp/external {\"this\":[\"wp\",\"notices\"]}","webpack://wp/external {\"this\":[\"wp\",\"nux\"]}","webpack://wp/external {\"this\":[\"wp\",\"richText\"]}","webpack://wp/external {\"this\":[\"wp\",\"serverSideRender\"]}","webpack://wp/external {\"this\":[\"wp\",\"url\"]}","webpack://wp/external {\"this\":[\"wp\",\"viewport\"]}","webpack://wp/external {\"this\":[\"wp\",\"wordcount\"]}","webpack://wp/external {\"this\":\"lodash\"}","webpack://wp/external {\"this\":\"React\"}"],"names":["defaultGetBlockInsertionParentClientId","select","getBlockInsertionPoint","rootClientId","defaultGetInserterItems","getInserterItems","defaultGetSelectedBlockName","getSelectedBlockClientId","getBlockName","selectedBlockClientId","fetchReusableBlocks","once","dispatch","__experimentalFetchReusableBlocks","createBlockCompleter","getBlockInsertionParentClientId","getSelectedBlockName","name","className","triggerPrefix","options","selectedBlockName","filter","inserterItem","getOptionKeywords","title","keywords","category","getOptionLabel","icon","allowContext","before","after","test","getOptionCompletion","initialAttributes","action","value","createBlock","isOptionDisabled","isDisabled","search","payload","encodeURIComponent","apiFetch","path","isDebounced","user","slug","avatar_urls","AutosaveMonitor","prevProps","props","isDirty","editsReference","isAutosaveable","isAutosaving","didAutosaveForEditsReference","toggleTimer","isPendingSave","interval","shouldThrottle","pendingSave","clearTimeout","setTimeout","autosave","Component","compose","withSelect","ownProps","getReferenceByDistinctEdits","isEditedPostDirty","isEditedPostAutosaveable","isAutosavingPost","getEditorSettings","autosaveInterval","withDispatch","ConvertToGroupButton","onConvertToGroup","onConvertFromGroup","isGroupable","isUngroupable","Group","_x","Ungroup","clientIds","getBlockRootClientId","getBlocksByClientId","canInsertBlockType","getGroupingBlockName","groupingBlockName","length","undefined","groupingBlockAvailable","blocksSelection","isSingleGroupingBlock","innerBlocks","onToggle","noop","replaceBlocks","newBlocks","switchToBlockType","GroupSVG","UngroupSVG","ConvertToGroupButtons","onClose","getSelectedBlockClientIds","deprecateComponent","Wrapped","staticsToHoist","forwardRef","ref","deprecated","alternative","forEach","staticName","deprecateFunction","func","RichText","RootRichText","isEmpty","Autocomplete","RootAutocomplete","AlignmentToolbar","RootAlignmentToolbar","BlockAlignmentToolbar","RootBlockAlignmentToolbar","BlockControls","RootBlockControls","BlockEdit","RootBlockEdit","BlockEditorKeyboardShortcuts","RootBlockEditorKeyboardShortcuts","BlockFormatControls","RootBlockFormatControls","BlockIcon","RootBlockIcon","BlockInspector","RootBlockInspector","BlockList","RootBlockList","BlockMover","RootBlockMover","BlockNavigationDropdown","RootBlockNavigationDropdown","BlockSelectionClearer","RootBlockSelectionClearer","BlockSettingsMenu","RootBlockSettingsMenu","BlockTitle","RootBlockTitle","BlockToolbar","RootBlockToolbar","ColorPalette","RootColorPalette","ContrastChecker","RootContrastChecker","CopyHandler","RootCopyHandler","DefaultBlockAppender","RootDefaultBlockAppender","FontSizePicker","RootFontSizePicker","Inserter","RootInserter","InnerBlocks","RootInnerBlocks","InspectorAdvancedControls","RootInspectorAdvancedControls","InspectorControls","RootInspectorControls","PanelColorSettings","RootPanelColorSettings","PlainText","RootPlainText","RichTextShortcut","RootRichTextShortcut","RichTextToolbarButton","RootRichTextToolbarButton","__unstableRichTextInputEvent","__unstableRootRichTextInputEvent","MediaPlaceholder","RootMediaPlaceholder","MediaUpload","RootMediaUpload","MediaUploadCheck","RootMediaUploadCheck","MultiBlocksSwitcher","RootMultiBlocksSwitcher","MultiSelectScrollIntoView","RootMultiSelectScrollIntoView","NavigableToolbar","RootNavigableToolbar","ObserveTyping","RootObserveTyping","PreserveScrollInReorder","RootPreserveScrollInReorder","SkipToSelectedBlock","RootSkipToSelectedBlock","URLInput","RootURLInput","URLInputButton","RootURLInputButton","URLPopover","RootURLPopover","Warning","RootWarning","WritingFlow","RootWritingFlow","createCustomColorsHOC","rootCreateCustomColorsHOC","getColorClassName","rootGetColorClassName","getColorObjectByAttributeValues","rootGetColorObjectByAttributeValues","getColorObjectByColorValue","rootGetColorObjectByColorValue","getFontSize","rootGetFontSize","getFontSizeClass","rootGetFontSizeClass","withColorContext","rootWithColorContext","withColors","rootWithColors","withFontSizes","rootWithFontSizes","DocumentOutlineCheck","blocks","children","headings","block","getBlocks","emptyHeadingContent","__","incorrectLevelContent","singleH1Headings","multipleH1Headings","computeOutlineHeadings","flatMap","level","attributes","isEmptyHeading","heading","content","DocumentOutline","onSelect","isTitleSupported","hasOutlineItemsDisabled","prevHeadingLevel","titleNode","document","querySelector","hasTitle","countByLevel","countBy","hasMultipleH1","id","map","item","index","isIncorrectLevel","isValid","clientId","getTextContent","create","html","getEditedPostAttribute","getPostType","postType","get","TableOfContentsItem","href","classnames","toLowerCase","EditorHistoryRedo","hasRedo","redo","displayShortcut","primaryShift","hasEditorRedo","EditorHistoryUndo","hasUndo","undo","primary","hasEditorUndo","EditorNotices","notices","onRemove","dismissibleNotices","isDismissible","type","nonDismissibleNotices","snackbarNotices","getNotices","removeNotice","ErrorBoundary","arguments","reboot","bind","getContent","state","error","setState","onError","getEditedPostContent","stack","SaveShortcut","onSave","rawShortcut","event","preventDefault","savePost","TextEditorGlobalKeyboardShortcuts","VisualEditorGlobalKeyboardShortcuts","undoOrRedo","onRedo","onUndo","shiftKey","EnhancedVisualEditorGlobalKeyboardShortcuts","EditorGlobalKeyboardShortcuts","plugin","InserterMenuDownloadableBlocksPanel","useState","debouncedFilterValue","setFilterValue","debouncedSetFilterValue","debounce","onHover","filterValue","hasItems","requestIdleCallback","window","requestAnimationFrame","hasSessionStorageSupport","sessionStorage","setItem","removeItem","postKey","postId","useAutosaveCallback","useSelect","getCurrentPostId","useCallback","saveToSessionStorage","JSON","stringify","post_title","excerpt","useAutosaveNotice","useDispatch","createWarningNotice","editPost","resetEditorBlocks","useEffect","getItem","parse","edits","hasDifference","Object","keys","some","key","noticeId","uniqueId","actions","label","onClick","omit","useAutosavePurge","lastIsDirty","useRef","current","LocalAutosaveMonitor","localAutosaveInterval","__experimentalLocalAutosaveInterval","ifCondition","PageAttributesCheck","availableTemplates","supportsPageAttributes","PageAttributesOrder","withState","orderInput","onUpdateOrder","order","setUpdatedOrder","newOrder","Number","isInteger","invoke","PageAttributesOrderWithChecks","menu_order","PageAttributesParent","parent","items","onUpdateParent","isHierarchical","parentPageLabel","pageItems","pagesTree","buildTermsTree","raw","applyWithSelect","getEntityRecords","postTypeSlug","query","per_page","exclude","parent_exclude","orderby","applyWithDispatch","PageTemplate","selectedTemplate","onUpdate","templateName","templateSlug","template","PostAuthorCheck","hasAssignAuthorAction","authors","post","getCurrentPost","getCurrentPostType","getAuthors","withInstanceId","PostAuthor","setAuthorId","onUpdateAuthor","target","postAuthor","instanceId","selectId","author","decodeEntities","PostComments","commentStatus","onToggleComments","comment_status","PostExcerptCheck","PostExcerpt","onUpdateExcerpt","PostFeaturedImageCheck","ALLOWED_MEDIA_TYPES","DEFAULT_FEATURE_IMAGE_LABEL","DEFAULT_SET_FEATURE_IMAGE_LABEL","DEFAULT_REMOVE_FEATURE_IMAGE_LABEL","PostFeaturedImage","currentPostId","featuredImageId","onUpdateImage","onRemoveImage","media","postLabel","instructions","mediaWidth","mediaHeight","mediaSourceUrl","mediaSize","applyFilters","has","media_details","sizes","width","height","source_url","featured_image","open","set_featured_image","isLoading","remove_featured_image","getMedia","image","featured_media","withFilters","PostFormatCheck","disablePostFormats","editorSettings","POST_FORMATS","caption","PostFormat","onUpdatePostFormat","postFormat","supportedFormats","suggestedFormat","postFormatSelectorId","formats","format","includes","suggestion","find","getSuggestedPostFormat","themeSupports","getThemeSupports","union","PostLastRevisionCheck","lastRevisionId","revisionsCount","getCurrentPostLastRevisionId","getCurrentPostRevisionsCount","LastRevision","getWPAdminURL","revision","gutenberg","sprintf","_n","PostLockedModal","sendPostLock","receivePostLock","releasePostLock","hookName","getHookName","addAction","removeAction","data","isLocked","activePostLock","lock","post_id","updatePostLock","received","lock_error","isTakeover","avatar","avatar_src","new_lock","postLockUtils","FormData","append","unlockNonce","navigator","sendBeacon","ajaxUrl","xhr","XMLHttpRequest","send","userDisplayName","userAvatar","unlockUrl","addQueryArgs","lockKey","_wpnonce","nonce","allPostsUrl","post_type","allPostsLabel","isPostLocked","isPostLockTakeover","getPostLockUser","getActivePostLock","withGlobalEvents","beforeunload","PostPendingStatusCheck","hasPublishAction","isPublished","isCurrentPostPublished","PostPendingStatus","status","onUpdateStatus","togglePendingStatus","updatedStatus","PostPermalinkEditor","permalinkParts","editedPostName","postName","onSavePermalink","cleanForSlug","prefix","suffix","getPermalinkParts","PostPermalink","addVisibilityCheck","onVisibilityChange","isCopied","isEditingPermalink","addEventListener","isEditable","refreshPost","visibilityState","prevState","linkElement","focus","removeEventListener","isNew","isViewable","postLink","postSlug","postID","postTitle","ariaLabel","safeDecodeURIComponent","samplePermalink","safeDecodeURI","isEditedPostNew","isPermalinkEditable","link","postTypeName","PostPingbacks","pingStatus","onTogglePingback","ping_status","writeInterstitialMessage","targetDocument","markup","renderToString","write","close","PostPreviewButton","openPreviewWindow","previewLink","setPreviewWindowLink","url","previewWindow","closed","location","getWindowTarget","isDraft","isPreview","currentPostLink","isSaveable","forcePreviewLink","forceIsAutosaveable","getCurrentPostAttribute","isEditedPostSaveable","getEditedPostPreviewLink","indexOf","PostPublishButton","buttonNode","createRef","focusOnMount","forceIsDirty","forceIsSaving","isBeingScheduled","isOpen","isPostSavingLocked","isPublishable","isSaving","isToggle","onStatusChange","onSubmit","visibility","isButtonDisabled","isToggleDisabled","publishStatus","onClickButton","onClickToggle","buttonProps","isBusy","isPrimary","toggleProps","toggleChildren","buttonChildren","componentProps","componentChildren","isSavingPost","isEditedPostBeingScheduled","getEditedPostVisibility","isEditedPostPublishable","undoIgnore","PublishButtonLabel","isPublishing","isPublishingPost","PostPublishPanel","isPostTypeViewable","isPublishSidebarEnabled","isScheduled","onTogglePublishSidebar","PostPublishExtension","PrePublishExtension","additionalProps","propsForPanel","isPublishedOrScheduled","isPrePublish","isPostPublish","isCurrentPostScheduled","disablePublishSidebar","enablePublishSidebar","withFocusReturn","withConstrainedTabbing","PostFormatSuggestion","suggestedPostFormat","suggestionText","PostFormatPanel","panelBodyTitle","getSuggestion","currentPostFormat","TagsPanel","MaybeTagsPanel","hadTagsWhenOpeningThePanel","hasTags","tagsTaxonomy","getTaxonomy","tags","rest_base","areTagsFetched","isPostTypeSupported","types","PostPublishPanelPostpublish","showCopyConfirmation","onCopy","onSelectInput","dismissCopyConfirmation","viewPostLabel","postPublishNonLinkHeader","PostPublishPanelPrepublish","prePublishTitle","prePublishBodyText","PostSavedState","forceSavedMessage","isPending","isLargeViewport","classes","animateClassName","withSafeTimeout","withViewportMatch","PostScheduleCheck","PostSchedule","date","onUpdateDate","settings","__experimentalGetSettings","is12HourTime","time","replace","split","reverse","join","PostScheduleLabel","isFloating","dateI18n","isEditedPostDateFloating","PostStickyCheck","hasStickyAction","PostSticky","onUpdateSticky","postSticky","sticky","PostSwitchToDraftButton","isMobileViewport","onSwitch","alertMessage","confirm","PostTaxonomiesCheck","taxonomies","hasTaxonomies","taxonomy","getTaxonomies","DEFAULT_QUERY","_fields","MAX_TERMS_SUGGESTIONS","isSameTermName","termA","termB","unescapeTerm","term","unescapeString","unescapeTerms","terms","FlatTermSelector","onChange","searchTerms","throttle","findOrCreateTerm","loading","availableTerms","selectedTerms","initRequest","fetchTerms","include","then","statusText","searchRequest","updateSelectedTerms","params","request","concat","availableTerm","reduce","result","termId","termObject","push","termName","termNameEscaped","escapeString","method","catch","errorCode","code","addRequest","searchResult","Promise","reject","termNames","uniqueTerms","uniqBy","newTermNames","termNamesToIds","names","onUpdateTerms","all","newTerms","newAvailableTerms","hasAssignAction","newTermLabel","singularName","termAddedLabel","termRemovedLabel","removeTermLabel","added","removed","remove","hasCreateAction","restBase","MIN_TERMS_COUNT_FOR_FILTER","HierarchicalTermSelector","findTerm","onChangeFormName","onChangeFormParent","onAddTerm","onToggleForm","sortBySelected","availableTermsTree","adding","formName","formParent","showForm","filteredTermsTree","parseInt","hasTerm","without","newValue","trim","newParent","existingTerm","findOrCreatePromise","termAddedMessage","speak","fetchRequest","termsTree","treeHasSelection","termTree","anyChildIsSelected","child","termOrChildIsSelected","termASelected","termBSelected","sort","getFilterMatcher","getResultCount","count","i","resultCount","resultsFoundMessage","debouncedSpeak","matchTermsForFilter","originalTerm","renderedTerms","renderTerms","labelWithFallback","labelProperty","fallbackIsCategory","fallbackIsNotCategory","newTermButtonLabel","parentSelectLabel","noParentOption","newTermSubmitLabel","inputId","filterInputId","filterLabel","groupLabel","showFilter","withSpokenMessages","PostTaxonomies","taxonomyWrapper","identity","availableTaxonomies","visibleTaxonomies","show_ui","TaxonomyComponent","hierarchical","PostTextEditor","edit","stopEditing","onPersist","REGEXP_NEWLINES","PostTitle","onUnselect","onKeyDown","redirectHistory","isSelected","clearSelectedBlock","newTitle","keyCode","ENTER","onEnterPress","hasFixedToolbar","isCleanNewPost","isFocusMode","placeholder","decodedPlaceholder","body","activeElement","getSettings","titlePlaceholder","focusMode","insertDefaultBlock","withFocusOutside","PostTrashCheck","PostTrash","trashPost","PostTypeSupportCheck","supportKeys","isSupported","castArray","supports","PostVisibilityCheck","render","canEdit","PostVisibility","setPublic","setPrivate","setPasswordProtected","updatePassword","hasPassword","password","onUpdateVisibility","visibilityHandlers","public","checked","private","visibilityOptions","info","PostVisibilityLabel","getVisibilityLabel","fetchLinkSuggestions","posts","UNINSTALL_ERROR_NOTICE_ID","EditorProvider","getBlockEditorSettings","memize","maxSize","recovery","postLock","setupEditor","initialEdits","editLink","reusableBlocks","hasUploadPermissions","canUserUseUnfilteredHTML","pick","__experimentalReusableBlocks","__experimentalMediaUpload","mediaUpload","__experimentalFetchLinkSuggestions","__experimentalCanUserUseUnfilteredHTML","updateEditorSettings","styles","updatedStyles","transformStyles","updatedCSS","node","createElement","innerHTML","appendChild","isEqual","downloadableBlocksToUninstall","blockType","uninstallBlock","unregisterBlockType","tearDownEditor","isReady","resetEditorBlocksWithoutUndoLevel","__experimentalBlockDirectory","withRegistryProvider","isEditorReady","__unstableIsEditorReady","getEditorBlocks","__experimentalGetReusableBlocks","canUser","getInstalledBlockTypes","differenceBy","defaultTo","__experimentalTearDownEditor","__unstableShouldCreateUndoLevel","createHigherOrderComponent","WrappedComponent","withRegistry","useSubRegistry","registry","subRegistry","setSubRegistry","newRegistry","createRegistry","blockEditorStoreConfig","store","registerStore","storeConfig","applyMiddlewares","ReusableBlocksButtons","ReusableBlockConvertButton","isVisible","isReusable","onConvertToStatic","onConvertToReusable","getReusableBlock","__experimentalGetReusableBlock","isReusableBlock","every","hasBlockSupport","convertBlockToReusable","__experimentalConvertBlockToReusable","convertBlockToStatic","__experimentalConvertBlockToStatic","ReusableBlockDeleteButton","onDelete","getBlock","reusableBlock","isTemporary","deleteReusableBlock","__experimentalDeleteReusableBlock","hasConfirmed","TableOfContents","hasBlocks","getBlockCount","TableOfContentsPanel","headingCount","paragraphCount","numberOfBlocks","onRequestClose","getGlobalBlockCount","TemplateValidationNotice","confirmSynchronization","synchronizeTemplate","resetTemplateValidity","isValidTemplate","setTemplateValidity","ThemeSupportCheck","supported","isArray","UnsavedChangesWarning","warnIfUnsavedChanges","returnValue","WordCount","wordCountType","wordCount","defaultAutocompleters","userAutocompleter","setDefaultCompleters","completers","blockName","clone","getDefaultBlockName","blockAutocompleter","addFilter","getBlocksWithSourcedAttributes","resetLastBlockSourceDependencies","__experimentalSubscribeSources","resetAutosave","lastBlockSourceDependenciesByRegistry","WeakMap","getRegistry","blockSourceDependencies","workingBlocks","entries","attributeName","schema","sources","source","apply","dependencies","sourcedAttributeValue","splice","appliedInnerBlocks","sourcesToUpdate","values","set","lastBlockSourceDependencies","getDependencies","isNewPost","synchronizeBlocksWithTemplate","resetPost","setupEditorState","awaitNextStateChange","STORE_KEY","isStillReady","reset","lastDependencies","isShallowEqual","newAutosave","__experimentalRequestPostUpdateStart","__experimentalRequestPostUpdateFinish","updatePost","__experimentalOptimisticUpdatePost","optimist","POST_UPDATE_TRANSACTION_ID","isAutosave","previousRecord","args","getNotificationArgumentsForSaveFail","updatedRecord","getNotificationArgumentsForSaveSuccess","previousPost","Date","now","newPost","TRASH_POST_NOTICE_ID","getNotificationArgumentsForTrashFail","createUndoLevel","__experimentalReceiveReusableBlocks","results","__experimentalSaveReusableBlock","__experimentalUpdateReusableBlock","changes","lockPostSaving","lockName","unlockPostSaving","lastBlockAttributesChange","updatedSources","Set","updatedBlockTypes","add","newAttributeValue","hasOwnProperty","update","Array","from","blocksForSerialization","serializeBlocks","getBlockEditorAction","resetBlocks","receiveBlocks","updateBlock","updateBlockAttributes","selectBlock","startMultiSelect","stopMultiSelect","multiSelect","toggleSelection","replaceBlock","moveBlocksDown","moveBlocksUp","moveBlockToPosition","insertBlock","insertBlocks","showInsertionPoint","hideInsertionPoint","mergeBlocks","removeBlocks","removeBlock","toggleBlockMode","startTyping","stopTyping","enterFormattedText","exitFormattedText","updateBlockListSettings","meta","EDIT_MERGE_PROPERTIES","SAVE_POST_NOTICE_ID","PERMALINK_POSTNAME_REGEX","ONE_MINUTE_IN_MS","AUTOSAVE_PROPERTIES","controls","AWAIT_NEXT_STATE_CHANGE","createRegistryControl","resolve","unsubscribe","subscribe","GET_REGISTRY","PREFERENCES_DEFAULTS","insertUsage","EDITOR_SETTINGS_DEFAULTS","SETTINGS_DEFAULTS","richEditingEnabled","codeEditingEnabled","enableCustomFields","FETCH_REUSABLE_BLOCKS","SAVE_REUSABLE_BLOCK","saveReusableBlocks","DELETE_REUSABLE_BLOCK","deleteReusableBlocks","CONVERT_BLOCK_TO_STATIC","CONVERT_BLOCK_TO_REUSABLE","REUSABLE_BLOCK_NOTICE_ID","compact","protected","receiveReusableBlocksAction","getState","updatedReusableBlock","updatedId","message","dataDispatch","createSuccessNotice","__unstableSaveReusableBlock","createErrorNotice","allBlocks","associatedBlocks","associatedBlockClientIds","transactionId","BEGIN","COMMIT","REVERT","oldBlock","serialize","saveReusableBlock","reducer","selectors","dataControls","persist","enhancedDispatch","Error","middlewareAPI","refx","effects","getPostRawValue","hasSameKeys","a","b","isUpdatingSamePostProperty","previousAction","shouldOverwriteState","shouldCreateUndoLevel","preferences","saving","pending","postSavingLock","postAutosavingLock","combineReducers","keyBy","isFetching","EMPTY_OBJECT","EMPTY_ARRAY","createRegistrySelector","hasChangedContent","getPostEdits","hasEditsForEntityRecord","getRawEntityRecord","getEntityRecordEdits","getNestedEditedPostProperty","getAutosaveAttribute","currentUserId","getCurrentUser","getAutosave","isCurrentPostPending","currentPost","isInTheFuture","getDate","isEditedPostEmpty","getFreeformContentHandlerName","isPostAutosavingLocked","hasFetchedAutosave","hasFetchedAutosaves","field","mapValues","hasAutosave","checkedDate","modified","isSavingEntityRecord","didPostSaveRequestSucceed","getLastEntitySaveError","didPostSaveRequestFail","isPreviewingPost","preview","_thumbnail_id","getBlocksForSerialization","hint","editor","present","isSingleUnmodifiedDefaultBlock","isUnmodifiedDefaultBlock","record","getEditedEntityRecord","createSelector","isNaN","__experimentalIsSavingReusableBlock","__experimentalIsFetchingReusableBlock","getStateBeforeOptimisticTransaction","transaction","entry","beforeState","stateBeforeRequest","permalinkTemplate","getPermalink","inSomeHistory","predicate","getBlockEditorSelector","isBlockValid","getBlockAttributes","__unstableGetBlockWithoutInnerBlocks","getClientIdsOfDescendants","getClientIdsWithDescendants","getBlockSelectionStart","getBlockSelectionEnd","getSelectedBlockCount","hasSelectedBlock","getSelectedBlock","getBlockHierarchyRootClientId","getAdjacentBlockClientId","getPreviousBlockClientId","getNextBlockClientId","getSelectedBlocksInitialCaretPosition","getMultiSelectedBlockClientIds","getMultiSelectedBlocks","getFirstMultiSelectedBlockClientId","getLastMultiSelectedBlockClientId","isFirstMultiSelectedBlock","isBlockMultiSelected","isAncestorMultiSelected","getMultiSelectedBlocksStartClientId","getMultiSelectedBlocksEndClientId","getBlockOrder","getBlockIndex","isBlockSelected","hasSelectedInnerBlock","isBlockWithinSelection","hasMultiSelection","isMultiSelecting","isSelectionEnabled","getBlockMode","isTyping","isCaretWithinFormattedText","isBlockInsertionPointVisible","getTemplate","getTemplateLock","hasInserterItems","getBlockListSettings","willPublish","noticeMessage","shouldShowLink","labels","item_reverted_to_draft","publish","item_published","item_published_privately","future","item_scheduled","item_updated","view_item","messages","memoize","removep","additionalData","allowedTypes","filesList","maxUploadFileSize","onFileChange","wpAllowedMimeTypes","allowedMimeTypes","uploadMedia","flatTerms","flatTermsWithParentAndChildren","termsByParent","groupBy","null","fillWithChildren","page","string","toLower","deburr"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;ACnEA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,iDAAiD,gBAAgB;AACjE;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;AClCA;AAAA;AAAe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACJA;AAAA;AAAA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA,C;;;;;;;;;;;;ACdA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAe;AACf;AACA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChBA;AAAA;AAAe;AACf;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACLA;AAAA;AAAA;AAA8C;AAC/B;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,kBAAkB,+DAAc;AAChC,C;;;;;;;;;;;;ACdA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,6CAA6C,+BAA+B;AAC5E;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACxBA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAe;AACf;AACA,C;;;;;;;;;;;;ACFA;AAAA;AAAA;AAA8C;AAC/B;AACf,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,MAAM,+DAAc;AACpB,KAAK;AACL;;AAEA;AACA,C;;;;;;;;;;;;AClBA;AAAA;AAAA;AAA0E;AAC3D;AACf;AACA,eAAe,6EAA4B;AAC3C;;AAEA;AACA;;AAEA,eAAe,6BAA6B;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AClBA;AAAA;AAAe;AACf;AACA;AACA;AACA;;AAEA,aAAa,uBAAuB;AACpC;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAA+C;AACa;AAC7C;AACf,eAAe,mEAAO;AACtB;AACA;;AAEA,SAAS,sEAAqB;AAC9B,C;;;;;;;;;;;;ACRA;AAAA;AAAe;AACf;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAAA;AAA8C;AACY;AACV;AACjC;AACf,SAAS,+DAAc,SAAS,qEAAoB,YAAY,gEAAe;AAC/E,C;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAoD;AACJ;AACI;AACrC;AACf,SAAS,kEAAiB,SAAS,gEAAe,SAAS,kEAAiB;AAC5E,C;;;;;;;;;;;;ACLA;AAAA;AAAA,wBAAwB,2EAA2E,oCAAoC,mBAAmB,GAAG,EAAE,OAAO,oCAAoC,8HAA8H,GAAG,EAAE,sBAAsB;;AAEpV;AACf;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAA0C;AAC/C,EAAE,iCAAO,CAAC,MAAQ,EAAE,OAAS,CAAC,oCAAE,OAAO;AAAA;AAAA;AAAA,oGAAC;AACxC,EAAE,MAAM,YAQN;AACF,CAAC;AACD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,0BAA0B,gBAAgB;AAC1C;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,+EAA+E;;AAE/E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI;;AAEJ;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,E;;;;;;;;;;;AC/RD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,gBAAgB;;AAEhB;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE,UAAU,IAA4E;AACxF;AACA,EAAE,iCAAqB,EAAE,mCAAE;AAC3B;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAEN;AACF,CAAC;;;;;;;;;;;;AC/CD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;;;;;;;;;;;AC1BA;AACA,oBAAoB,mBAAO,CAAC,oFAAgB;;AAE5C;AACA;AACA,WAAW,YAAY;AACvB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;;AAE7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AChGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,cAAc,SAAS;AACvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAM,KAA+B,GAAG,EAMtC;;AAEF;AACA;;;;;;;;;;;;;ACpHA;AACA;AACA;AACA;AACA;;AAEa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,oBAAoB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACzFA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,IAAI,IAAqC;AACzC,6BAA6B,mBAAO,CAAC,yFAA4B;AACjE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4GAA4G;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;;AAEA;;;;;;;;;;;;;ACrGA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,cAAc,mBAAO,CAAC,kDAAU;AAChC,aAAa,mBAAO,CAAC,4DAAe;;AAEpC,2BAA2B,mBAAO,CAAC,yFAA4B;AAC/D,qBAAqB,mBAAO,CAAC,qEAAkB;;AAE/C;AACA;;AAEA,IAAI,IAAqC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,QAAQ,IAAqC;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,UAAU,aAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,IAAqC;AAC/C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,KAAqC,4FAA4F,SAAM;AAC7I;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;AC9kBA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,IAAqC;AACzC,gBAAgB,mBAAO,CAAC,kDAAU;;AAElC;AACA;AACA;AACA,mBAAmB,mBAAO,CAAC,uFAA2B;AACtD,CAAC,MAAM,EAIN;;;;;;;;;;;;;AClBD;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA;;;;;;;;;;;;;ACXa;AACb;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc;AAC1E;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,oBAAO;AAC3B,gBAAgB,mBAAO,CAAC,sDAAY;AACpC,eAAe,mBAAO,CAAC,0DAAU;AACjC,qBAAqB,mBAAO,CAAC,kEAAa;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,UAAU,+DAA+D,UAAU,uBAAuB,qCAAqC;AAC7K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,iCAAiC,EAAE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,WAAW,sBAAsB;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;ACxHa;AACb;AACA,yBAAyB,mBAAO,CAAC,0FAAoB;AACrD;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;;;AAIb,IAAI,IAAqC;AACzC;AACA;;AAEA,8CAA8C,cAAc;;AAE5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,sFAAsF,aAAa;AACnG;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,4FAA4F,eAAe;AAC3G;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AClOa;;AAEb,IAAI,KAAqC,EAAE,EAE1C;AACD,mBAAmB,mBAAO,CAAC,0FAA+B;AAC1D;;;;;;;;;;;;ACNA,iBAAiB,mBAAO,CAAC,kEAAgB;;;;;;;;;;;;;ACA5B;;AAEb,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N;AACA;AACA;AACA,UAAU,6CAA6C,OAAO,WAAW;AACzE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iCAAiC,0CAA0C;AAC3E;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH;;AAEA;;AAEA;;AAEA,YAAY;AACZ;AACA,C;;;;;;;;;;;AC9JA;AACA,MAAM,IAA0B;AAChC;AACA,EAAE,MAAM,EAEN;AACF,CAAC;AACD;;AAEA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,qBAAqB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AChDD;AAAa;;AAEb;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB;AACA,YAAY,QAAQ;AACpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA;AACA;AACA,YAAY,SAAS;AACrB;AACe;AACf;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA,cAAc,uBAAuB;AACrC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;A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","file":"./build/editor/index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/editor/build-module/index.js\");\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","/*!\n\tautosize 4.0.2\n\tlicense: MIT\n\thttp://www.jacklmoore.com/autosize\n*/\n(function (global, factory) {\n\tif (typeof define === \"function\" && define.amd) {\n\t\tdefine(['module', 'exports'], factory);\n\t} else if (typeof exports !== \"undefined\") {\n\t\tfactory(module, exports);\n\t} else {\n\t\tvar mod = {\n\t\t\texports: {}\n\t\t};\n\t\tfactory(mod, mod.exports);\n\t\tglobal.autosize = mod.exports;\n\t}\n})(this, function (module, exports) {\n\t'use strict';\n\n\tvar map = typeof Map === \"function\" ? new Map() : function () {\n\t\tvar keys = [];\n\t\tvar values = [];\n\n\t\treturn {\n\t\t\thas: function has(key) {\n\t\t\t\treturn keys.indexOf(key) > -1;\n\t\t\t},\n\t\t\tget: function get(key) {\n\t\t\t\treturn values[keys.indexOf(key)];\n\t\t\t},\n\t\t\tset: function set(key, value) {\n\t\t\t\tif (keys.indexOf(key) === -1) {\n\t\t\t\t\tkeys.push(key);\n\t\t\t\t\tvalues.push(value);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdelete: function _delete(key) {\n\t\t\t\tvar index = keys.indexOf(key);\n\t\t\t\tif (index > -1) {\n\t\t\t\t\tkeys.splice(index, 1);\n\t\t\t\t\tvalues.splice(index, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}();\n\n\tvar createEvent = function createEvent(name) {\n\t\treturn new Event(name, { bubbles: true });\n\t};\n\ttry {\n\t\tnew Event('test');\n\t} catch (e) {\n\t\t// IE does not support `new Event()`\n\t\tcreateEvent = function createEvent(name) {\n\t\t\tvar evt = document.createEvent('Event');\n\t\t\tevt.initEvent(name, true, false);\n\t\t\treturn evt;\n\t\t};\n\t}\n\n\tfunction assign(ta) {\n\t\tif (!ta || !ta.nodeName || ta.nodeName !== 'TEXTAREA' || map.has(ta)) return;\n\n\t\tvar heightOffset = null;\n\t\tvar clientWidth = null;\n\t\tvar cachedHeight = null;\n\n\t\tfunction init() {\n\t\t\tvar style = window.getComputedStyle(ta, null);\n\n\t\t\tif (style.resize === 'vertical') {\n\t\t\t\tta.style.resize = 'none';\n\t\t\t} else if (style.resize === 'both') {\n\t\t\t\tta.style.resize = 'horizontal';\n\t\t\t}\n\n\t\t\tif (style.boxSizing === 'content-box') {\n\t\t\t\theightOffset = -(parseFloat(style.paddingTop) + parseFloat(style.paddingBottom));\n\t\t\t} else {\n\t\t\t\theightOffset = parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\t\t\t}\n\t\t\t// Fix when a textarea is not on document body and heightOffset is Not a Number\n\t\t\tif (isNaN(heightOffset)) {\n\t\t\t\theightOffset = 0;\n\t\t\t}\n\n\t\t\tupdate();\n\t\t}\n\n\t\tfunction changeOverflow(value) {\n\t\t\t{\n\t\t\t\t// Chrome/Safari-specific fix:\n\t\t\t\t// When the textarea y-overflow is hidden, Chrome/Safari do not reflow the text to account for the space\n\t\t\t\t// made available by removing the scrollbar. The following forces the necessary text reflow.\n\t\t\t\tvar width = ta.style.width;\n\t\t\t\tta.style.width = '0px';\n\t\t\t\t// Force reflow:\n\t\t\t\t/* jshint ignore:start */\n\t\t\t\tta.offsetWidth;\n\t\t\t\t/* jshint ignore:end */\n\t\t\t\tta.style.width = width;\n\t\t\t}\n\n\t\t\tta.style.overflowY = value;\n\t\t}\n\n\t\tfunction getParentOverflows(el) {\n\t\t\tvar arr = [];\n\n\t\t\twhile (el && el.parentNode && el.parentNode instanceof Element) {\n\t\t\t\tif (el.parentNode.scrollTop) {\n\t\t\t\t\tarr.push({\n\t\t\t\t\t\tnode: el.parentNode,\n\t\t\t\t\t\tscrollTop: el.parentNode.scrollTop\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tel = el.parentNode;\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t\tfunction resize() {\n\t\t\tif (ta.scrollHeight === 0) {\n\t\t\t\t// If the scrollHeight is 0, then the element probably has display:none or is detached from the DOM.\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar overflows = getParentOverflows(ta);\n\t\t\tvar docTop = document.documentElement && document.documentElement.scrollTop; // Needed for Mobile IE (ticket #240)\n\n\t\t\tta.style.height = '';\n\t\t\tta.style.height = ta.scrollHeight + heightOffset + 'px';\n\n\t\t\t// used to check if an update is actually necessary on window.resize\n\t\t\tclientWidth = ta.clientWidth;\n\n\t\t\t// prevents scroll-position jumping\n\t\t\toverflows.forEach(function (el) {\n\t\t\t\tel.node.scrollTop = el.scrollTop;\n\t\t\t});\n\n\t\t\tif (docTop) {\n\t\t\t\tdocument.documentElement.scrollTop = docTop;\n\t\t\t}\n\t\t}\n\n\t\tfunction update() {\n\t\t\tresize();\n\n\t\t\tvar styleHeight = Math.round(parseFloat(ta.style.height));\n\t\t\tvar computed = window.getComputedStyle(ta, null);\n\n\t\t\t// Using offsetHeight as a replacement for computed.height in IE, because IE does not account use of border-box\n\t\t\tvar actualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(computed.height)) : ta.offsetHeight;\n\n\t\t\t// The actual height not matching the style height (set via the resize method) indicates that \n\t\t\t// the max-height has been exceeded, in which case the overflow should be allowed.\n\t\t\tif (actualHeight < styleHeight) {\n\t\t\t\tif (computed.overflowY === 'hidden') {\n\t\t\t\t\tchangeOverflow('scroll');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Normally keep overflow set to hidden, to avoid flash of scrollbar as the textarea expands.\n\t\t\t\tif (computed.overflowY !== 'hidden') {\n\t\t\t\t\tchangeOverflow('hidden');\n\t\t\t\t\tresize();\n\t\t\t\t\tactualHeight = computed.boxSizing === 'content-box' ? Math.round(parseFloat(window.getComputedStyle(ta, null).height)) : ta.offsetHeight;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cachedHeight !== actualHeight) {\n\t\t\t\tcachedHeight = actualHeight;\n\t\t\t\tvar evt = createEvent('autosize:resized');\n\t\t\t\ttry {\n\t\t\t\t\tta.dispatchEvent(evt);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Firefox will throw an error on dispatchEvent for a detached element\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=889376\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar pageResize = function pageResize() {\n\t\t\tif (ta.clientWidth !== clientWidth) {\n\t\t\t\tupdate();\n\t\t\t}\n\t\t};\n\n\t\tvar destroy = function (style) {\n\t\t\twindow.removeEventListener('resize', pageResize, false);\n\t\t\tta.removeEventListener('input', update, false);\n\t\t\tta.removeEventListener('keyup', update, false);\n\t\t\tta.removeEventListener('autosize:destroy', destroy, false);\n\t\t\tta.removeEventListener('autosize:update', update, false);\n\n\t\t\tObject.keys(style).forEach(function (key) {\n\t\t\t\tta.style[key] = style[key];\n\t\t\t});\n\n\t\t\tmap.delete(ta);\n\t\t}.bind(ta, {\n\t\t\theight: ta.style.height,\n\t\t\tresize: ta.style.resize,\n\t\t\toverflowY: ta.style.overflowY,\n\t\t\toverflowX: ta.style.overflowX,\n\t\t\twordWrap: ta.style.wordWrap\n\t\t});\n\n\t\tta.addEventListener('autosize:destroy', destroy, false);\n\n\t\t// IE9 does not fire onpropertychange or oninput for deletions,\n\t\t// so binding to onkeyup to catch most of those events.\n\t\t// There is no way that I know of to detect something like 'cut' in IE9.\n\t\tif ('onpropertychange' in ta && 'oninput' in ta) {\n\t\t\tta.addEventListener('keyup', update, false);\n\t\t}\n\n\t\twindow.addEventListener('resize', pageResize, false);\n\t\tta.addEventListener('input', update, false);\n\t\tta.addEventListener('autosize:update', update, false);\n\t\tta.style.overflowX = 'hidden';\n\t\tta.style.wordWrap = 'break-word';\n\n\t\tmap.set(ta, {\n\t\t\tdestroy: destroy,\n\t\t\tupdate: update\n\t\t});\n\n\t\tinit();\n\t}\n\n\tfunction destroy(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.destroy();\n\t\t}\n\t}\n\n\tfunction update(ta) {\n\t\tvar methods = map.get(ta);\n\t\tif (methods) {\n\t\t\tmethods.update();\n\t\t}\n\t}\n\n\tvar autosize = null;\n\n\t// Do nothing in Node.js environment and IE8 (or lower)\n\tif (typeof window === 'undefined' || typeof window.getComputedStyle !== 'function') {\n\t\tautosize = function autosize(el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\treturn el;\n\t\t};\n\t} else {\n\t\tautosize = function autosize(el, options) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], function (x) {\n\t\t\t\t\treturn assign(x, options);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.destroy = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], destroy);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t\tautosize.update = function (el) {\n\t\t\tif (el) {\n\t\t\t\tArray.prototype.forEach.call(el.length ? el : [el], update);\n\t\t\t}\n\t\t\treturn el;\n\t\t};\n\t}\n\n\texports.default = autosize;\n\tmodule.exports = exports['default'];\n});","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// This code has been refactored for 140 bytes\n// You can see the original here: https://github.com/twolfson/computedStyle/blob/04cd1da2e30fa45844f95f5cb1ac898e9b9ef050/lib/computedStyle.js\nvar computedStyle = function (el, prop, getComputedStyle) {\n  getComputedStyle = window.getComputedStyle;\n\n  // In one fell swoop\n  return (\n    // If we have getComputedStyle\n    getComputedStyle ?\n      // Query it\n      // TODO: From CSS-Query notes, we might need (node, null) for FF\n      getComputedStyle(el) :\n\n    // Otherwise, we are in IE and use currentStyle\n      el.currentStyle\n  )[\n    // Switch to camelCase for CSSOM\n    // DEV: Grabbed from jQuery\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/css.js#L191-L194\n    // https://github.com/jquery/jquery/blob/1.9-stable/src/core.js#L593-L597\n    prop.replace(/-(\\w)/gi, function (word, letter) {\n      return letter.toUpperCase();\n    })\n  ];\n};\n\nmodule.exports = computedStyle;\n","// Load in dependencies\nvar computedStyle = require('computed-style');\n\n/**\n * Calculate the `line-height` of a given node\n * @param {HTMLElement} node Element to calculate line height of. Must be in the DOM.\n * @returns {Number} `line-height` of the element in pixels\n */\nfunction lineHeight(node) {\n  // Grab the line-height via style\n  var lnHeightStr = computedStyle(node, 'line-height');\n  var lnHeight = parseFloat(lnHeightStr, 10);\n\n  // If the lineHeight did not contain a unit (i.e. it was numeric), convert it to ems (e.g. '2.3' === '2.3em')\n  if (lnHeightStr === lnHeight + '') {\n    // Save the old lineHeight style and update the em unit to the element\n    var _lnHeightStyle = node.style.lineHeight;\n    node.style.lineHeight = lnHeightStr + 'em';\n\n    // Calculate the em based height\n    lnHeightStr = computedStyle(node, 'line-height');\n    lnHeight = parseFloat(lnHeightStr, 10);\n\n    // Revert the lineHeight style\n    if (_lnHeightStyle) {\n      node.style.lineHeight = _lnHeightStyle;\n    } else {\n      delete node.style.lineHeight;\n    }\n  }\n\n  // If the lineHeight is in `pt`, convert it to pixels (4px for 3pt)\n  // DEV: `em` units are converted to `pt` in IE6\n  // Conversion ratio from https://developer.mozilla.org/en-US/docs/Web/CSS/length\n  if (lnHeightStr.indexOf('pt') !== -1) {\n    lnHeight *= 4;\n    lnHeight /= 3;\n  // Otherwise, if the lineHeight is in `mm`, convert it to pixels (96px for 25.4mm)\n  } else if (lnHeightStr.indexOf('mm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 25.4;\n  // Otherwise, if the lineHeight is in `cm`, convert it to pixels (96px for 2.54cm)\n  } else if (lnHeightStr.indexOf('cm') !== -1) {\n    lnHeight *= 96;\n    lnHeight /= 2.54;\n  // Otherwise, if the lineHeight is in `in`, convert it to pixels (96px for 1in)\n  } else if (lnHeightStr.indexOf('in') !== -1) {\n    lnHeight *= 96;\n  // Otherwise, if the lineHeight is in `pc`, convert it to pixels (12pt for 1pc)\n  } else if (lnHeightStr.indexOf('pc') !== -1) {\n    lnHeight *= 16;\n  }\n\n  // Continue our computation\n  lnHeight = Math.round(lnHeight);\n\n  // If the line-height is \"normal\", calculate by font-size\n  if (lnHeightStr === 'normal') {\n    // Create a temporary node\n    var nodeName = node.nodeName;\n    var _node = document.createElement(nodeName);\n    _node.innerHTML = '&nbsp;';\n\n    // If we have a text area, reset it to only 1 row\n    // https://github.com/twolfson/line-height/issues/4\n    if (nodeName.toUpperCase() === 'TEXTAREA') {\n      _node.setAttribute('rows', '1');\n    }\n\n    // Set the font-size of the element\n    var fontSizeStr = computedStyle(node, 'font-size');\n    _node.style.fontSize = fontSizeStr;\n\n    // Remove default padding/border which can affect offset height\n    // https://github.com/twolfson/line-height/issues/4\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight\n    _node.style.padding = '0px';\n    _node.style.border = '0px';\n\n    // Append it to the body\n    var body = document.body;\n    body.appendChild(_node);\n\n    // Assume the line height of the element is the height\n    var height = _node.offsetHeight;\n    lnHeight = height;\n\n    // Remove our child from the DOM\n    body.removeChild(_node);\n  }\n\n  // Return the calculated height\n  return lnHeight;\n}\n\n// Export lineHeight\nmodule.exports = lineHeight;\n","module.exports = function memize( fn, options ) {\n\tvar size = 0,\n\t\tmaxSize, head, tail;\n\n\tif ( options && options.maxSize ) {\n\t\tmaxSize = options.maxSize;\n\t}\n\n\tfunction memoized( /* ...args */ ) {\n\t\tvar node = head,\n\t\t\tlen = arguments.length,\n\t\t\targs, i;\n\n\t\tsearchCache: while ( node ) {\n\t\t\t// Perform a shallow equality test to confirm that whether the node\n\t\t\t// under test is a candidate for the arguments passed. Two arrays\n\t\t\t// are shallowly equal if their length matches and each entry is\n\t\t\t// strictly equal between the two sets. Avoid abstracting to a\n\t\t\t// function which could incur an arguments leaking deoptimization.\n\n\t\t\t// Check whether node arguments match arguments length\n\t\t\tif ( node.args.length !== arguments.length ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Check whether node arguments match arguments values\n\t\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\t\tif ( node.args[ i ] !== arguments[ i ] ) {\n\t\t\t\t\tnode = node.next;\n\t\t\t\t\tcontinue searchCache;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== head ) {\n\t\t\t\t// As tail, shift to previous. Must only shift if not also\n\t\t\t\t// head, since if both head and tail, there is no previous.\n\t\t\t\tif ( node === tail ) {\n\t\t\t\t\ttail = node.prev;\n\t\t\t\t}\n\n\t\t\t\t// Adjust siblings to point to each other. If node was tail,\n\t\t\t\t// this also handles new tail's empty `next` assignment.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = head;\n\t\t\t\tnode.prev = null;\n\t\t\t\thead.prev = node;\n\t\t\t\thead = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\t// Create a copy of arguments (avoid leaking deoptimization)\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tnode = {\n\t\t\targs: args,\n\n\t\t\t// Generate the result from original function\n\t\t\tval: fn.apply( null, args )\n\t\t};\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( head ) {\n\t\t\thead.prev = node;\n\t\t\tnode.next = head;\n\t\t} else {\n\t\t\t// If no head, follows that there's no tail (at initial or reset)\n\t\t\ttail = node;\n\t\t}\n\n\t\t// Trim tail if we're reached max size and are pending cache insertion\n\t\tif ( size === maxSize ) {\n\t\t\ttail = tail.prev;\n\t\t\ttail.next = null;\n\t\t} else {\n\t\t\tsize++;\n\t\t}\n\n\t\thead = node;\n\n\t\treturn node.val;\n\t}\n\n\tmemoized.clear = function() {\n\t\thead = null;\n\t\ttail = null;\n\t\tsize = 0;\n\t};\n\n\tif ( process.env.NODE_ENV === 'test' ) {\n\t\t// Cache is not exposed in the public API, but used in tests to ensure\n\t\t// expected list progression\n\t\tmemoized.getCache = function() {\n\t\t\treturn [ head, tail, size ];\n\t\t};\n\t}\n\n\treturn memoized;\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = Function.call.bind(Object.prototype.hasOwnProperty);\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar has = Function.call.bind(Object.prototype.hasOwnProperty);\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName  + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from\n      // props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' +  JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nexports.__esModule = true;\nvar React = require(\"react\");\nvar PropTypes = require(\"prop-types\");\nvar autosize = require(\"autosize\");\nvar _getLineHeight = require(\"line-height\");\nvar getLineHeight = _getLineHeight;\nvar UPDATE = 'autosize:update';\nvar DESTROY = 'autosize:destroy';\nvar RESIZED = 'autosize:resized';\n/**\n * A light replacement for built-in textarea component\n * which automaticaly adjusts its height to match the content\n */\nvar TextareaAutosize = /** @class */ (function (_super) {\n    __extends(TextareaAutosize, _super);\n    function TextareaAutosize() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            lineHeight: null\n        };\n        _this.dispatchEvent = function (EVENT_TYPE) {\n            var event = document.createEvent('Event');\n            event.initEvent(EVENT_TYPE, true, false);\n            _this.textarea.dispatchEvent(event);\n        };\n        _this.updateLineHeight = function () {\n            _this.setState({\n                lineHeight: getLineHeight(_this.textarea)\n            });\n        };\n        _this.onChange = function (e) {\n            var onChange = _this.props.onChange;\n            _this.currentValue = e.currentTarget.value;\n            onChange && onChange(e);\n        };\n        _this.saveDOMNodeRef = function (ref) {\n            var innerRef = _this.props.innerRef;\n            if (innerRef) {\n                innerRef(ref);\n            }\n            _this.textarea = ref;\n        };\n        _this.getLocals = function () {\n            var _a = _this, _b = _a.props, onResize = _b.onResize, maxRows = _b.maxRows, onChange = _b.onChange, style = _b.style, innerRef = _b.innerRef, props = __rest(_b, [\"onResize\", \"maxRows\", \"onChange\", \"style\", \"innerRef\"]), lineHeight = _a.state.lineHeight, saveDOMNodeRef = _a.saveDOMNodeRef;\n            var maxHeight = maxRows && lineHeight ? lineHeight * maxRows : null;\n            return __assign({}, props, { saveDOMNodeRef: saveDOMNodeRef, style: maxHeight ? __assign({}, style, { maxHeight: maxHeight }) : style, onChange: _this.onChange });\n        };\n        return _this;\n    }\n    TextareaAutosize.prototype.componentDidMount = function () {\n        var _this = this;\n        var _a = this.props, onResize = _a.onResize, maxRows = _a.maxRows;\n        if (typeof maxRows === 'number') {\n            this.updateLineHeight();\n        }\n        /*\n          the defer is needed to:\n            - force \"autosize\" to activate the scrollbar when this.props.maxRows is passed\n            - support StyledComponents (see #71)\n        */\n        setTimeout(function () { return autosize(_this.textarea); });\n        if (onResize) {\n            this.textarea.addEventListener(RESIZED, onResize);\n        }\n    };\n    TextareaAutosize.prototype.componentWillUnmount = function () {\n        var onResize = this.props.onResize;\n        if (onResize) {\n            this.textarea.removeEventListener(RESIZED, onResize);\n        }\n        this.dispatchEvent(DESTROY);\n    };\n    TextareaAutosize.prototype.render = function () {\n        var _a = this.getLocals(), children = _a.children, saveDOMNodeRef = _a.saveDOMNodeRef, locals = __rest(_a, [\"children\", \"saveDOMNodeRef\"]);\n        return (React.createElement(\"textarea\", __assign({}, locals, { ref: saveDOMNodeRef }), children));\n    };\n    TextareaAutosize.prototype.componentDidUpdate = function () {\n        if (this.props.value !== this.currentValue) {\n            this.dispatchEvent(UPDATE);\n        }\n    };\n    TextareaAutosize.defaultProps = {\n        rows: 1\n    };\n    TextareaAutosize.propTypes = {\n        rows: PropTypes.number,\n        maxRows: PropTypes.number,\n        onResize: PropTypes.func,\n        innerRef: PropTypes.func\n    };\n    return TextareaAutosize;\n}(React.Component));\nexports[\"default\"] = TextareaAutosize;\n","\"use strict\";\nexports.__esModule = true;\nvar TextareaAutosize_1 = require(\"./TextareaAutosize\");\nexports[\"default\"] = TextareaAutosize_1[\"default\"];\n","/** @license React v16.8.4\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\n\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace;\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' ||\n  // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE);\n}\n\n/**\n * Forked from fbjs/warning:\n * https://github.com/facebook/fbjs/blob/e66ba20ad5be433eb54423f2b097d829324d9de6/packages/fbjs/src/__forks__/warning.js\n *\n * Only change is we use console.warn instead of console.error,\n * and do nothing when 'console' is not supported.\n * This really simplifies the code.\n * ---\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar lowPriorityWarning = function () {};\n\n{\n  var printWarning = function (format) {\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var argIndex = 0;\n    var message = 'Warning: ' + format.replace(/%s/g, function () {\n      return args[argIndex++];\n    });\n    if (typeof console !== 'undefined') {\n      console.warn(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n\n  lowPriorityWarning = function (condition, format) {\n    if (format === undefined) {\n      throw new Error('`lowPriorityWarning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n    if (!condition) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n        args[_key2 - 2] = arguments[_key2];\n      }\n\n      printWarning.apply(undefined, [format].concat(args));\n    }\n  };\n}\n\nvar lowPriorityWarning$1 = lowPriorityWarning;\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n              default:\n                return $$typeof;\n            }\n        }\n      case REACT_LAZY_TYPE:\n      case REACT_MEMO_TYPE:\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n}\n\n// AsyncMode is deprecated along with isAsyncMode\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\n\nvar hasWarnedAboutDeprecatedIsAsyncMode = false;\n\n// AsyncMode should be deprecated\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true;\n      lowPriorityWarning$1(false, 'The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.typeOf = typeOf;\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isValidElementType = isValidElementType;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\n  })();\n}\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","module.exports = require('./lib/index.js');\n","'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar BEGIN = 'BEGIN';\nvar COMMIT = 'COMMIT';\nvar REVERT = 'REVERT';\n// Array({transactionID: string or null, beforeState: {object}, action: {object}}\nvar INITIAL_OPTIMIST = [];\n\nmodule.exports = optimist;\nmodule.exports.BEGIN = BEGIN;\nmodule.exports.COMMIT = COMMIT;\nmodule.exports.REVERT = REVERT;\nfunction optimist(fn) {\n  function beginReducer(state, action) {\n    var _separateState = separateState(state);\n\n    var optimist = _separateState.optimist;\n    var innerState = _separateState.innerState;\n\n    optimist = optimist.concat([{ beforeState: innerState, action: action }]);\n    innerState = fn(innerState, action);\n    validateState(innerState, action);\n    return _extends({ optimist: optimist }, innerState);\n  }\n  function commitReducer(state, action) {\n    var _separateState2 = separateState(state);\n\n    var optimist = _separateState2.optimist;\n    var innerState = _separateState2.innerState;\n\n    var newOptimist = [],\n        started = false,\n        committed = false;\n    optimist.forEach(function (entry) {\n      if (started) {\n        if (entry.beforeState && matchesTransaction(entry.action, action.optimist.id)) {\n          committed = true;\n          newOptimist.push({ action: entry.action });\n        } else {\n          newOptimist.push(entry);\n        }\n      } else if (entry.beforeState && !matchesTransaction(entry.action, action.optimist.id)) {\n        started = true;\n        newOptimist.push(entry);\n      } else if (entry.beforeState && matchesTransaction(entry.action, action.optimist.id)) {\n        committed = true;\n      }\n    });\n    if (!committed) {\n      console.error('Cannot commit transaction with id \"' + action.optimist.id + '\" because it does not exist');\n    }\n    optimist = newOptimist;\n    return baseReducer(optimist, innerState, action);\n  }\n  function revertReducer(state, action) {\n    var _separateState3 = separateState(state);\n\n    var optimist = _separateState3.optimist;\n    var innerState = _separateState3.innerState;\n\n    var newOptimist = [],\n        started = false,\n        gotInitialState = false,\n        currentState = innerState;\n    optimist.forEach(function (entry) {\n      if (entry.beforeState && matchesTransaction(entry.action, action.optimist.id)) {\n        currentState = entry.beforeState;\n        gotInitialState = true;\n      }\n      if (!matchesTransaction(entry.action, action.optimist.id)) {\n        if (entry.beforeState) {\n          started = true;\n        }\n        if (started) {\n          if (gotInitialState && entry.beforeState) {\n            newOptimist.push({\n              beforeState: currentState,\n              action: entry.action\n            });\n          } else {\n            newOptimist.push(entry);\n          }\n        }\n        if (gotInitialState) {\n          currentState = fn(currentState, entry.action);\n          validateState(innerState, action);\n        }\n      }\n    });\n    if (!gotInitialState) {\n      console.error('Cannot revert transaction with id \"' + action.optimist.id + '\" because it does not exist');\n    }\n    optimist = newOptimist;\n    return baseReducer(optimist, currentState, action);\n  }\n  function baseReducer(optimist, innerState, action) {\n    if (optimist.length) {\n      optimist = optimist.concat([{ action: action }]);\n    }\n    innerState = fn(innerState, action);\n    validateState(innerState, action);\n    return _extends({ optimist: optimist }, innerState);\n  }\n  return function (state, action) {\n    if (action.optimist) {\n      switch (action.optimist.type) {\n        case BEGIN:\n          return beginReducer(state, action);\n        case COMMIT:\n          return commitReducer(state, action);\n        case REVERT:\n          return revertReducer(state, action);\n      }\n    }\n\n    var _separateState4 = separateState(state);\n\n    var optimist = _separateState4.optimist;\n    var innerState = _separateState4.innerState;\n\n    if (state && !optimist.length) {\n      var nextState = fn(innerState, action);\n      if (nextState === innerState) {\n        return state;\n      }\n      validateState(nextState, action);\n      return _extends({ optimist: optimist }, nextState);\n    }\n    return baseReducer(optimist, innerState, action);\n  };\n}\n\nfunction matchesTransaction(action, id) {\n  return action.optimist && action.optimist.id === id;\n}\n\nfunction validateState(newState, action) {\n  if (!newState || typeof newState !== 'object' || Array.isArray(newState)) {\n    throw new TypeError('Error while handling \"' + action.type + '\": Optimist requires that state is always a plain object.');\n  }\n}\n\nfunction separateState(state) {\n  if (!state) {\n    return { optimist: INITIAL_OPTIMIST, innerState: state };\n  } else {\n    var _state$optimist = state.optimist;\n\n    var _optimist = _state$optimist === undefined ? INITIAL_OPTIMIST : _state$optimist;\n\n    var innerState = _objectWithoutProperties(state, ['optimist']);\n\n    return { optimist: _optimist, innerState: innerState };\n  }\n}","( function( factory ) {\n\tif ( 'object' === typeof module ) {\n\t\tmodule.exports = factory();\n\t} else {\n\t\tthis.refx = factory();\n\t}\n} )( function() {\n\t'use strict';\n\n\tfunction flattenIntoMap( map, effects ) {\n\t\tvar i;\n\t\tif ( Array.isArray( effects ) ) {\n\t\t\tfor ( i = 0; i < effects.length; i++ ) {\n\t\t\t\tflattenIntoMap( map, effects[ i ] );\n\t\t\t}\n\t\t} else {\n\t\t\tfor ( i in effects ) {\n\t\t\t\tmap[ i ] = ( map[ i ] || [] ).concat( effects[ i ] );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn function( effects ) {\n\t\tvar map = {};\n\n\t\tflattenIntoMap( map, effects );\n\n\t\treturn function( store ) {\n\t\t\treturn function( next ) {\n\t\t\t\treturn function( action ) {\n\t\t\t\t\tvar handlers = map[ action.type ],\n\t\t\t\t\t\tresult = next( action ),\n\t\t\t\t\t\ti, handlerAction;\n\n\t\t\t\t\tif ( handlers ) {\n\t\t\t\t\t\tfor ( i = 0; i < handlers.length; i++ ) {\n\t\t\t\t\t\t\thandlerAction = handlers[ i ]( action, store );\n\t\t\t\t\t\t\tif ( handlerAction ) {\n\t\t\t\t\t\t\t\tstore.dispatch( handlerAction );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\t\t\t};\n\t\t};\n\t};\n} );\n","'use strict';\n\nvar LEAF_KEY, hasWeakMap;\n\n/**\n * Arbitrary value used as key for referencing cache object in WeakMap tree.\n *\n * @type {Object}\n */\nLEAF_KEY = {};\n\n/**\n * Whether environment supports WeakMap.\n *\n * @type {boolean}\n */\nhasWeakMap = typeof WeakMap !== 'undefined';\n\n/**\n * Returns the first argument as the sole entry in an array.\n *\n * @param {*} value Value to return.\n *\n * @return {Array} Value returned as entry in array.\n */\nfunction arrayOf( value ) {\n\treturn [ value ];\n}\n\n/**\n * Returns true if the value passed is object-like, or false otherwise. A value\n * is object-like if it can support property assignment, e.g. object or array.\n *\n * @param {*} value Value to test.\n *\n * @return {boolean} Whether value is object-like.\n */\nfunction isObjectLike( value ) {\n\treturn !! value && 'object' === typeof value;\n}\n\n/**\n * Creates and returns a new cache object.\n *\n * @return {Object} Cache object.\n */\nfunction createCache() {\n\tvar cache = {\n\t\tclear: function() {\n\t\t\tcache.head = null;\n\t\t},\n\t};\n\n\treturn cache;\n}\n\n/**\n * Returns true if entries within the two arrays are strictly equal by\n * reference from a starting index.\n *\n * @param {Array}  a         First array.\n * @param {Array}  b         Second array.\n * @param {number} fromIndex Index from which to start comparison.\n *\n * @return {boolean} Whether arrays are shallowly equal.\n */\nfunction isShallowEqual( a, b, fromIndex ) {\n\tvar i;\n\n\tif ( a.length !== b.length ) {\n\t\treturn false;\n\t}\n\n\tfor ( i = fromIndex; i < a.length; i++ ) {\n\t\tif ( a[ i ] !== b[ i ] ) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\n/**\n * Returns a memoized selector function. The getDependants function argument is\n * called before the memoized selector and is expected to return an immutable\n * reference or array of references on which the selector depends for computing\n * its own return value. The memoize cache is preserved only as long as those\n * dependant references remain the same. If getDependants returns a different\n * reference(s), the cache is cleared and the selector value regenerated.\n *\n * @param {Function} selector      Selector function.\n * @param {Function} getDependants Dependant getter returning an immutable\n *                                 reference or array of reference used in\n *                                 cache bust consideration.\n *\n * @return {Function} Memoized selector.\n */\nexport default function( selector, getDependants ) {\n\tvar rootCache, getCache;\n\n\t// Use object source as dependant if getter not provided\n\tif ( ! getDependants ) {\n\t\tgetDependants = arrayOf;\n\t}\n\n\t/**\n\t * Returns the root cache. If WeakMap is supported, this is assigned to the\n\t * root WeakMap cache set, otherwise it is a shared instance of the default\n\t * cache object.\n\t *\n\t * @return {(WeakMap|Object)} Root cache object.\n\t */\n\tfunction getRootCache() {\n\t\treturn rootCache;\n\t}\n\n\t/**\n\t * Returns the cache for a given dependants array. When possible, a WeakMap\n\t * will be used to create a unique cache for each set of dependants. This\n\t * is feasible due to the nature of WeakMap in allowing garbage collection\n\t * to occur on entries where the key object is no longer referenced. Since\n\t * WeakMap requires the key to be an object, this is only possible when the\n\t * dependant is object-like. The root cache is created as a hierarchy where\n\t * each top-level key is the first entry in a dependants set, the value a\n\t * WeakMap where each key is the next dependant, and so on. This continues\n\t * so long as the dependants are object-like. If no dependants are object-\n\t * like, then the cache is shared across all invocations.\n\t *\n\t * @see isObjectLike\n\t *\n\t * @param {Array} dependants Selector dependants.\n\t *\n\t * @return {Object} Cache object.\n\t */\n\tfunction getWeakMapCache( dependants ) {\n\t\tvar caches = rootCache,\n\t\t\tisUniqueByDependants = true,\n\t\t\ti, dependant, map, cache;\n\n\t\tfor ( i = 0; i < dependants.length; i++ ) {\n\t\t\tdependant = dependants[ i ];\n\n\t\t\t// Can only compose WeakMap from object-like key.\n\t\t\tif ( ! isObjectLike( dependant ) ) {\n\t\t\t\tisUniqueByDependants = false;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// Does current segment of cache already have a WeakMap?\n\t\t\tif ( caches.has( dependant ) ) {\n\t\t\t\t// Traverse into nested WeakMap.\n\t\t\t\tcaches = caches.get( dependant );\n\t\t\t} else {\n\t\t\t\t// Create, set, and traverse into a new one.\n\t\t\t\tmap = new WeakMap();\n\t\t\t\tcaches.set( dependant, map );\n\t\t\t\tcaches = map;\n\t\t\t}\n\t\t}\n\n\t\t// We use an arbitrary (but consistent) object as key for the last item\n\t\t// in the WeakMap to serve as our running cache.\n\t\tif ( ! caches.has( LEAF_KEY ) ) {\n\t\t\tcache = createCache();\n\t\t\tcache.isUniqueByDependants = isUniqueByDependants;\n\t\t\tcaches.set( LEAF_KEY, cache );\n\t\t}\n\n\t\treturn caches.get( LEAF_KEY );\n\t}\n\n\t// Assign cache handler by availability of WeakMap\n\tgetCache = hasWeakMap ? getWeakMapCache : getRootCache;\n\n\t/**\n\t * Resets root memoization cache.\n\t */\n\tfunction clear() {\n\t\trootCache = hasWeakMap ? new WeakMap() : createCache();\n\t}\n\n\t// eslint-disable-next-line jsdoc/check-param-names\n\t/**\n\t * The augmented selector call, considering first whether dependants have\n\t * changed before passing it to underlying memoize function.\n\t *\n\t * @param {Object} source    Source object for derivation.\n\t * @param {...*}   extraArgs Additional arguments to pass to selector.\n\t *\n\t * @return {*} Selector result.\n\t */\n\tfunction callSelector( /* source, ...extraArgs */ ) {\n\t\tvar len = arguments.length,\n\t\t\tcache, node, i, args, dependants;\n\n\t\t// Create copy of arguments (avoid leaking deoptimization).\n\t\targs = new Array( len );\n\t\tfor ( i = 0; i < len; i++ ) {\n\t\t\targs[ i ] = arguments[ i ];\n\t\t}\n\n\t\tdependants = getDependants.apply( null, args );\n\t\tcache = getCache( dependants );\n\n\t\t// If not guaranteed uniqueness by dependants (primitive type or lack\n\t\t// of WeakMap support), shallow compare against last dependants and, if\n\t\t// references have changed, destroy cache to recalculate result.\n\t\tif ( ! cache.isUniqueByDependants ) {\n\t\t\tif ( cache.lastDependants && ! isShallowEqual( dependants, cache.lastDependants, 0 ) ) {\n\t\t\t\tcache.clear();\n\t\t\t}\n\n\t\t\tcache.lastDependants = dependants;\n\t\t}\n\n\t\tnode = cache.head;\n\t\twhile ( node ) {\n\t\t\t// Check whether node arguments match arguments\n\t\t\tif ( ! isShallowEqual( node.args, args, 1 ) ) {\n\t\t\t\tnode = node.next;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// At this point we can assume we've found a match\n\n\t\t\t// Surface matched node to head if not already\n\t\t\tif ( node !== cache.head ) {\n\t\t\t\t// Adjust siblings to point to each other.\n\t\t\t\tnode.prev.next = node.next;\n\t\t\t\tif ( node.next ) {\n\t\t\t\t\tnode.next.prev = node.prev;\n\t\t\t\t}\n\n\t\t\t\tnode.next = cache.head;\n\t\t\t\tnode.prev = null;\n\t\t\t\tcache.head.prev = node;\n\t\t\t\tcache.head = node;\n\t\t\t}\n\n\t\t\t// Return immediately\n\t\t\treturn node.val;\n\t\t}\n\n\t\t// No cached value found. Continue to insertion phase:\n\n\t\tnode = {\n\t\t\t// Generate the result from original function\n\t\t\tval: selector.apply( null, args ),\n\t\t};\n\n\t\t// Avoid including the source object in the cache.\n\t\targs[ 0 ] = null;\n\t\tnode.args = args;\n\n\t\t// Don't need to check whether node is already head, since it would\n\t\t// have been returned above already if it was\n\n\t\t// Shift existing head down list\n\t\tif ( cache.head ) {\n\t\t\tcache.head.prev = node;\n\t\t\tnode.next = cache.head;\n\t\t}\n\n\t\tcache.head = node;\n\n\t\treturn node.val;\n\t}\n\n\tcallSelector.getDependants = getDependants;\n\tcallSelector.clear = clear;\n\tclear();\n\n\treturn callSelector;\n}\n","/**\n * External dependencies\n */\nimport { once } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { select, dispatch } from '@wordpress/data';\nimport { createBlock } from '@wordpress/blocks';\nimport { BlockIcon } from '@wordpress/block-editor';\n\n/**\n * Returns the client ID of the parent where a newly inserted block would be\n * placed.\n *\n * @return {string} Client ID of the parent where a newly inserted block would\n *                  be placed.\n */\nfunction defaultGetBlockInsertionParentClientId() {\n\treturn select( 'core/block-editor' ).getBlockInsertionPoint().rootClientId;\n}\n\n/**\n * Returns the inserter items for the specified parent block.\n *\n * @param {string} rootClientId Client ID of the block for which to retrieve\n *                              inserter items.\n *\n * @return {Array<Editor.InserterItem>} The inserter items for the specified\n *                                      parent.\n */\nfunction defaultGetInserterItems( rootClientId ) {\n\treturn select( 'core/block-editor' ).getInserterItems( rootClientId );\n}\n\n/**\n * Returns the name of the currently selected block.\n *\n * @return {string?} The name of the currently selected block or `null` if no\n *                   block is selected.\n */\nfunction defaultGetSelectedBlockName() {\n\tconst { getSelectedBlockClientId, getBlockName } = select( 'core/block-editor' );\n\tconst selectedBlockClientId = getSelectedBlockClientId();\n\treturn selectedBlockClientId ? getBlockName( selectedBlockClientId ) : null;\n}\n\n/**\n * Triggers a fetch of reusable blocks, once.\n *\n * TODO: Reusable blocks fetching should be reimplemented as a core-data entity\n * resolver, not relying on `core/editor` (see #7119). The implementation here\n * is imperfect in that the options result will not await the completion of the\n * fetch request and thus will not include any reusable blocks. This has always\n * been true, but relied upon the fact the user would be delayed in typing an\n * autocompleter search query. Once implemented using resolvers, the status of\n * this request could be subscribed to as part of a promised return value using\n * the result of `hasFinishedResolution`. There is currently reliable way to\n * determine that a reusable blocks fetch request has completed.\n *\n * @return {Promise} Promise resolving once reusable blocks fetched.\n */\nconst fetchReusableBlocks = once( () => {\n\tdispatch( 'core/editor' ).__experimentalFetchReusableBlocks();\n} );\n\n/**\n * Creates a blocks repeater for replacing the current block with a selected block type.\n *\n * @return {Completer} A blocks completer.\n */\nexport function createBlockCompleter( {\n\t// Allow store-based selectors to be overridden for unit test.\n\tgetBlockInsertionParentClientId = defaultGetBlockInsertionParentClientId,\n\tgetInserterItems = defaultGetInserterItems,\n\tgetSelectedBlockName = defaultGetSelectedBlockName,\n} = {} ) {\n\treturn {\n\t\tname: 'blocks',\n\t\tclassName: 'editor-autocompleters__block',\n\t\ttriggerPrefix: '/',\n\t\toptions() {\n\t\t\tfetchReusableBlocks();\n\n\t\t\tconst selectedBlockName = getSelectedBlockName();\n\t\t\treturn getInserterItems( getBlockInsertionParentClientId() ).filter(\n\t\t\t\t// Avoid offering to replace the current block with a block of the same type.\n\t\t\t\t( inserterItem ) => selectedBlockName !== inserterItem.name\n\t\t\t);\n\t\t},\n\t\tgetOptionKeywords( inserterItem ) {\n\t\t\tconst { title, keywords = [], category } = inserterItem;\n\t\t\treturn [ category, ...keywords, title ];\n\t\t},\n\t\tgetOptionLabel( inserterItem ) {\n\t\t\tconst { icon, title } = inserterItem;\n\t\t\treturn [\n\t\t\t\t<BlockIcon key=\"icon\" icon={ icon } showColors />,\n\t\t\t\ttitle,\n\t\t\t];\n\t\t},\n\t\tallowContext( before, after ) {\n\t\t\treturn ! ( /\\S/.test( before ) || /\\S/.test( after ) );\n\t\t},\n\t\tgetOptionCompletion( inserterItem ) {\n\t\t\tconst { name, initialAttributes } = inserterItem;\n\t\t\treturn {\n\t\t\t\taction: 'replace',\n\t\t\t\tvalue: createBlock( name, initialAttributes ),\n\t\t\t};\n\t\t},\n\t\tisOptionDisabled( inserterItem ) {\n\t\t\treturn inserterItem.isDisabled;\n\t\t},\n\t};\n}\n\n/**\n * Creates a blocks repeater for replacing the current block with a selected block type.\n *\n * @return {Completer} A blocks completer.\n */\nexport default createBlockCompleter();\n","export { default as blockAutocompleter } from './block';\nexport { default as userAutocompleter } from './user';\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\n/**\n * A user mentions completer.\n *\n * @type {Completer}\n */\nexport default {\n\tname: 'users',\n\tclassName: 'editor-autocompleters__user',\n\ttriggerPrefix: '@',\n\toptions( search ) {\n\t\tlet payload = '';\n\t\tif ( search ) {\n\t\t\tpayload = '?search=' + encodeURIComponent( search );\n\t\t}\n\t\treturn apiFetch( { path: '/wp/v2/users' + payload } );\n\t},\n\tisDebounced: true,\n\tgetOptionKeywords( user ) {\n\t\treturn [ user.slug, user.name ];\n\t},\n\tgetOptionLabel( user ) {\n\t\treturn [\n\t\t\t<img key=\"avatar\" className=\"editor-autocompleters__user-avatar\" alt=\"\" src={ user.avatar_urls[ 24 ] } />,\n\t\t\t<span key=\"name\" className=\"editor-autocompleters__user-name\">{ user.name }</span>,\n\t\t\t<span key=\"slug\" className=\"editor-autocompleters__user-slug\">{ user.slug }</span>,\n\t\t];\n\t},\n\tgetOptionCompletion( user ) {\n\t\treturn `@${ user.slug }`;\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nexport class AutosaveMonitor extends Component {\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { isDirty, editsReference, isAutosaveable, isAutosaving } = this.props;\n\n\t\t// The edits reference is held for comparison to avoid scheduling an\n\t\t// autosave if an edit has not been made since the last autosave\n\t\t// completion. This is assigned when the autosave completes, and reset\n\t\t// when an edit occurs.\n\t\t//\n\t\t// See: https://github.com/WordPress/gutenberg/issues/12318\n\n\t\tif ( editsReference !== prevProps.editsReference ) {\n\t\t\tthis.didAutosaveForEditsReference = false;\n\t\t}\n\n\t\tif ( ! isAutosaving && prevProps.isAutosaving ) {\n\t\t\tthis.didAutosaveForEditsReference = true;\n\t\t}\n\n\t\tif (\n\t\t\tprevProps.isDirty !== isDirty ||\n\t\t\tprevProps.isAutosaveable !== isAutosaveable ||\n\t\t\tprevProps.editsReference !== editsReference\n\t\t) {\n\t\t\tthis.toggleTimer(\n\t\t\t\tisDirty &&\n\t\t\t\tisAutosaveable &&\n\t\t\t\t! this.didAutosaveForEditsReference\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.toggleTimer( false );\n\t}\n\n\ttoggleTimer( isPendingSave ) {\n\t\tconst { interval, shouldThrottle = false } = this.props;\n\n\t\t// By default, AutosaveMonitor will wait for a pause in editing before\n\t\t// autosaving. In other words, its action is \"debounced\".\n\t\t//\n\t\t// The `shouldThrottle` props allows overriding this behaviour, thus\n\t\t// making the autosave action \"throttled\".\n\t\tif ( ! shouldThrottle && this.pendingSave ) {\n\t\t\tclearTimeout( this.pendingSave );\n\t\t\tdelete this.pendingSave;\n\t\t}\n\n\t\tif ( isPendingSave && ! ( shouldThrottle && this.pendingSave ) ) {\n\t\t\tthis.pendingSave = setTimeout(\n\t\t\t\t() => {\n\t\t\t\t\tthis.props.autosave();\n\t\t\t\t\tdelete this.pendingSave;\n\t\t\t\t},\n\t\t\t\tinterval * 1000\n\t\t\t);\n\t\t}\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, ownProps ) => {\n\t\tconst {\n\t\t\tgetReferenceByDistinctEdits,\n\t\t} = select( 'core' );\n\n\t\tconst {\n\t\t\tisEditedPostDirty,\n\t\t\tisEditedPostAutosaveable,\n\t\t\tisAutosavingPost,\n\t\t\tgetEditorSettings,\n\t\t} = select( 'core/editor' );\n\n\t\tconst { interval = getEditorSettings().autosaveInterval } = ownProps;\n\n\t\treturn {\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisAutosaveable: isEditedPostAutosaveable(),\n\t\t\teditsReference: getReferenceByDistinctEdits(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\tinterval,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps ) => ( {\n\t\tautosave() {\n\t\t\tconst { autosave = dispatch( 'core/editor' ).autosave } = ownProps;\n\t\t\tautosave();\n\t\t},\n\t} ) ),\n] )( AutosaveMonitor );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { MenuItem } from '@wordpress/components';\nimport { _x } from '@wordpress/i18n';\nimport { switchToBlockType } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { Group, Ungroup } from './icons';\n\nexport function ConvertToGroupButton( {\n\tonConvertToGroup,\n\tonConvertFromGroup,\n\tisGroupable = false,\n\tisUngroupable = false,\n} ) {\n\treturn (\n\t\t<Fragment>\n\t\t\t{ isGroupable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\ticon={ Group }\n\t\t\t\t\tonClick={ onConvertToGroup }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Group', 'verb' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t\t{ isUngroupable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\ticon={ Ungroup }\n\t\t\t\t\tonClick={ onConvertFromGroup }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Ungroup', 'Ungrouping blocks from within a Group block back into individual blocks within the Editor ' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlockRootClientId,\n\t\t\tgetBlocksByClientId,\n\t\t\tcanInsertBlockType,\n\t\t} = select( 'core/block-editor' );\n\n\t\tconst {\n\t\t\tgetGroupingBlockName,\n\t\t} = select( 'core/blocks' );\n\n\t\tconst groupingBlockName = getGroupingBlockName();\n\n\t\tconst rootClientId = clientIds && clientIds.length > 0 ?\n\t\t\tgetBlockRootClientId( clientIds[ 0 ] ) :\n\t\t\tundefined;\n\n\t\tconst groupingBlockAvailable = canInsertBlockType( groupingBlockName, rootClientId );\n\n\t\tconst blocksSelection = getBlocksByClientId( clientIds );\n\n\t\tconst isSingleGroupingBlock = blocksSelection.length === 1 && blocksSelection[ 0 ] && blocksSelection[ 0 ].name === groupingBlockName;\n\n\t\t// Do we have\n\t\t// 1. Grouping block available to be inserted?\n\t\t// 2. One or more blocks selected\n\t\t// (we allow single Blocks to become groups unless\n\t\t// they are a soltiary group block themselves)\n\t\tconst isGroupable = (\n\t\t\tgroupingBlockAvailable &&\n\t\t\tblocksSelection.length &&\n\t\t\t! isSingleGroupingBlock\n\t\t);\n\n\t\t// Do we have a single Group Block selected and does that group have inner blocks?\n\t\tconst isUngroupable = isSingleGroupingBlock && !! blocksSelection[ 0 ].innerBlocks.length;\n\n\t\treturn {\n\t\t\tisGroupable,\n\t\t\tisUngroupable,\n\t\t\tblocksSelection,\n\t\t\tgroupingBlockName,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, onToggle = noop, blocksSelection = [], groupingBlockName } ) => {\n\t\tconst {\n\t\t\treplaceBlocks,\n\t\t} = dispatch( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonConvertToGroup() {\n\t\t\t\tif ( ! blocksSelection.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Activate the `transform` on the Grouping Block which does the conversion\n\t\t\t\tconst newBlocks = switchToBlockType( blocksSelection, groupingBlockName );\n\n\t\t\t\tif ( newBlocks ) {\n\t\t\t\t\treplaceBlocks(\n\t\t\t\t\t\tclientIds,\n\t\t\t\t\t\tnewBlocks\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t\tonConvertFromGroup() {\n\t\t\t\tif ( ! blocksSelection.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst innerBlocks = blocksSelection[ 0 ].innerBlocks;\n\n\t\t\t\tif ( ! innerBlocks.length ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\treplaceBlocks(\n\t\t\t\t\tclientIds,\n\t\t\t\t\tinnerBlocks\n\t\t\t\t);\n\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t};\n\t} ),\n] )( ConvertToGroupButton );\n","/**\n * WordPress dependencies\n */\nimport { Icon, SVG, Path } from '@wordpress/components';\n\nconst GroupSVG = <SVG width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><Path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M8 5a1 1 0 0 0-1 1v3H6a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3h1a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H8zm3 6H7v2h4v-2zM9 9V7h4v2H9z\" /><Path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M1 3a2 2 0 0 0 1 1.732v10.536A2 2 0 1 0 4.732 18h10.536A2 2 0 1 0 18 15.268V4.732A2 2 0 1 0 15.268 2H4.732A2 2 0 0 0 1 3zm14.268 1H4.732A2.01 2.01 0 0 1 4 4.732v10.536c.304.175.557.428.732.732h10.536a2.01 2.01 0 0 1 .732-.732V4.732A2.01 2.01 0 0 1 15.268 4z\" /></SVG>;\n\nexport const Group = <Icon icon={ GroupSVG } />;\n\nconst UngroupSVG = <SVG width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><Path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M9 2H15C16.1 2 17 2.9 17 4V7C17 8.1 16.1 9 15 9H9C7.9 9 7 8.1 7 7V4C7 2.9 7.9 2 9 2ZM9 7H15V4H9V7Z\" /><Path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M5 11H11C12.1 11 13 11.9 13 13V16C13 17.1 12.1 18 11 18H5C3.9 18 3 17.1 3 16V13C3 11.9 3.9 11 5 11ZM5 16H11V13H5V16Z\" /></SVG>;\n\nexport const Ungroup = <Icon icon={ UngroupSVG } />;\n\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { __experimentalBlockSettingsMenuPluginsExtension } from '@wordpress/block-editor';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport ConvertToGroupButton from './convert-button';\n\nfunction ConvertToGroupButtons( { clientIds } ) {\n\treturn (\n\t\t<__experimentalBlockSettingsMenuPluginsExtension>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<ConvertToGroupButton\n\t\t\t\t\t\tclientIds={ clientIds }\n\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</__experimentalBlockSettingsMenuPluginsExtension>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getSelectedBlockClientIds } = select( 'core/block-editor' );\n\treturn {\n\t\tclientIds: getSelectedBlockClientIds(),\n\t};\n} )( ConvertToGroupButtons );\n","// Block Creation Components\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\nimport {\n\tAutocomplete as RootAutocomplete,\n\tAlignmentToolbar as RootAlignmentToolbar,\n\tBlockAlignmentToolbar as RootBlockAlignmentToolbar,\n\tBlockControls as RootBlockControls,\n\tBlockEdit as RootBlockEdit,\n\tBlockEditorKeyboardShortcuts as RootBlockEditorKeyboardShortcuts,\n\tBlockFormatControls as RootBlockFormatControls,\n\tBlockIcon as RootBlockIcon,\n\tBlockInspector as RootBlockInspector,\n\tBlockList as RootBlockList,\n\tBlockMover as RootBlockMover,\n\tBlockNavigationDropdown as RootBlockNavigationDropdown,\n\tBlockSelectionClearer as RootBlockSelectionClearer,\n\tBlockSettingsMenu as RootBlockSettingsMenu,\n\tBlockTitle as RootBlockTitle,\n\tBlockToolbar as RootBlockToolbar,\n\tColorPalette as RootColorPalette,\n\tContrastChecker as RootContrastChecker,\n\tCopyHandler as RootCopyHandler,\n\tcreateCustomColorsHOC as rootCreateCustomColorsHOC,\n\tDefaultBlockAppender as RootDefaultBlockAppender,\n\tFontSizePicker as RootFontSizePicker,\n\tgetColorClassName as rootGetColorClassName,\n\tgetColorObjectByAttributeValues as rootGetColorObjectByAttributeValues,\n\tgetColorObjectByColorValue as rootGetColorObjectByColorValue,\n\tgetFontSize as rootGetFontSize,\n\tgetFontSizeClass as rootGetFontSizeClass,\n\tInserter as RootInserter,\n\tInnerBlocks as RootInnerBlocks,\n\tInspectorAdvancedControls as RootInspectorAdvancedControls,\n\tInspectorControls as RootInspectorControls,\n\tPanelColorSettings as RootPanelColorSettings,\n\tPlainText as RootPlainText,\n\tRichText as RootRichText,\n\tRichTextShortcut as RootRichTextShortcut,\n\tRichTextToolbarButton as RootRichTextToolbarButton,\n\t__unstableRichTextInputEvent as __unstableRootRichTextInputEvent,\n\tMediaPlaceholder as RootMediaPlaceholder,\n\tMediaUpload as RootMediaUpload,\n\tMediaUploadCheck as RootMediaUploadCheck,\n\tMultiBlocksSwitcher as RootMultiBlocksSwitcher,\n\tMultiSelectScrollIntoView as RootMultiSelectScrollIntoView,\n\tNavigableToolbar as RootNavigableToolbar,\n\tObserveTyping as RootObserveTyping,\n\tPreserveScrollInReorder as RootPreserveScrollInReorder,\n\tSkipToSelectedBlock as RootSkipToSelectedBlock,\n\tURLInput as RootURLInput,\n\tURLInputButton as RootURLInputButton,\n\tURLPopover as RootURLPopover,\n\tWarning as RootWarning,\n\tWritingFlow as RootWritingFlow,\n\twithColorContext as rootWithColorContext,\n\twithColors as rootWithColors,\n\twithFontSizes as rootWithFontSizes,\n} from '@wordpress/block-editor';\n\nexport { default as ServerSideRender } from '@wordpress/server-side-render';\n\nfunction deprecateComponent( name, Wrapped, staticsToHoist = [] ) {\n\tconst Component = forwardRef( ( props, ref ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t} );\n\n\t\treturn <Wrapped ref={ ref }{ ...props } />;\n\t} );\n\n\tstaticsToHoist.forEach( ( staticName ) => {\n\t\tComponent[ staticName ] = deprecateComponent(\n\t\t\tname + '.' + staticName,\n\t\t\tWrapped[ staticName ]\n\t\t);\n\t} );\n\n\treturn Component;\n}\n\nfunction deprecateFunction( name, func ) {\n\treturn ( ...args ) => {\n\t\tdeprecated( 'wp.editor.' + name, {\n\t\t\talternative: 'wp.blockEditor.' + name,\n\t\t} );\n\n\t\treturn func( ...args );\n\t};\n}\n\nconst RichText = deprecateComponent( 'RichText', RootRichText, [ 'Content' ] );\nRichText.isEmpty = deprecateFunction( 'RichText.isEmpty', RootRichText.isEmpty );\n\nexport { RichText };\nexport const Autocomplete = deprecateComponent( 'Autocomplete', RootAutocomplete );\nexport const AlignmentToolbar = deprecateComponent( 'AlignmentToolbar', RootAlignmentToolbar );\nexport const BlockAlignmentToolbar = deprecateComponent( 'BlockAlignmentToolbar', RootBlockAlignmentToolbar );\nexport const BlockControls = deprecateComponent( 'BlockControls', RootBlockControls, [ 'Slot' ] );\nexport const BlockEdit = deprecateComponent( 'BlockEdit', RootBlockEdit );\nexport const BlockEditorKeyboardShortcuts = deprecateComponent( 'BlockEditorKeyboardShortcuts', RootBlockEditorKeyboardShortcuts );\nexport const BlockFormatControls = deprecateComponent( 'BlockFormatControls', RootBlockFormatControls, [ 'Slot' ] );\nexport const BlockIcon = deprecateComponent( 'BlockIcon', RootBlockIcon );\nexport const BlockInspector = deprecateComponent( 'BlockInspector', RootBlockInspector );\nexport const BlockList = deprecateComponent( 'BlockList', RootBlockList );\nexport const BlockMover = deprecateComponent( 'BlockMover', RootBlockMover );\nexport const BlockNavigationDropdown = deprecateComponent( 'BlockNavigationDropdown', RootBlockNavigationDropdown );\nexport const BlockSelectionClearer = deprecateComponent( 'BlockSelectionClearer', RootBlockSelectionClearer );\nexport const BlockSettingsMenu = deprecateComponent( 'BlockSettingsMenu', RootBlockSettingsMenu );\nexport const BlockTitle = deprecateComponent( 'BlockTitle', RootBlockTitle );\nexport const BlockToolbar = deprecateComponent( 'BlockToolbar', RootBlockToolbar );\nexport const ColorPalette = deprecateComponent( 'ColorPalette', RootColorPalette );\nexport const ContrastChecker = deprecateComponent( 'ContrastChecker', RootContrastChecker );\nexport const CopyHandler = deprecateComponent( 'CopyHandler', RootCopyHandler );\nexport const DefaultBlockAppender = deprecateComponent( 'DefaultBlockAppender', RootDefaultBlockAppender );\nexport const FontSizePicker = deprecateComponent( 'FontSizePicker', RootFontSizePicker );\nexport const Inserter = deprecateComponent( 'Inserter', RootInserter );\nexport const InnerBlocks = deprecateComponent( 'InnerBlocks', RootInnerBlocks, [ 'ButtonBlockAppender', 'DefaultBlockAppender', 'Content' ] );\nexport const InspectorAdvancedControls = deprecateComponent( 'InspectorAdvancedControls', RootInspectorAdvancedControls, [ 'Slot' ] );\nexport const InspectorControls = deprecateComponent( 'InspectorControls', RootInspectorControls, [ 'Slot' ] );\nexport const PanelColorSettings = deprecateComponent( 'PanelColorSettings', RootPanelColorSettings );\nexport const PlainText = deprecateComponent( 'PlainText', RootPlainText );\nexport const RichTextShortcut = deprecateComponent( 'RichTextShortcut', RootRichTextShortcut );\nexport const RichTextToolbarButton = deprecateComponent( 'RichTextToolbarButton', RootRichTextToolbarButton );\nexport const __unstableRichTextInputEvent = deprecateComponent( '__unstableRichTextInputEvent', __unstableRootRichTextInputEvent );\nexport const MediaPlaceholder = deprecateComponent( 'MediaPlaceholder', RootMediaPlaceholder );\nexport const MediaUpload = deprecateComponent( 'MediaUpload', RootMediaUpload );\nexport const MediaUploadCheck = deprecateComponent( 'MediaUploadCheck', RootMediaUploadCheck );\nexport const MultiBlocksSwitcher = deprecateComponent( 'MultiBlocksSwitcher', RootMultiBlocksSwitcher );\nexport const MultiSelectScrollIntoView = deprecateComponent( 'MultiSelectScrollIntoView', RootMultiSelectScrollIntoView );\nexport const NavigableToolbar = deprecateComponent( 'NavigableToolbar', RootNavigableToolbar );\nexport const ObserveTyping = deprecateComponent( 'ObserveTyping', RootObserveTyping );\nexport const PreserveScrollInReorder = deprecateComponent( 'PreserveScrollInReorder', RootPreserveScrollInReorder );\nexport const SkipToSelectedBlock = deprecateComponent( 'SkipToSelectedBlock', RootSkipToSelectedBlock );\nexport const URLInput = deprecateComponent( 'URLInput', RootURLInput );\nexport const URLInputButton = deprecateComponent( 'URLInputButton', RootURLInputButton );\nexport const URLPopover = deprecateComponent( 'URLPopover', RootURLPopover );\nexport const Warning = deprecateComponent( 'Warning', RootWarning );\nexport const WritingFlow = deprecateComponent( 'WritingFlow', RootWritingFlow );\n\nexport const createCustomColorsHOC = deprecateFunction( 'createCustomColorsHOC', rootCreateCustomColorsHOC );\nexport const getColorClassName = deprecateFunction( 'getColorClassName', rootGetColorClassName );\nexport const getColorObjectByAttributeValues = deprecateFunction( 'getColorObjectByAttributeValues', rootGetColorObjectByAttributeValues );\nexport const getColorObjectByColorValue = deprecateFunction( 'getColorObjectByColorValue', rootGetColorObjectByColorValue );\nexport const getFontSize = deprecateFunction( 'getFontSize', rootGetFontSize );\nexport const getFontSizeClass = deprecateFunction( 'getFontSizeClass', rootGetFontSizeClass );\nexport const withColorContext = deprecateFunction( 'withColorContext', rootWithColorContext );\nexport const withColors = deprecateFunction( 'withColors', rootWithColors );\nexport const withFontSizes = deprecateFunction( 'withFontSizes', rootWithFontSizes );\n","/**\n * External dependencies\n */\nimport { filter } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nfunction DocumentOutlineCheck( { blocks, children } ) {\n\tconst headings = filter( blocks, ( block ) => block.name === 'core/heading' );\n\n\tif ( headings.length < 1 ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => ( {\n\tblocks: select( 'core/block-editor' ).getBlocks(),\n} ) )( DocumentOutlineCheck );\n","/**\n * External dependencies\n */\nimport { countBy, flatMap, get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport {\n\tcreate,\n\tgetTextContent,\n} from '@wordpress/rich-text';\n\n/**\n * Internal dependencies\n */\nimport DocumentOutlineItem from './item';\n\n/**\n * Module constants\n */\nconst emptyHeadingContent = <em>{ __( '(Empty heading)' ) }</em>;\nconst incorrectLevelContent = [\n\t<br key=\"incorrect-break\" />,\n\t<em key=\"incorrect-message\">{ __( '(Incorrect heading level)' ) }</em>,\n];\nconst singleH1Headings = [\n\t<br key=\"incorrect-break-h1\" />,\n\t<em key=\"incorrect-message-h1\">{ __( '(Your theme may already use a H1 for the post title)' ) }</em>,\n];\nconst multipleH1Headings = [\n\t<br key=\"incorrect-break-multiple-h1\" />,\n\t<em key=\"incorrect-message-multiple-h1\">{ __( '(Multiple H1 headings are not recommended)' ) }</em>,\n];\n\n/**\n * Returns an array of heading blocks enhanced with the following properties:\n * path    - An array of blocks that are ancestors of the heading starting from a top-level node.\n *           Can be an empty array if the heading is a top-level node (is not nested inside another block).\n * level   - An integer with the heading level.\n * isEmpty - Flag indicating if the heading has no content.\n *\n * @param {?Array} blocks An array of blocks.\n * @param {?Array} path   An array of blocks that are ancestors of the blocks passed as blocks.\n *\n * @return {Array} An array of heading blocks enhanced with the properties described above.\n */\nconst computeOutlineHeadings = ( blocks = [], path = [] ) => {\n\treturn flatMap( blocks, ( block = {} ) => {\n\t\tif ( block.name === 'core/heading' ) {\n\t\t\treturn {\n\t\t\t\t...block,\n\t\t\t\tpath,\n\t\t\t\tlevel: block.attributes.level,\n\t\t\t\tisEmpty: isEmptyHeading( block ),\n\t\t\t};\n\t\t}\n\t\treturn computeOutlineHeadings( block.innerBlocks, [ ...path, block ] );\n\t} );\n};\n\nconst isEmptyHeading = ( heading ) => ! heading.attributes.content || heading.attributes.content.length === 0;\n\nexport const DocumentOutline = ( { blocks = [], title, onSelect, isTitleSupported, hasOutlineItemsDisabled } ) => {\n\tconst headings = computeOutlineHeadings( blocks );\n\n\tif ( headings.length < 1 ) {\n\t\treturn null;\n\t}\n\n\tlet prevHeadingLevel = 1;\n\n\t// Not great but it's the simplest way to locate the title right now.\n\tconst titleNode = document.querySelector( '.editor-post-title__input' );\n\tconst hasTitle = isTitleSupported && title && titleNode;\n\tconst countByLevel = countBy( headings, 'level' );\n\tconst hasMultipleH1 = countByLevel[ 1 ] > 1;\n\n\treturn (\n\t\t<div className=\"document-outline\">\n\t\t\t<ul>\n\t\t\t\t{ hasTitle && (\n\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\tlevel={ __( 'Title' ) }\n\t\t\t\t\t\tisValid\n\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\thref={ `#${ titleNode.id }` }\n\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ title }\n\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t) }\n\t\t\t\t{ headings.map( ( item, index ) => {\n\t\t\t\t\t// Headings remain the same, go up by one, or down by any amount.\n\t\t\t\t\t// Otherwise there are missing levels.\n\t\t\t\t\tconst isIncorrectLevel = item.level > prevHeadingLevel + 1;\n\n\t\t\t\t\tconst isValid = (\n\t\t\t\t\t\t! item.isEmpty &&\n\t\t\t\t\t\t! isIncorrectLevel &&\n\t\t\t\t\t\t!! item.level &&\n\t\t\t\t\t\t( item.level !== 1 || ( ! hasMultipleH1 && ! hasTitle ) )\n\t\t\t\t\t);\n\t\t\t\t\tprevHeadingLevel = item.level;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DocumentOutlineItem\n\t\t\t\t\t\t\tkey={ index }\n\t\t\t\t\t\t\tlevel={ `H${ item.level }` }\n\t\t\t\t\t\t\tisValid={ isValid }\n\t\t\t\t\t\t\tpath={ item.path }\n\t\t\t\t\t\t\tisDisabled={ hasOutlineItemsDisabled }\n\t\t\t\t\t\t\thref={ `#block-${ item.clientId }` }\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ item.isEmpty ?\n\t\t\t\t\t\t\t\temptyHeadingContent :\n\t\t\t\t\t\t\t\tgetTextContent(\n\t\t\t\t\t\t\t\t\tcreate( { html: item.attributes.content } )\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{ isIncorrectLevel && incorrectLevelContent }\n\t\t\t\t\t\t\t{ item.level === 1 && hasMultipleH1 && multipleH1Headings }\n\t\t\t\t\t\t\t{ hasTitle && item.level === 1 && ! hasMultipleH1 && singleH1Headings }\n\t\t\t\t\t\t</DocumentOutlineItem>\n\t\t\t\t\t);\n\t\t\t\t} ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getBlocks } = select( 'core/block-editor' );\n\t\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\t\tconst { getPostType } = select( 'core' );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\t\tblocks: getBlocks(),\n\t\t\tisTitleSupported: get( postType, [ 'supports', 'title' ], false ),\n\t\t};\n\t} )\n)( DocumentOutline );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress dependencies\n */\nimport { BlockTitle } from '@wordpress/block-editor';\n\nconst TableOfContentsItem = ( {\n\tchildren,\n\tisValid,\n\tlevel,\n\tpath = [],\n\thref,\n\tonSelect,\n} ) => (\n\t<li\n\t\tclassName={ classnames(\n\t\t\t'document-outline__item',\n\t\t\t`is-${ level.toLowerCase() }`,\n\t\t\t{\n\t\t\t\t'is-invalid': ! isValid,\n\t\t\t}\n\t\t) }\n\t>\n\t\t<a\n\t\t\thref={ href }\n\t\t\tclassName=\"document-outline__button\"\n\t\t\tonClick={ onSelect }\n\t\t>\n\t\t\t<span className=\"document-outline__emdash\" aria-hidden=\"true\"></span>\n\t\t\t{\n\t\t\t\t// path is an array of nodes that are ancestors of the heading starting in the top level node.\n\t\t\t\t// This mapping renders each ancestor to make it easier for the user to know where the headings are nested.\n\t\t\t\tpath.map( ( { clientId }, index ) => (\n\t\t\t\t\t<strong key={ index } className=\"document-outline__level\">\n\t\t\t\t\t\t<BlockTitle clientId={ clientId } />\n\t\t\t\t\t</strong>\n\t\t\t\t) )\n\t\t\t}\n\t\t\t<strong className=\"document-outline__level\">\n\t\t\t\t{ level }\n\t\t\t</strong>\n\t\t\t<span className=\"document-outline__item-content\">\n\t\t\t\t{ children }\n\t\t\t</span>\n\t\t</a>\n\t</li>\n);\n\nexport default TableOfContentsItem;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { IconButton } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { displayShortcut } from '@wordpress/keycodes';\n\nfunction EditorHistoryRedo( { hasRedo, redo } ) {\n\treturn (\n\t\t<IconButton\n\t\t\ticon=\"redo\"\n\t\t\tlabel={ __( 'Redo' ) }\n\t\t\tshortcut={ displayShortcut.primaryShift( 'z' ) }\n\t\t\t// If there are no redo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasRedo }\n\t\t\tonClick={ hasRedo ? redo : undefined }\n\t\t\tclassName=\"editor-history__redo\"\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\thasRedo: select( 'core/editor' ).hasEditorRedo(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tredo: dispatch( 'core/editor' ).redo,\n\t} ) ),\n] )( EditorHistoryRedo );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { IconButton } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { displayShortcut } from '@wordpress/keycodes';\n\nfunction EditorHistoryUndo( { hasUndo, undo } ) {\n\treturn (\n\t\t<IconButton\n\t\t\ticon=\"undo\"\n\t\t\tlabel={ __( 'Undo' ) }\n\t\t\tshortcut={ displayShortcut.primary( 'z' ) }\n\t\t\t// If there are no undo levels we don't want to actually disable this\n\t\t\t// button, because it will remove focus for keyboard users.\n\t\t\t// See: https://github.com/WordPress/gutenberg/issues/3486\n\t\t\taria-disabled={ ! hasUndo }\n\t\t\tonClick={ hasUndo ? undo : undefined }\n\t\t\tclassName=\"editor-history__undo\"\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\thasUndo: select( 'core/editor' ).hasEditorUndo(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tundo: dispatch( 'core/editor' ).undo,\n\t} ) ),\n] )( EditorHistoryUndo );\n","/**\n * External dependencies\n */\nimport { filter } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { NoticeList, SnackbarList } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport TemplateValidationNotice from '../template-validation-notice';\n\nexport function EditorNotices( { notices, onRemove } ) {\n\tconst dismissibleNotices = filter( notices, {\n\t\tisDismissible: true,\n\t\ttype: 'default',\n\t} );\n\tconst nonDismissibleNotices = filter( notices, {\n\t\tisDismissible: false,\n\t\ttype: 'default',\n\t} );\n\tconst snackbarNotices = filter( notices, {\n\t\ttype: 'snackbar',\n\t} );\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ nonDismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t/>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ dismissibleNotices }\n\t\t\t\tclassName=\"components-editor-notices__dismissible\"\n\t\t\t\tonRemove={ onRemove }\n\t\t\t>\n\t\t\t\t<TemplateValidationNotice />\n\t\t\t</NoticeList>\n\t\t\t<SnackbarList\n\t\t\t\tnotices={ snackbarNotices }\n\t\t\t\tclassName=\"components-editor-notices__snackbar\"\n\t\t\t\tonRemove={ onRemove }\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tnotices: select( 'core/notices' ).getNotices(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonRemove: dispatch( 'core/notices' ).removeNotice,\n\t} ) ),\n] )( EditorNotices );\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button, ClipboardButton } from '@wordpress/components';\nimport { select } from '@wordpress/data';\nimport { Warning } from '@wordpress/block-editor';\n\nclass ErrorBoundary extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.reboot = this.reboot.bind( this );\n\t\tthis.getContent = this.getContent.bind( this );\n\n\t\tthis.state = {\n\t\t\terror: null,\n\t\t};\n\t}\n\n\tcomponentDidCatch( error ) {\n\t\tthis.setState( { error } );\n\t}\n\n\treboot() {\n\t\tthis.props.onError();\n\t}\n\n\tgetContent() {\n\t\ttry {\n\t\t\t// While `select` in a component is generally discouraged, it is\n\t\t\t// used here because it (a) reduces the chance of data loss in the\n\t\t\t// case of additional errors by performing a direct retrieval and\n\t\t\t// (b) avoids the performance cost associated with unnecessary\n\t\t\t// content serialization throughout the lifetime of a non-erroring\n\t\t\t// application.\n\t\t\treturn select( 'core/editor' ).getEditedPostContent();\n\t\t} catch ( error ) {}\n\t}\n\n\trender() {\n\t\tconst { error } = this.state;\n\t\tif ( ! error ) {\n\t\t\treturn this.props.children;\n\t\t}\n\n\t\treturn (\n\t\t\t<Warning\n\t\t\t\tclassName=\"editor-error-boundary\"\n\t\t\t\tactions={ [\n\t\t\t\t\t<Button key=\"recovery\" onClick={ this.reboot } isLarge>\n\t\t\t\t\t\t{ __( 'Attempt Recovery' ) }\n\t\t\t\t\t</Button>,\n\t\t\t\t\t<ClipboardButton key=\"copy-post\" text={ this.getContent } isLarge>\n\t\t\t\t\t\t{ __( 'Copy Post Text' ) }\n\t\t\t\t\t</ClipboardButton>,\n\t\t\t\t\t<ClipboardButton key=\"copy-error\" text={ error.stack } isLarge>\n\t\t\t\t\t\t{ __( 'Copy Error' ) }\n\t\t\t\t\t</ClipboardButton>,\n\t\t\t\t] }\n\t\t\t>\n\t\t\t\t{ __( 'The editor has encountered an unexpected error.' ) }\n\t\t\t</Warning>\n\t\t);\n\t}\n}\n\nexport default ErrorBoundary;\n","/**\n * WordPress dependencies\n */\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nexport function SaveShortcut( { onSave } ) {\n\treturn (\n\t\t<KeyboardShortcuts\n\t\t\tbindGlobal\n\t\t\tshortcuts={ {\n\t\t\t\t[ rawShortcut.primary( 's' ) ]: ( event ) => {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tonSave();\n\t\t\t\t},\n\t\t\t} }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isEditedPostDirty } = select( 'core/editor' );\n\n\t\treturn {\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, ownProps, { select } ) => {\n\t\tconst { savePost } = dispatch( 'core/editor' );\n\n\t\treturn {\n\t\t\tonSave() {\n\t\t\t\t// TODO: This should be handled in the `savePost` effect in\n\t\t\t\t// considering `isSaveable`. See note on `isEditedPostSaveable`\n\t\t\t\t// selector about dirtiness and meta-boxes.\n\t\t\t\t//\n\t\t\t\t// See: `isEditedPostSaveable`\n\t\t\t\tconst { isEditedPostDirty } = select( 'core/editor' );\n\t\t\t\tif ( ! isEditedPostDirty() ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tsavePost();\n\t\t\t},\n\t\t};\n\t} ),\n] )( SaveShortcut );\n","/**\n * Internal dependencies\n */\nimport SaveShortcut from './save-shortcut';\n\nexport default function TextEditorGlobalKeyboardShortcuts() {\n\treturn (\n\t\t<SaveShortcut />\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { Component } from '@wordpress/element';\nimport { KeyboardShortcuts } from '@wordpress/components';\nimport { withDispatch } from '@wordpress/data';\nimport { rawShortcut } from '@wordpress/keycodes';\nimport deprecated from '@wordpress/deprecated';\nimport { BlockEditorKeyboardShortcuts } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport SaveShortcut from './save-shortcut';\n\nclass VisualEditorGlobalKeyboardShortcuts extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.undoOrRedo = this.undoOrRedo.bind( this );\n\t}\n\n\tundoOrRedo( event ) {\n\t\tconst { onRedo, onUndo } = this.props;\n\n\t\tif ( event.shiftKey ) {\n\t\t\tonRedo();\n\t\t} else {\n\t\t\tonUndo();\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<BlockEditorKeyboardShortcuts />\n\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t[ rawShortcut.primary( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t\t[ rawShortcut.primaryShift( 'z' ) ]: this.undoOrRedo,\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t\t<SaveShortcut />\n\t\t\t</>\n\t\t);\n\t}\n}\n\nconst EnhancedVisualEditorGlobalKeyboardShortcuts = withDispatch( ( dispatch ) => {\n\tconst {\n\t\tredo,\n\t\tundo,\n\t} = dispatch( 'core/editor' );\n\n\treturn {\n\t\tonRedo: redo,\n\t\tonUndo: undo,\n\t};\n} )( VisualEditorGlobalKeyboardShortcuts );\n\nexport default EnhancedVisualEditorGlobalKeyboardShortcuts;\n\nexport function EditorGlobalKeyboardShortcuts() {\n\tdeprecated( 'EditorGlobalKeyboardShortcuts', {\n\t\talternative: 'VisualEditorGlobalKeyboardShortcuts',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\treturn <EnhancedVisualEditorGlobalKeyboardShortcuts />;\n}\n","// Block Creation Components\nexport * from './autocompleters';\n\n// Post Related Components\nexport { default as AutosaveMonitor } from './autosave-monitor';\nexport { default as DocumentOutline } from './document-outline';\nexport { default as DocumentOutlineCheck } from './document-outline/check';\nexport {\n\tdefault as VisualEditorGlobalKeyboardShortcuts,\n\tEditorGlobalKeyboardShortcuts,\n} from './global-keyboard-shortcuts/visual-editor-shortcuts';\nexport { default as TextEditorGlobalKeyboardShortcuts } from './global-keyboard-shortcuts/text-editor-shortcuts';\nexport { default as EditorHistoryRedo } from './editor-history/redo';\nexport { default as EditorHistoryUndo } from './editor-history/undo';\nexport { default as EditorNotices } from './editor-notices';\nexport { default as ErrorBoundary } from './error-boundary';\nexport { default as LocalAutosaveMonitor } from './local-autosave-monitor';\nexport { default as PageAttributesCheck } from './page-attributes/check';\nexport { default as PageAttributesOrder } from './page-attributes/order';\nexport { default as PageAttributesParent } from './page-attributes/parent';\nexport { default as PageTemplate } from './page-attributes/template';\nexport { default as PostAuthor } from './post-author';\nexport { default as PostAuthorCheck } from './post-author/check';\nexport { default as PostComments } from './post-comments';\nexport { default as PostExcerpt } from './post-excerpt';\nexport { default as PostExcerptCheck } from './post-excerpt/check';\nexport { default as PostFeaturedImage } from './post-featured-image';\nexport { default as PostFeaturedImageCheck } from './post-featured-image/check';\nexport { default as PostFormat } from './post-format';\nexport { default as PostFormatCheck } from './post-format/check';\nexport { default as PostLastRevision } from './post-last-revision';\nexport { default as PostLastRevisionCheck } from './post-last-revision/check';\nexport { default as PostLockedModal } from './post-locked-modal';\nexport { default as PostPendingStatus } from './post-pending-status';\nexport { default as PostPendingStatusCheck } from './post-pending-status/check';\nexport { default as PostPingbacks } from './post-pingbacks';\nexport { default as PostPreviewButton } from './post-preview-button';\nexport { default as PostPublishButton } from './post-publish-button';\nexport { default as PostPublishButtonLabel } from './post-publish-button/label';\nexport { default as PostPublishPanel } from './post-publish-panel';\nexport { default as PostSavedState } from './post-saved-state';\nexport { default as PostSchedule } from './post-schedule';\nexport { default as PostScheduleCheck } from './post-schedule/check';\nexport { default as PostScheduleLabel } from './post-schedule/label';\nexport { default as PostSticky } from './post-sticky';\nexport { default as PostStickyCheck } from './post-sticky/check';\nexport { default as PostSwitchToDraftButton } from './post-switch-to-draft-button';\nexport { default as PostTaxonomies } from './post-taxonomies';\nexport { default as PostTaxonomiesCheck } from './post-taxonomies/check';\nexport { default as PostTextEditor } from './post-text-editor';\nexport { default as PostTitle } from './post-title';\nexport { default as PostTrash } from './post-trash';\nexport { default as PostTrashCheck } from './post-trash/check';\nexport { default as PostTypeSupportCheck } from './post-type-support-check';\nexport { default as PostVisibility } from './post-visibility';\nexport { default as PostVisibilityLabel } from './post-visibility/label';\nexport { default as PostVisibilityCheck } from './post-visibility/check';\nexport { default as TableOfContents } from './table-of-contents';\nexport { default as UnsavedChangesWarning } from './unsaved-changes-warning';\nexport { default as WordCount } from './word-count';\n\n// State Related Components\nexport { default as EditorProvider } from './provider';\n\nexport * from './deprecated';\n","/**\n * External dependencies\n */\nimport { debounce } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __experimentalInserterMenuExtension } from '@wordpress/block-editor';\nimport { DownloadableBlocksPanel } from '@wordpress/block-directory';\nimport { useState } from '@wordpress/element';\n\nfunction InserterMenuDownloadableBlocksPanel() {\n\tconst [ debouncedFilterValue, setFilterValue ] = useState( '' );\n\n\tconst debouncedSetFilterValue = debounce( setFilterValue, 400 );\n\n\treturn (\n\t\t<__experimentalInserterMenuExtension>\n\t\t\t{\n\t\t\t\t( { onSelect, onHover, filterValue, hasItems } ) => {\n\t\t\t\t\tif ( ! hasItems ) {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( debouncedFilterValue !== filterValue ) {\n\t\t\t\t\t\tdebouncedSetFilterValue( filterValue );\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DownloadableBlocksPanel\n\t\t\t\t\t\t\tonSelect={ onSelect }\n\t\t\t\t\t\t\tonHover={ onHover }\n\t\t\t\t\t\t\tfilterValue={ debouncedFilterValue }\n\t\t\t\t\t\t\tisWaiting={ filterValue !== debouncedFilterValue }\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t</__experimentalInserterMenuExtension>\n\t);\n}\n\nexport default InserterMenuDownloadableBlocksPanel;\n","/**\n * External dependencies\n */\nimport { once, uniqueId, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { useCallback, useEffect, useRef } from '@wordpress/element';\nimport { ifCondition } from '@wordpress/compose';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { parse } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport AutosaveMonitor from '../autosave-monitor';\n\nconst requestIdleCallback = window.requestIdleCallback ? window.requestIdleCallback : window.requestAnimationFrame;\n\n/**\n * Function which returns true if the current environment supports browser\n * sessionStorage, or false otherwise. The result of this function is cached and\n * reused in subsequent invocations.\n */\nconst hasSessionStorageSupport = once( () => {\n\ttry {\n\t\t// Private Browsing in Safari 10 and earlier will throw an error when\n\t\t// attempting to set into sessionStorage. The test here is intentional in\n\t\t// causing a thrown error as condition bailing from local autosave.\n\t\twindow.sessionStorage.setItem( '__wpEditorTestSessionStorage', '' );\n\t\twindow.sessionStorage.removeItem( '__wpEditorTestSessionStorage' );\n\t\treturn true;\n\t} catch ( error ) {\n\t\treturn false;\n\t}\n} );\n\n/**\n * Function returning a sessionStorage key to set or retrieve a given post's\n * automatic session backup.\n *\n * Keys are crucially prefixed with 'wp-autosave-' so that wp-login.php's\n * `loggedout` handler can clear sessionStorage of any user-private content.\n *\n * @see https://github.com/WordPress/wordpress-develop/blob/6dad32d2aed47e6c0cf2aee8410645f6d7aba6bd/src/wp-login.php#L103\n *\n * @param {string} postId  Post ID.\n * @return {string}        sessionStorage key\n */\nfunction postKey( postId ) {\n\treturn `wp-autosave-block-editor-post-${ postId }`;\n}\n\n/**\n * Custom hook which returns a callback function to be invoked when a local\n * autosave should occur.\n *\n * @return {Function} Callback function.\n */\nfunction useAutosaveCallback() {\n\tconst {\n\t\tpostId,\n\t\tgetEditedPostAttribute,\n\t} = useSelect( ( select ) => ( {\n\t\tpostId: select( 'core/editor' ).getCurrentPostId(),\n\t\tgetEditedPostAttribute: select( 'core/editor' ).getEditedPostAttribute,\n\t} ) );\n\n\treturn useCallback( () => {\n\t\tconst saveToSessionStorage = () => {\n\t\t\twindow.sessionStorage.setItem( postKey( postId ), JSON.stringify( {\n\t\t\t\tpost_title: getEditedPostAttribute( 'title' ),\n\t\t\t\tcontent: getEditedPostAttribute( 'content' ),\n\t\t\t\texcerpt: getEditedPostAttribute( 'excerpt' ),\n\t\t\t} ) );\n\t\t};\n\t\trequestIdleCallback( saveToSessionStorage );\n\t}, [ postId ] );\n}\n\n/**\n * Custom hook which manages the creation of a notice prompting the user to\n * restore a local autosave, if one exists.\n */\nfunction useAutosaveNotice() {\n\tconst {\n\t\tpostId,\n\t\tgetEditedPostAttribute,\n\t} = useSelect( ( select ) => ( {\n\t\tpostId: select( 'core/editor' ).getCurrentPostId(),\n\t\tgetEditedPostAttribute: select( 'core/editor' ).getEditedPostAttribute,\n\t} ) );\n\n\tconst { createWarningNotice, removeNotice } = useDispatch( 'core/notices' );\n\tconst { editPost, resetEditorBlocks } = useDispatch( 'core/editor' );\n\n\tuseEffect( () => {\n\t\tlet autosave = window.sessionStorage.getItem( postKey( postId ) );\n\t\tif ( ! autosave ) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tautosave = JSON.parse( autosave );\n\t\t} catch ( error ) {\n\t\t\t// Not usable if it can't be parsed.\n\t\t\treturn;\n\t\t}\n\n\t\tconst { post_title: title, content, excerpt } = autosave;\n\t\tconst edits = { title, content, excerpt };\n\n\t\t// Only display a notice if there is a difference between what has been\n\t\t// saved and that which is stored in sessionStorage.\n\t\tconst hasDifference = Object.keys( edits ).some( ( key ) => {\n\t\t\treturn edits[ key ] !== getEditedPostAttribute( key );\n\t\t} );\n\n\t\tif ( ! hasDifference ) {\n\t\t\t// If there is no difference, it can be safely ejected from storage.\n\t\t\twindow.sessionStorage.removeItem( postKey( postId ) );\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst noticeId = uniqueId( 'wpEditorAutosaveRestore' );\n\n\t\tcreateWarningNotice( __( 'The backup of this post in your browser is different from the version below.' ), {\n\t\t\tid: noticeId,\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: __( 'Restore the backup' ),\n\t\t\t\t\tonClick() {\n\t\t\t\t\t\teditPost( omit( edits, [ 'content' ] ) );\n\t\t\t\t\t\tresetEditorBlocks( parse( edits.content ) );\n\t\t\t\t\t\tremoveNotice( noticeId );\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t],\n\t\t} );\n\t}, [ postId ] );\n}\n\n/**\n * Custom hook which ejects a local autosave after a successful save occurs.\n */\nfunction useAutosavePurge() {\n\tconst {\n\t\tpostId,\n\t\tisDirty,\n\t} = useSelect( ( select ) => ( {\n\t\tpostId: select( 'core/editor' ).getCurrentPostId(),\n\t\tisDirty: select( 'core/editor' ).isEditedPostDirty(),\n\t} ) );\n\n\tconst lastIsDirty = useRef( isDirty );\n\n\tuseEffect( () => {\n\t\tif ( lastIsDirty.current && ! isDirty ) {\n\t\t\twindow.sessionStorage.removeItem( postKey( postId ) );\n\t\t}\n\n\t\tlastIsDirty.current = isDirty;\n\t}, [ isDirty ] );\n}\n\nfunction LocalAutosaveMonitor() {\n\tconst autosave = useAutosaveCallback();\n\tuseAutosaveNotice();\n\tuseAutosavePurge();\n\n\tconst { localAutosaveInterval } = useSelect( ( select ) => ( {\n\t\tlocalAutosaveInterval: select( 'core/editor' )\n\t\t\t.getEditorSettings().__experimentalLocalAutosaveInterval,\n\t} ) );\n\n\treturn (\n\t\t<AutosaveMonitor\n\t\t\tinterval={ localAutosaveInterval }\n\t\t\tautosave={ autosave }\n\t\t\tshouldThrottle\n\t\t/>\n\t);\n}\n\nexport default ifCondition( hasSessionStorageSupport )( LocalAutosaveMonitor );\n","/**\n * External dependencies\n */\nimport { get, isEmpty } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nexport function PageAttributesCheck( { availableTemplates, postType, children } ) {\n\tconst supportsPageAttributes = get( postType, [ 'supports', 'page-attributes' ], false );\n\n\t// Only render fields if post type supports page attributes or available templates exist.\n\tif ( ! supportsPageAttributes && isEmpty( availableTemplates ) ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute, getEditorSettings } = select( 'core/editor' );\n\tconst { getPostType } = select( 'core' );\n\tconst { availableTemplates } = getEditorSettings();\n\treturn {\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tavailableTemplates,\n\t};\n} )( PageAttributesCheck );\n","/**\n * External dependencies\n */\nimport { invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TextControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose, withState } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nexport const PageAttributesOrder = withState( {\n\torderInput: null,\n} )(\n\t( { onUpdateOrder, order = 0, orderInput, setState } ) => {\n\t\tconst setUpdatedOrder = ( value ) => {\n\t\t\tsetState( {\n\t\t\t\torderInput: value,\n\t\t\t} );\n\t\t\tconst newOrder = Number( value );\n\t\t\tif ( Number.isInteger( newOrder ) && invoke( value, [ 'trim' ] ) !== '' ) {\n\t\t\t\tonUpdateOrder( Number( value ) );\n\t\t\t}\n\t\t};\n\t\tconst value = orderInput === null ? order : orderInput;\n\t\treturn (\n\t\t\t<TextControl\n\t\t\t\tclassName=\"editor-page-attributes__order\"\n\t\t\t\ttype=\"number\"\n\t\t\t\tlabel={ __( 'Order' ) }\n\t\t\t\tvalue={ value }\n\t\t\t\tonChange={ setUpdatedOrder }\n\t\t\t\tsize={ 6 }\n\t\t\t\tonBlur={ () => {\n\t\t\t\t\tsetState( {\n\t\t\t\t\t\torderInput: null,\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n);\n\nfunction PageAttributesOrderWithChecks( props ) {\n\treturn (\n\t\t<PostTypeSupportCheck supportKeys=\"page-attributes\">\n\t\t\t<PageAttributesOrder { ...props } />\n\t\t</PostTypeSupportCheck>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\torder: select( 'core/editor' ).getEditedPostAttribute( 'menu_order' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateOrder( order ) {\n\t\t\tdispatch( 'core/editor' ).editPost( {\n\t\t\t\tmenu_order: order,\n\t\t\t} );\n\t\t},\n\t} ) ),\n] )( PageAttributesOrderWithChecks );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { TreeSelect } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\n\nexport function PageAttributesParent( { parent, postType, items, onUpdateParent } ) {\n\tconst isHierarchical = get( postType, [ 'hierarchical' ], false );\n\tconst parentPageLabel = get( postType, [ 'labels', 'parent_item_colon' ] );\n\tconst pageItems = items || [];\n\tif ( ! isHierarchical || ! parentPageLabel || ! pageItems.length ) {\n\t\treturn null;\n\t}\n\n\tconst pagesTree = buildTermsTree( pageItems.map( ( item ) => ( {\n\t\tid: item.id,\n\t\tparent: item.parent,\n\t\tname: item.title.raw ? item.title.raw : `#${ item.id } (${ __( 'no title' ) })`,\n\t} ) ) );\n\treturn (\n\t\t<TreeSelect\n\t\t\tclassName=\"editor-page-attributes__parent\"\n\t\t\tlabel={ parentPageLabel }\n\t\t\tnoOptionLabel={ `(${ __( 'no parent' ) })` }\n\t\t\ttree={ pagesTree }\n\t\t\tselectedId={ parent }\n\t\t\tonChange={ onUpdateParent }\n\t\t/>\n\t);\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getPostType, getEntityRecords } = select( 'core' );\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( 'core/editor' );\n\tconst postTypeSlug = getEditedPostAttribute( 'type' );\n\tconst postType = getPostType( postTypeSlug );\n\tconst postId = getCurrentPostId();\n\tconst isHierarchical = get( postType, [ 'hierarchical' ], false );\n\tconst query = {\n\t\tper_page: -1,\n\t\texclude: postId,\n\t\tparent_exclude: postId,\n\t\torderby: 'menu_order',\n\t\torder: 'asc',\n\t};\n\n\treturn {\n\t\tparent: getEditedPostAttribute( 'parent' ),\n\t\titems: isHierarchical ? getEntityRecords( 'postType', postTypeSlug, query ) : [],\n\t\tpostType,\n\t};\n} );\n\nconst applyWithDispatch = withDispatch( ( dispatch ) => {\n\tconst { editPost } = dispatch( 'core/editor' );\n\treturn {\n\t\tonUpdateParent( parent ) {\n\t\t\teditPost( { parent: parent || 0 } );\n\t\t},\n\t};\n} );\n\nexport default compose( [\n\tapplyWithSelect,\n\tapplyWithDispatch,\n] )( PageAttributesParent );\n","/**\n * External dependencies\n */\nimport { isEmpty, map } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { SelectControl } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nexport function PageTemplate( { availableTemplates, selectedTemplate, onUpdate } ) {\n\tif ( isEmpty( availableTemplates ) ) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<SelectControl\n\t\t\tlabel={ __( 'Template:' ) }\n\t\t\tvalue={ selectedTemplate }\n\t\t\tonChange={ onUpdate }\n\t\t\tclassName=\"editor-page-attributes__template\"\n\t\t\toptions={\n\t\t\t\tmap( availableTemplates, ( templateName, templateSlug ) => ( {\n\t\t\t\t\tvalue: templateSlug,\n\t\t\t\t\tlabel: templateName,\n\t\t\t\t} ) )\n\t\t\t}\n\t\t/>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getEditorSettings } = select( 'core/editor' );\n\t\tconst { availableTemplates } = getEditorSettings();\n\t\treturn {\n\t\t\tselectedTemplate: getEditedPostAttribute( 'template' ),\n\t\t\tavailableTemplates,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdate( templateSlug ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { template: templateSlug || '' } );\n\t\t},\n\t} ) ),\n)( PageTemplate );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nexport function PostAuthorCheck( { hasAssignAuthorAction, authors, children } ) {\n\tif ( ! hasAssignAuthorAction || authors.length < 2 ) {\n\t\treturn null;\n\t}\n\n\treturn <PostTypeSupportCheck supportKeys=\"author\">{ children }</PostTypeSupportCheck>;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst post = select( 'core/editor' ).getCurrentPost();\n\t\treturn {\n\t\t\thasAssignAuthorAction: get( post, [ '_links', 'wp:action-assign-author' ], false ),\n\t\t\tpostType: select( 'core/editor' ).getCurrentPostType(),\n\t\t\tauthors: select( 'core' ).getAuthors(),\n\t\t};\n\t} ),\n\twithInstanceId,\n] )( PostAuthorCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { decodeEntities } from '@wordpress/html-entities';\n\n/**\n * Internal dependencies\n */\nimport PostAuthorCheck from './check';\n\nexport class PostAuthor extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.setAuthorId = this.setAuthorId.bind( this );\n\t}\n\n\tsetAuthorId( event ) {\n\t\tconst { onUpdateAuthor } = this.props;\n\t\tconst { value } = event.target;\n\t\tonUpdateAuthor( Number( value ) );\n\t}\n\n\trender() {\n\t\tconst { postAuthor, instanceId, authors } = this.props;\n\t\tconst selectId = 'post-author-selector-' + instanceId;\n\n\t\t// Disable reason: A select with an onchange throws a warning\n\n\t\t/* eslint-disable jsx-a11y/no-onchange */\n\t\treturn (\n\t\t\t<PostAuthorCheck>\n\t\t\t\t<label htmlFor={ selectId }>{ __( 'Author' ) }</label>\n\t\t\t\t<select\n\t\t\t\t\tid={ selectId }\n\t\t\t\t\tvalue={ postAuthor }\n\t\t\t\t\tonChange={ this.setAuthorId }\n\t\t\t\t\tclassName=\"editor-post-author__select\"\n\t\t\t\t>\n\t\t\t\t\t{ authors.map( ( author ) => (\n\t\t\t\t\t\t<option key={ author.id } value={ author.id }>{ decodeEntities( author.name ) }</option>\n\t\t\t\t\t) ) }\n\t\t\t\t</select>\n\t\t\t</PostAuthorCheck>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-onchange */\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostAuthor: select( 'core/editor' ).getEditedPostAttribute( 'author' ),\n\t\t\tauthors: select( 'core' ).getAuthors(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateAuthor( author ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { author } );\n\t\t},\n\t} ) ),\n\twithInstanceId,\n] )( PostAuthor );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nfunction PostComments( { commentStatus = 'open', ...props } ) {\n\tconst onToggleComments = () => props.editPost( { comment_status: commentStatus === 'open' ? 'closed' : 'open' } );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tlabel={ __( 'Allow Comments' ) }\n\t\t\tchecked={ commentStatus === 'open' }\n\t\t\tonChange={ onToggleComments }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tcommentStatus: select( 'core/editor' ).getEditedPostAttribute( 'comment_status' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\teditPost: dispatch( 'core/editor' ).editPost,\n\t} ) ),\n] )( PostComments );\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nfunction PostExcerptCheck( props ) {\n\treturn <PostTypeSupportCheck { ...props } supportKeys=\"excerpt\" />;\n}\n\nexport default PostExcerptCheck;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ExternalLink, TextareaControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction PostExcerpt( { excerpt, onUpdateExcerpt } ) {\n\treturn (\n\t\t<div className=\"editor-post-excerpt\">\n\t\t\t<TextareaControl\n\t\t\t\tlabel={ __( 'Write an excerpt (optional)' ) }\n\t\t\t\tclassName=\"editor-post-excerpt__textarea\"\n\t\t\t\tonChange={ ( value ) => onUpdateExcerpt( value ) }\n\t\t\t\tvalue={ excerpt }\n\t\t\t/>\n\t\t\t<ExternalLink href={ __( 'https://codex.wordpress.org/Excerpt' ) }>\n\t\t\t\t{ __( 'Learn more about manual excerpts' ) }\n\t\t\t</ExternalLink>\n\t\t</div>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\texcerpt: select( 'core/editor' ).getEditedPostAttribute( 'excerpt' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateExcerpt( excerpt ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { excerpt } );\n\t\t},\n\t} ) ),\n] )( PostExcerpt );\n","/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\nimport ThemeSupportCheck from '../theme-support-check';\n\nfunction PostFeaturedImageCheck( props ) {\n\treturn (\n\t\t<ThemeSupportCheck supportKeys=\"post-thumbnails\">\n\t\t\t<PostTypeSupportCheck { ...props } supportKeys=\"thumbnail\" />\n\t\t</ThemeSupportCheck>\n\t);\n}\n\nexport default PostFeaturedImageCheck;\n","/**\n * External dependencies\n */\nimport { has, get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { applyFilters } from '@wordpress/hooks';\nimport { Button, Spinner, ResponsiveWrapper, withFilters } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport PostFeaturedImageCheck from './check';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n// Used when labels from post type were not yet loaded or when they are not present.\nconst DEFAULT_FEATURE_IMAGE_LABEL = __( 'Featured Image' );\nconst DEFAULT_SET_FEATURE_IMAGE_LABEL = __( 'Set Featured Image' );\nconst DEFAULT_REMOVE_FEATURE_IMAGE_LABEL = __( 'Remove Image' );\n\nfunction PostFeaturedImage( { currentPostId, featuredImageId, onUpdateImage, onRemoveImage, media, postType } ) {\n\tconst postLabel = get( postType, [ 'labels' ], {} );\n\tconst instructions = <p>{ __( 'To edit the featured image, you need permission to upload media.' ) }</p>;\n\n\tlet mediaWidth, mediaHeight, mediaSourceUrl;\n\tif ( media ) {\n\t\tconst mediaSize = applyFilters( 'editor.PostFeaturedImage.imageSize', 'post-thumbnail', media.id, currentPostId );\n\t\tif ( has( media, [ 'media_details', 'sizes', mediaSize ] ) ) {\n\t\t\tmediaWidth = media.media_details.sizes[ mediaSize ].width;\n\t\t\tmediaHeight = media.media_details.sizes[ mediaSize ].height;\n\t\t\tmediaSourceUrl = media.media_details.sizes[ mediaSize ].source_url;\n\t\t} else {\n\t\t\tmediaWidth = media.media_details.width;\n\t\t\tmediaHeight = media.media_details.height;\n\t\t\tmediaSourceUrl = media.source_url;\n\t\t}\n\t}\n\n\treturn (\n\t\t<PostFeaturedImageCheck>\n\t\t\t<div className=\"editor-post-featured-image\">\n\t\t\t\t<MediaUploadCheck fallback={ instructions }>\n\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\ttitle={ postLabel.featured_image || DEFAULT_FEATURE_IMAGE_LABEL }\n\t\t\t\t\t\tonSelect={ onUpdateImage }\n\t\t\t\t\t\tunstableFeaturedImageFlow\n\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\tmodalClass={ ! featuredImageId ? 'editor-post-featured-image__media-modal' : 'editor-post-featured-image__media-modal' }\n\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName={ ! featuredImageId ? 'editor-post-featured-image__toggle' : 'editor-post-featured-image__preview' }\n\t\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t\t\taria-label={ ! featuredImageId ? null : __( 'Edit or update the image' ) }>\n\t\t\t\t\t\t\t\t{ !! featuredImageId && media &&\n\t\t\t\t\t\t\t\t\t<ResponsiveWrapper\n\t\t\t\t\t\t\t\t\t\tnaturalWidth={ mediaWidth }\n\t\t\t\t\t\t\t\t\t\tnaturalHeight={ mediaHeight }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img src={ mediaSourceUrl } alt=\"\" />\n\t\t\t\t\t\t\t\t\t</ResponsiveWrapper>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{ !! featuredImageId && ! media && <Spinner /> }\n\t\t\t\t\t\t\t\t{ ! featuredImageId && ( postLabel.set_featured_image || DEFAULT_SET_FEATURE_IMAGE_LABEL ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ featuredImageId }\n\t\t\t\t\t/>\n\t\t\t\t</MediaUploadCheck>\n\t\t\t\t{ !! featuredImageId && media && ! media.isLoading &&\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<MediaUpload\n\t\t\t\t\t\t\ttitle={ postLabel.featured_image || DEFAULT_FEATURE_IMAGE_LABEL }\n\t\t\t\t\t\t\tonSelect={ onUpdateImage }\n\t\t\t\t\t\t\tunstableFeaturedImageFlow\n\t\t\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\t\t\tmodalClass=\"editor-post-featured-image__media-modal\"\n\t\t\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t\t\t<Button onClick={ open } isDefault isLarge>\n\t\t\t\t\t\t\t\t\t{ __( 'Replace Image' ) }\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t}\n\t\t\t\t{ !! featuredImageId &&\n\t\t\t\t\t<MediaUploadCheck>\n\t\t\t\t\t\t<Button onClick={ onRemoveImage } isLink isDestructive>\n\t\t\t\t\t\t\t{ postLabel.remove_featured_image || DEFAULT_REMOVE_FEATURE_IMAGE_LABEL }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</MediaUploadCheck>\n\t\t\t\t}\n\t\t\t</div>\n\t\t</PostFeaturedImageCheck>\n\t);\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getMedia, getPostType } = select( 'core' );\n\tconst { getCurrentPostId, getEditedPostAttribute } = select( 'core/editor' );\n\tconst featuredImageId = getEditedPostAttribute( 'featured_media' );\n\n\treturn {\n\t\tmedia: featuredImageId ? getMedia( featuredImageId ) : null,\n\t\tcurrentPostId: getCurrentPostId(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tfeaturedImageId,\n\t};\n} );\n\nconst applyWithDispatch = withDispatch( ( dispatch ) => {\n\tconst { editPost } = dispatch( 'core/editor' );\n\treturn {\n\t\tonUpdateImage( image ) {\n\t\t\teditPost( { featured_media: image.id } );\n\t\t},\n\t\tonRemoveImage() {\n\t\t\teditPost( { featured_media: 0 } );\n\t\t},\n\t};\n} );\n\nexport default compose(\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\twithFilters( 'editor.PostFeaturedImage' ),\n)( PostFeaturedImage );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nfunction PostFormatCheck( { disablePostFormats, ...props } ) {\n\treturn ! disablePostFormats &&\n\t\t<PostTypeSupportCheck { ...props } supportKeys=\"post-formats\" />;\n}\n\nexport default withSelect(\n\t( select ) => {\n\t\tconst editorSettings = select( 'core/editor' ).getEditorSettings();\n\t\treturn {\n\t\t\tdisablePostFormats: editorSettings.disablePostFormats,\n\t\t};\n\t}\n)( PostFormatCheck );\n\n","/**\n * External dependencies\n */\nimport { find, get, includes, union } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, SelectControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostFormatCheck from './check';\n\nexport const POST_FORMATS = [\n\t{ id: 'aside', caption: __( 'Aside' ) },\n\t{ id: 'gallery', caption: __( 'Gallery' ) },\n\t{ id: 'link', caption: __( 'Link' ) },\n\t{ id: 'image', caption: __( 'Image' ) },\n\t{ id: 'quote', caption: __( 'Quote' ) },\n\t{ id: 'standard', caption: __( 'Standard' ) },\n\t{ id: 'status', caption: __( 'Status' ) },\n\t{ id: 'video', caption: __( 'Video' ) },\n\t{ id: 'audio', caption: __( 'Audio' ) },\n\t{ id: 'chat', caption: __( 'Chat' ) },\n];\n\nfunction PostFormat( { onUpdatePostFormat, postFormat = 'standard', supportedFormats, suggestedFormat, instanceId } ) {\n\tconst postFormatSelectorId = 'post-format-selector-' + instanceId;\n\tconst formats = POST_FORMATS.filter( ( format ) => includes( supportedFormats, format.id ) );\n\tconst suggestion = find( formats, ( format ) => format.id === suggestedFormat );\n\n\t// Disable reason: We need to change the value immiediately to show/hide the suggestion if needed\n\n\treturn (\n\t\t<PostFormatCheck>\n\t\t\t<div className=\"editor-post-format\">\n\t\t\t\t<div className=\"editor-post-format__content\">\n\t\t\t\t\t<label htmlFor={ postFormatSelectorId }>{ __( 'Post Format' ) }</label>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={ postFormat }\n\t\t\t\t\t\tonChange={ ( format ) => onUpdatePostFormat( format ) }\n\t\t\t\t\t\tid={ postFormatSelectorId }\n\t\t\t\t\t\toptions={ formats.map( ( format ) => ( {\n\t\t\t\t\t\t\tlabel: format.caption,\n\t\t\t\t\t\t\tvalue: format.id,\n\t\t\t\t\t\t} ) ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t{ suggestion && suggestion.id !== postFormat && (\n\t\t\t\t\t<div className=\"editor-post-format__suggestion\">\n\t\t\t\t\t\t{ __( 'Suggestion:' ) }{ ' ' }\n\t\t\t\t\t\t<Button isLink onClick={ () => onUpdatePostFormat( suggestion.id ) }>\n\t\t\t\t\t\t\t{ suggestion.caption }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t</PostFormatCheck>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } = select( 'core/editor' );\n\t\tconst postFormat = getEditedPostAttribute( 'format' );\n\t\tconst themeSupports = select( 'core' ).getThemeSupports();\n\t\t// Ensure current format is always in the set.\n\t\t// The current format may not be a format supported by the theme.\n\t\tconst supportedFormats = union( [ postFormat ], get( themeSupports, [ 'formats' ], [] ) );\n\t\treturn {\n\t\t\tpostFormat,\n\t\t\tsupportedFormats,\n\t\t\tsuggestedFormat: getSuggestedPostFormat(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdatePostFormat( postFormat ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { format: postFormat } );\n\t\t},\n\t} ) ),\n\twithInstanceId,\n] )( PostFormat );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostTypeSupportCheck from '../post-type-support-check';\n\nexport function PostLastRevisionCheck( { lastRevisionId, revisionsCount, children } ) {\n\tif ( ! lastRevisionId || revisionsCount < 2 ) {\n\t\treturn null;\n\t}\n\n\treturn <PostTypeSupportCheck supportKeys=\"revisions\" >{ children }</PostTypeSupportCheck>;\n}\n\nexport default withSelect(\n\t( select ) => {\n\t\tconst { getCurrentPostLastRevisionId, getCurrentPostRevisionsCount } = select( 'core/editor' );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}\n)( PostLastRevisionCheck );\n","/**\n * WordPress dependencies\n */\nimport { sprintf, _n } from '@wordpress/i18n';\nimport { IconButton } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostLastRevisionCheck from './check';\nimport { getWPAdminURL } from '../../utils/url';\n\nfunction LastRevision( { lastRevisionId, revisionsCount } ) {\n\treturn (\n\t\t<PostLastRevisionCheck>\n\t\t\t<IconButton\n\t\t\t\thref={ getWPAdminURL( 'revision.php', { revision: lastRevisionId, gutenberg: true } ) }\n\t\t\t\tclassName=\"editor-post-last-revision__title\"\n\t\t\t\ticon=\"backup\"\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t_n( '%d Revision', '%d Revisions', revisionsCount ),\n\t\t\t\t\t\trevisionsCount\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</IconButton>\n\t\t</PostLastRevisionCheck>\n\t);\n}\n\nexport default withSelect(\n\t( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPostLastRevisionId,\n\t\t\tgetCurrentPostRevisionsCount,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tlastRevisionId: getCurrentPostLastRevisionId(),\n\t\t\trevisionsCount: getCurrentPostRevisionsCount(),\n\t\t};\n\t}\n)( LastRevision );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Modal, Button } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { addQueryArgs } from '@wordpress/url';\nimport { Component } from '@wordpress/element';\nimport { addAction, removeAction } from '@wordpress/hooks';\nimport { compose, withGlobalEvents, withInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { getWPAdminURL } from '../../utils/url';\nimport PostPreviewButton from '../post-preview-button';\n\nclass PostLockedModal extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.sendPostLock = this.sendPostLock.bind( this );\n\t\tthis.receivePostLock = this.receivePostLock.bind( this );\n\t\tthis.releasePostLock = this.releasePostLock.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\tconst hookName = this.getHookName();\n\n\t\t// Details on these events on the Heartbeat API docs\n\t\t// https://developer.wordpress.org/plugins/javascript/heartbeat-api/\n\t\taddAction( 'heartbeat.send', hookName, this.sendPostLock );\n\t\taddAction( 'heartbeat.tick', hookName, this.receivePostLock );\n\t}\n\n\tcomponentWillUnmount() {\n\t\tconst hookName = this.getHookName();\n\n\t\tremoveAction( 'heartbeat.send', hookName );\n\t\tremoveAction( 'heartbeat.tick', hookName );\n\t}\n\n\t/**\n\t * Returns a `@wordpress/hooks` hook name specific to the instance of the\n\t * component.\n\t *\n\t * @return {string} Hook name prefix.\n\t */\n\tgetHookName() {\n\t\tconst { instanceId } = this.props;\n\t\treturn 'core/editor/post-locked-modal-' + instanceId;\n\t}\n\n\t/**\n\t * Keep the lock refreshed.\n\t *\n\t * When the user does not send a heartbeat in a heartbeat-tick\n\t * the user is no longer editing and another user can start editing.\n\t *\n\t * @param {Object} data Data to send in the heartbeat request.\n\t */\n\tsendPostLock( data ) {\n\t\tconst { isLocked, activePostLock, postId } = this.props;\n\t\tif ( isLocked ) {\n\t\t\treturn;\n\t\t}\n\n\t\tdata[ 'wp-refresh-post-lock' ] = {\n\t\t\tlock: activePostLock,\n\t\t\tpost_id: postId,\n\t\t};\n\t}\n\n\t/**\n\t * Refresh post locks: update the lock string or show the dialog if somebody has taken over editing.\n\t *\n\t * @param {Object} data Data received in the heartbeat request\n\t */\n\treceivePostLock( data ) {\n\t\tif ( ! data[ 'wp-refresh-post-lock' ] ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { autosave, updatePostLock } = this.props;\n\t\tconst received = data[ 'wp-refresh-post-lock' ];\n\t\tif ( received.lock_error ) {\n\t\t\t// Auto save and display the takeover modal.\n\t\t\tautosave();\n\t\t\tupdatePostLock( {\n\t\t\t\tisLocked: true,\n\t\t\t\tisTakeover: true,\n\t\t\t\tuser: {\n\t\t\t\t\tavatar: received.lock_error.avatar_src,\n\t\t\t\t},\n\t\t\t} );\n\t\t} else if ( received.new_lock ) {\n\t\t\tupdatePostLock( {\n\t\t\t\tisLocked: false,\n\t\t\t\tactivePostLock: received.new_lock,\n\t\t\t} );\n\t\t}\n\t}\n\n\t/**\n\t * Unlock the post before the window is exited.\n\t */\n\treleasePostLock() {\n\t\tconst { isLocked, activePostLock, postLockUtils, postId } = this.props;\n\t\tif ( isLocked || ! activePostLock ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = new window.FormData();\n\t\tdata.append( 'action', 'wp-remove-post-lock' );\n\t\tdata.append( '_wpnonce', postLockUtils.unlockNonce );\n\t\tdata.append( 'post_ID', postId );\n\t\tdata.append( 'active_post_lock', activePostLock );\n\n\t\tif ( window.navigator.sendBeacon ) {\n\t\t\twindow.navigator.sendBeacon( postLockUtils.ajaxUrl, data );\n\t\t} else {\n\t\t\tconst xhr = new window.XMLHttpRequest();\n\t\t\txhr.open( 'POST', postLockUtils.ajaxUrl, false );\n\t\t\txhr.send( data );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { user, postId, isLocked, isTakeover, postLockUtils, postType } = this.props;\n\t\tif ( ! isLocked ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst userDisplayName = user.name;\n\t\tconst userAvatar = user.avatar;\n\n\t\tconst unlockUrl = addQueryArgs( 'post.php', {\n\t\t\t'get-post-lock': '1',\n\t\t\tlockKey: true,\n\t\t\tpost: postId,\n\t\t\taction: 'edit',\n\t\t\t_wpnonce: postLockUtils.nonce,\n\t\t} );\n\t\tconst allPostsUrl = getWPAdminURL( 'edit.php', {\n\t\t\tpost_type: get( postType, [ 'slug' ] ),\n\t\t} );\n\t\tconst allPostsLabel = __( 'Exit the Editor' );\n\t\treturn (\n\t\t\t<Modal\n\t\t\t\ttitle={ isTakeover ? __( 'Someone else has taken over this post.' ) : __( 'This post is already being edited.' ) }\n\t\t\t\tfocusOnMount={ true }\n\t\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\t\tshouldCloseOnEsc={ false }\n\t\t\t\tisDismissable={ false }\n\t\t\t\tclassName=\"editor-post-locked-modal\"\n\t\t\t>\n\t\t\t\t{ !! userAvatar && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={ userAvatar }\n\t\t\t\t\t\talt={ __( 'Avatar' ) }\n\t\t\t\t\t\tclassName=\"editor-post-locked-modal__avatar\"\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ !! isTakeover && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{ userDisplayName ?\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t__( '%s now has editing control of this post. Dont worry, your changes up to this moment have been saved.' ),\n\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t\t__( 'Another user now has editing control of this post. Dont worry, your changes up to this moment have been saved.' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"editor-post-locked-modal__buttons\">\n\t\t\t\t\t\t\t<Button isPrimary isLarge href={ allPostsUrl }>\n\t\t\t\t\t\t\t\t{ allPostsLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ ! isTakeover && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t{ userDisplayName ?\n\t\t\t\t\t\t\t\tsprintf(\n\t\t\t\t\t\t\t\t\t/* translators: %s: user's display name */\n\t\t\t\t\t\t\t\t\t__( '%s is currently working on this post, which means you cannot make changes, unless you take over.' ),\n\t\t\t\t\t\t\t\t\tuserDisplayName\n\t\t\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t\t__( 'Another user is currently working on this post, which means you cannot make changes, unless you take over.' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"editor-post-locked-modal__buttons\">\n\t\t\t\t\t\t\t<Button isDefault isLarge href={ allPostsUrl }>\n\t\t\t\t\t\t\t\t{ allPostsLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<PostPreviewButton />\n\t\t\t\t\t\t\t<Button isPrimary isLarge href={ unlockUrl }>\n\t\t\t\t\t\t\t\t{ __( 'Take Over' ) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t</Modal>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisPostLocked,\n\t\t\tisPostLockTakeover,\n\t\t\tgetPostLockUser,\n\t\t\tgetCurrentPostId,\n\t\t\tgetActivePostLock,\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetEditorSettings,\n\t\t} = select( 'core/editor' );\n\t\tconst { getPostType } = select( 'core' );\n\t\treturn {\n\t\t\tisLocked: isPostLocked(),\n\t\t\tisTakeover: isPostLockTakeover(),\n\t\t\tuser: getPostLockUser(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostLockUtils: getEditorSettings().postLockUtils,\n\t\t\tactivePostLock: getActivePostLock(),\n\t\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { autosave, updatePostLock } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tautosave,\n\t\t\tupdatePostLock,\n\t\t};\n\t} ),\n\twithInstanceId,\n\twithGlobalEvents( {\n\t\tbeforeunload: 'releasePostLock',\n\t} )\n)( PostLockedModal );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostPendingStatusCheck( { hasPublishAction, isPublished, children } ) {\n\tif ( isPublished || ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { isCurrentPostPublished, getCurrentPostType, getCurrentPost } = select( 'core/editor' );\n\t\treturn {\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} )\n)( PostPendingStatusCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostPendingStatusCheck from './check';\n\nexport function PostPendingStatus( { status, onUpdateStatus } ) {\n\tconst togglePendingStatus = () => {\n\t\tconst updatedStatus = status === 'pending' ? 'draft' : 'pending';\n\t\tonUpdateStatus( updatedStatus );\n\t};\n\n\treturn (\n\t\t<PostPendingStatusCheck>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={ __( 'Pending Review' ) }\n\t\t\t\tchecked={ status === 'pending' }\n\t\t\t\tonChange={ togglePendingStatus }\n\t\t\t/>\n\t\t</PostPendingStatusCheck>\n\t);\n}\n\nexport default compose(\n\twithSelect( ( select ) => ( {\n\t\tstatus: select( 'core/editor' ).getEditedPostAttribute( 'status' ),\n\t} ) ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateStatus( status ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { status } );\n\t\t},\n\t} ) ),\n)( PostPendingStatus );\n","/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport { cleanForSlug } from '../../utils/url';\n\nclass PostPermalinkEditor extends Component {\n\tconstructor( { permalinkParts, slug } ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.state = {\n\t\t\teditedPostName: slug || permalinkParts.postName,\n\t\t};\n\n\t\tthis.onSavePermalink = this.onSavePermalink.bind( this );\n\t}\n\n\tonSavePermalink( event ) {\n\t\tconst postName = cleanForSlug( this.state.editedPostName );\n\n\t\tevent.preventDefault();\n\n\t\tthis.props.onSave();\n\n\t\tif ( postName === this.props.postName ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.props.editPost( {\n\t\t\tslug: postName,\n\t\t} );\n\n\t\tthis.setState( {\n\t\t\teditedPostName: postName,\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { prefix, suffix } = this.props.permalinkParts;\n\t\tconst { editedPostName } = this.state;\n\n\t\t/* eslint-disable jsx-a11y/no-autofocus */\n\t\t// Autofocus is allowed here, as this mini-UI is only loaded when the user clicks to open it.\n\t\treturn (\n\t\t\t<form\n\t\t\t\tclassName=\"editor-post-permalink-editor\"\n\t\t\t\tonSubmit={ this.onSavePermalink }\n\t\t\t>\n\t\t\t\t<span className=\"editor-post-permalink__editor-container\">\n\t\t\t\t\t<span className=\"editor-post-permalink-editor__prefix\">\n\t\t\t\t\t\t{ prefix }\n\t\t\t\t\t</span>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"editor-post-permalink-editor__edit\"\n\t\t\t\t\t\taria-label={ __( 'Edit post permalink' ) }\n\t\t\t\t\t\tvalue={ editedPostName }\n\t\t\t\t\t\tonChange={ ( event ) => this.setState( { editedPostName: event.target.value } ) }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t/>\n\t\t\t\t\t<span className=\"editor-post-permalink-editor__suffix\">\n\t\t\t\t\t\t{ suffix }\n\t\t\t\t\t</span>\n\t\t\t\t\t&lrm;\n\t\t\t\t</span>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"editor-post-permalink-editor__save\"\n\t\t\t\t\tisLarge\n\t\t\t\t\tonClick={ this.onSavePermalink }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Save' ) }\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t);\n\t\t/* eslint-enable jsx-a11y/no-autofocus */\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getPermalinkParts } = select( 'core/editor' );\n\t\treturn {\n\t\t\tpermalinkParts: getPermalinkParts(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost } = dispatch( 'core/editor' );\n\t\treturn { editPost };\n\t} ),\n] )( PostPermalinkEditor );\n\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Component } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { ClipboardButton, Button, ExternalLink } from '@wordpress/components';\nimport { safeDecodeURI, safeDecodeURIComponent } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostPermalinkEditor from './editor.js';\nimport { cleanForSlug } from '../../utils/url';\n\nclass PostPermalink extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.addVisibilityCheck = this.addVisibilityCheck.bind( this );\n\t\tthis.onVisibilityChange = this.onVisibilityChange.bind( this );\n\n\t\tthis.state = {\n\t\t\tisCopied: false,\n\t\t\tisEditingPermalink: false,\n\t\t};\n\t}\n\n\taddVisibilityCheck() {\n\t\twindow.addEventListener( 'visibilitychange', this.onVisibilityChange );\n\t}\n\n\tonVisibilityChange() {\n\t\tconst { isEditable, refreshPost } = this.props;\n\t\t// If the user just returned after having clicked the \"Change Permalinks\" button,\n\t\t// fetch a new copy of the post from the server, just in case they enabled permalinks.\n\t\tif ( ! isEditable && 'visible' === document.visibilityState ) {\n\t\t\trefreshPost();\n\t\t}\n\t}\n\n\tcomponentDidUpdate( prevProps, prevState ) {\n\t\t// If we've just stopped editing the permalink, focus on the new permalink.\n\t\tif ( prevState.isEditingPermalink && ! this.state.isEditingPermalink ) {\n\t\t\tthis.linkElement.focus();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'visibilitychange', this.addVisibilityCheck );\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tisEditable,\n\t\t\tisNew,\n\t\t\tisPublished,\n\t\t\tisViewable,\n\t\t\tpermalinkParts,\n\t\t\tpostLink,\n\t\t\tpostSlug,\n\t\t\tpostID,\n\t\t\tpostTitle,\n\t\t} = this.props;\n\n\t\tif ( isNew || ! isViewable || ! permalinkParts || ! postLink ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { isCopied, isEditingPermalink } = this.state;\n\t\tconst ariaLabel = isCopied ? __( 'Permalink copied' ) : __( 'Copy the permalink' );\n\n\t\tconst { prefix, suffix } = permalinkParts;\n\t\tconst slug = safeDecodeURIComponent( postSlug ) || cleanForSlug( postTitle ) || postID;\n\t\tconst samplePermalink = ( isEditable ) ? prefix + slug + suffix : prefix;\n\n\t\treturn (\n\t\t\t<div className=\"editor-post-permalink\">\n\t\t\t\t<ClipboardButton\n\t\t\t\t\tclassName={ classnames( 'editor-post-permalink__copy', { 'is-copied': isCopied } ) }\n\t\t\t\t\ttext={ samplePermalink }\n\t\t\t\t\tlabel={ ariaLabel }\n\t\t\t\t\tonCopy={ () => this.setState( { isCopied: true } ) }\n\t\t\t\t\taria-disabled={ isCopied }\n\t\t\t\t\ticon=\"admin-links\"\n\t\t\t\t/>\n\n\t\t\t\t<span className=\"editor-post-permalink__label\">{ __( 'Permalink:' ) }</span>\n\n\t\t\t\t{ ! isEditingPermalink &&\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\tclassName=\"editor-post-permalink__link\"\n\t\t\t\t\t\thref={ ! isPublished ? postLink : samplePermalink }\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\tref={ ( linkElement ) => this.linkElement = linkElement }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ safeDecodeURI( samplePermalink ) }\n\t\t\t\t\t\t&lrm;\n\t\t\t\t\t</ExternalLink>\n\t\t\t\t}\n\n\t\t\t\t{ isEditingPermalink &&\n\t\t\t\t\t<PostPermalinkEditor\n\t\t\t\t\t\tslug={ slug }\n\t\t\t\t\t\tonSave={ () => this.setState( { isEditingPermalink: false } ) }\n\t\t\t\t\t/>\n\t\t\t\t}\n\n\t\t\t\t{ isEditable && ! isEditingPermalink &&\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"editor-post-permalink__edit\"\n\t\t\t\t\t\tisLarge\n\t\t\t\t\t\tonClick={ () => this.setState( { isEditingPermalink: true } ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Edit' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisEditedPostNew,\n\t\t\tisPermalinkEditable,\n\t\t\tgetCurrentPost,\n\t\t\tgetPermalinkParts,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisCurrentPostPublished,\n\t\t} = select( 'core/editor' );\n\t\tconst {\n\t\t\tgetPostType,\n\t\t} = select( 'core' );\n\n\t\tconst { id, link } = getCurrentPost();\n\n\t\tconst postTypeName = getEditedPostAttribute( 'type' );\n\t\tconst postType = getPostType( postTypeName );\n\n\t\treturn {\n\t\t\tisNew: isEditedPostNew(),\n\t\t\tpostLink: link,\n\t\t\tpermalinkParts: getPermalinkParts(),\n\t\t\tpostSlug: getEditedPostAttribute( 'slug' ),\n\t\t\tisEditable: isPermalinkEditable(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tpostTitle: getEditedPostAttribute( 'title' ),\n\t\t\tpostID: id,\n\t\t\tisViewable: get( postType, [ 'viewable' ], false ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { refreshPost } = dispatch( 'core/editor' );\n\t\treturn { refreshPost };\n\t} ),\n] )( PostPermalink );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction PostPingbacks( { pingStatus = 'open', ...props } ) {\n\tconst onTogglePingback = () => props.editPost( { ping_status: pingStatus === 'open' ? 'closed' : 'open' } );\n\n\treturn (\n\t\t<CheckboxControl\n\t\t\tlabel={ __( 'Allow Pingbacks & Trackbacks' ) }\n\t\t\tchecked={ pingStatus === 'open' }\n\t\t\tonChange={ onTogglePingback }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpingStatus: select( 'core/editor' ).getEditedPostAttribute( 'ping_status' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\teditPost: dispatch( 'core/editor' ).editPost,\n\t} ) ),\n] )( PostPingbacks );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Component, renderToString } from '@wordpress/element';\nimport { Button, Path, SVG } from '@wordpress/components';\nimport { __, _x } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { DotTip } from '@wordpress/nux';\nimport { ifCondition, compose } from '@wordpress/compose';\nimport { applyFilters } from '@wordpress/hooks';\n\nfunction writeInterstitialMessage( targetDocument ) {\n\tlet markup = renderToString(\n\t\t<div className=\"editor-post-preview-button__interstitial-message\">\n\t\t\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 96 96\">\n\t\t\t\t<Path className=\"outer\" d=\"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36\" fill=\"none\" />\n\t\t\t\t<Path className=\"inner\" d=\"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z\" fill=\"none\" />\n\t\t\t</SVG>\n\t\t\t<p>{ __( 'Generating preview' ) }</p>\n\t\t</div>\n\t);\n\n\tmarkup += `\n\t\t<style>\n\t\t\tbody {\n\t\t\t\tmargin: 0;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\twidth: 100vw;\n\t\t\t}\n\t\t\t@-webkit-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-moz-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@-o-keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t@keyframes paint {\n\t\t\t\t0% {\n\t\t\t\t\tstroke-dashoffset: 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg {\n\t\t\t\twidth: 192px;\n\t\t\t\theight: 192px;\n\t\t\t\tstroke: #555d66;\n\t\t\t\tstroke-width: 0.75;\n\t\t\t}\n\t\t\t.editor-post-preview-button__interstitial-message svg .outer,\n\t\t\t.editor-post-preview-button__interstitial-message svg .inner {\n\t\t\t\tstroke-dasharray: 280;\n\t\t\t\tstroke-dashoffset: 280;\n\t\t\t\t-webkit-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-moz-animation: paint 1.5s ease infinite alternate;\n\t\t\t\t-o-animation: paint 1.5s ease infinite alternate;\n\t\t\t\tanimation: paint 1.5s ease infinite alternate;\n\t\t\t}\n\t\t\tp {\n\t\t\t\ttext-align: center;\n\t\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n\t\t\t}\n\t\t</style>\n\t`;\n\n\t/**\n\t * Filters the interstitial message shown when generating previews.\n\t *\n\t * @param {string} markup The preview interstitial markup.\n\t */\n\tmarkup = applyFilters( 'editor.PostPreview.interstitialMarkup', markup );\n\n\ttargetDocument.write( markup );\n\ttargetDocument.title = __( 'Generating preview' );\n\ttargetDocument.close();\n}\n\nexport class PostPreviewButton extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.openPreviewWindow = this.openPreviewWindow.bind( this );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tconst { previewLink } = this.props;\n\n\t\t// This relies on the window being responsible to unset itself when\n\t\t// navigation occurs or a new preview window is opened, to avoid\n\t\t// unintentional forceful redirects.\n\t\tif ( previewLink && ! prevProps.previewLink ) {\n\t\t\tthis.setPreviewWindowLink( previewLink );\n\t\t}\n\t}\n\n\t/**\n\t * Sets the preview window's location to the given URL, if a preview window\n\t * exists and is not closed.\n\t *\n\t * @param {string} url URL to assign as preview window location.\n\t */\n\tsetPreviewWindowLink( url ) {\n\t\tconst { previewWindow } = this;\n\n\t\tif ( previewWindow && ! previewWindow.closed ) {\n\t\t\tpreviewWindow.location = url;\n\t\t}\n\t}\n\n\tgetWindowTarget() {\n\t\tconst { postId } = this.props;\n\t\treturn `wp-preview-${ postId }`;\n\t}\n\n\topenPreviewWindow( event ) {\n\t\t// Our Preview button has its 'href' and 'target' set correctly for a11y\n\t\t// purposes. Unfortunately, though, we can't rely on the default 'click'\n\t\t// handler since sometimes it incorrectly opens a new tab instead of reusing\n\t\t// the existing one.\n\t\t// https://github.com/WordPress/gutenberg/pull/8330\n\t\tevent.preventDefault();\n\n\t\t// Open up a Preview tab if needed. This is where we'll show the preview.\n\t\tif ( ! this.previewWindow || this.previewWindow.closed ) {\n\t\t\tthis.previewWindow = window.open( '', this.getWindowTarget() );\n\t\t}\n\n\t\t// Focus the Preview tab. This might not do anything, depending on the browser's\n\t\t// and user's preferences.\n\t\t// https://html.spec.whatwg.org/multipage/interaction.html#dom-window-focus\n\t\tthis.previewWindow.focus();\n\n\t\t// If we don't need to autosave the post before previewing, then we simply\n\t\t// load the Preview URL in the Preview tab.\n\t\tif ( ! this.props.isAutosaveable ) {\n\t\t\tthis.setPreviewWindowLink( event.target.href );\n\t\t\treturn;\n\t\t}\n\n\t\t// Request an autosave. This happens asynchronously and causes the component\n\t\t// to update when finished.\n\t\tif ( this.props.isDraft ) {\n\t\t\tthis.props.savePost( { isPreview: true } );\n\t\t} else {\n\t\t\tthis.props.autosave( { isPreview: true } );\n\t\t}\n\n\t\t// Display a 'Generating preview' message in the Preview tab while we wait for the\n\t\t// autosave to finish.\n\t\twriteInterstitialMessage( this.previewWindow.document );\n\t}\n\n\trender() {\n\t\tconst { previewLink, currentPostLink, isSaveable } = this.props;\n\n\t\t// Link to the `?preview=true` URL if we have it, since this lets us see\n\t\t// changes that were autosaved since the post was last published. Otherwise,\n\t\t// just link to the post's URL.\n\t\tconst href = previewLink || currentPostLink;\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tisLarge\n\t\t\t\tclassName=\"editor-post-preview\"\n\t\t\t\thref={ href }\n\t\t\t\ttarget={ this.getWindowTarget() }\n\t\t\t\tdisabled={ ! isSaveable }\n\t\t\t\tonClick={ this.openPreviewWindow }\n\t\t\t>\n\t\t\t\t{ _x( 'Preview', 'imperative verb' ) }\n\t\t\t\t<span className=\"screen-reader-text\">\n\t\t\t\t\t{\n\t\t\t\t\t\t/* translators: accessibility text */\n\t\t\t\t\t\t__( '(opens in a new tab)' )\n\t\t\t\t\t}\n\t\t\t\t</span>\n\t\t\t\t<DotTip tipId=\"core/editor.preview\">\n\t\t\t\t\t{ __( 'Click Preview to load a preview of this page, so you can make sure youre happy with your blocks.' ) }\n\t\t\t\t</DotTip>\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { forcePreviewLink, forceIsAutosaveable } ) => {\n\t\tconst {\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostAttribute,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisEditedPostSaveable,\n\t\t\tisEditedPostAutosaveable,\n\t\t\tgetEditedPostPreviewLink,\n\t\t} = select( 'core/editor' );\n\t\tconst {\n\t\t\tgetPostType,\n\t\t} = select( 'core' );\n\n\t\tconst previewLink = getEditedPostPreviewLink();\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tcurrentPostLink: getCurrentPostAttribute( 'link' ),\n\t\t\tpreviewLink: forcePreviewLink !== undefined ? forcePreviewLink : previewLink,\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisAutosaveable: forceIsAutosaveable || isEditedPostAutosaveable(),\n\t\t\tisViewable: get( postType, [ 'viewable' ], false ),\n\t\t\tisDraft: [ 'draft', 'auto-draft' ].indexOf( getEditedPostAttribute( 'status' ) ) !== -1,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tautosave: dispatch( 'core/editor' ).autosave,\n\t\tsavePost: dispatch( 'core/editor' ).savePost,\n\t} ) ),\n\tifCondition( ( { isViewable } ) => isViewable ),\n] )( PostPreviewButton );\n","/**\n * External dependencies\n */\nimport { noop, get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { Component, createRef } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\nimport { DotTip } from '@wordpress/nux';\n\n/**\n * Internal dependencies\n */\nimport PublishButtonLabel from './label';\nexport class PostPublishButton extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.buttonNode = createRef();\n\t}\n\tcomponentDidMount() {\n\t\tif ( this.props.focusOnMount ) {\n\t\t\tthis.buttonNode.current.focus();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\tforceIsSaving,\n\t\t\thasPublishAction,\n\t\t\tisBeingScheduled,\n\t\t\tisOpen,\n\t\t\tisPostSavingLocked,\n\t\t\tisPublishable,\n\t\t\tisPublished,\n\t\t\tisSaveable,\n\t\t\tisSaving,\n\t\t\tisToggle,\n\t\t\tonSave,\n\t\t\tonStatusChange,\n\t\t\tonSubmit = noop,\n\t\t\tonToggle,\n\t\t\tvisibility,\n\t\t} = this.props;\n\t\tconst isButtonDisabled =\n\t\t\tisSaving ||\n\t\t\tforceIsSaving ||\n\t\t\t! isSaveable ||\n\t\t\tisPostSavingLocked ||\n\t\t\t( ! isPublishable && ! forceIsDirty );\n\n\t\tconst isToggleDisabled =\n\t\t\tisPublished ||\n\t\t\tisSaving ||\n\t\t\tforceIsSaving ||\n\t\t\t! isSaveable ||\n\t\t\t( ! isPublishable && ! forceIsDirty );\n\n\t\tlet publishStatus;\n\t\tif ( ! hasPublishAction ) {\n\t\t\tpublishStatus = 'pending';\n\t\t} else if ( isBeingScheduled ) {\n\t\t\tpublishStatus = 'future';\n\t\t} else if ( visibility === 'private' ) {\n\t\t\tpublishStatus = 'private';\n\t\t} else {\n\t\t\tpublishStatus = 'publish';\n\t\t}\n\n\t\tconst onClickButton = () => {\n\t\t\tif ( isButtonDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonSubmit();\n\t\t\tonStatusChange( publishStatus );\n\t\t\tonSave();\n\t\t};\n\n\t\tconst onClickToggle = () => {\n\t\t\tif ( isToggleDisabled ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tonToggle();\n\t\t};\n\n\t\tconst buttonProps = {\n\t\t\t'aria-disabled': isButtonDisabled,\n\t\t\tclassName: 'editor-post-publish-button',\n\t\t\tisBusy: isSaving && isPublished,\n\t\t\tisPrimary: true,\n\t\t\tonClick: onClickButton,\n\t\t};\n\n\t\tconst toggleProps = {\n\t\t\t'aria-disabled': isToggleDisabled,\n\t\t\t'aria-expanded': isOpen,\n\t\t\tclassName: 'editor-post-publish-panel__toggle',\n\t\t\tisBusy: isSaving && isPublished,\n\t\t\tisPrimary: true,\n\t\t\tonClick: onClickToggle,\n\t\t};\n\n\t\tconst toggleChildren = isBeingScheduled ? __( 'Schedule' ) : __( 'Publish' );\n\t\tconst buttonChildren = <PublishButtonLabel forceIsSaving={ forceIsSaving } />;\n\n\t\tconst componentProps = isToggle ? toggleProps : buttonProps;\n\t\tconst componentChildren = isToggle ? toggleChildren : buttonChildren;\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Button\n\t\t\t\t\tref={ this.buttonNode }\n\t\t\t\t\t{ ...componentProps }\n\t\t\t\t>\n\t\t\t\t\t{ componentChildren }\n\t\t\t\t</Button>\n\t\t\t\t{ /* Todo: Remove the wrapping div when DotTips are removed. */ }\n\t\t\t\t<DotTip tipId=\"core/editor.publish\">\n\t\t\t\t\t{ __( 'Finished writing? Thats great, lets get this published right now. Just click Publish and youre good to go.' ) }\n\t\t\t\t</DotTip>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisSavingPost,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tgetEditedPostVisibility,\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostSaveable,\n\t\t\tisEditedPostPublishable,\n\t\t\tisPostSavingLocked,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tvisibility: getEditedPostVisibility(),\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisPostSavingLocked: isPostSavingLocked(),\n\t\t\tisPublishable: isEditedPostPublishable(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonStatusChange: ( status ) => editPost( { status }, { undoIgnore: true } ),\n\t\t\tonSave: savePost,\n\t\t};\n\t} ),\n] )( PostPublishButton );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PublishButtonLabel( {\n\tisPublished,\n\tisBeingScheduled,\n\tisSaving,\n\tisPublishing,\n\thasPublishAction,\n\tisAutosaving,\n} ) {\n\tif ( isPublishing ) {\n\t\treturn __( 'Publishing' );\n\t} else if ( isPublished && isSaving && ! isAutosaving ) {\n\t\treturn __( 'Updating' );\n\t} else if ( isBeingScheduled && isSaving && ! isAutosaving ) {\n\t\treturn __( 'Scheduling' );\n\t}\n\n\tif ( ! hasPublishAction ) {\n\t\treturn __( 'Submit for Review' );\n\t} else if ( isPublished ) {\n\t\treturn __( 'Update' );\n\t} else if ( isBeingScheduled ) {\n\t\treturn __( 'Schedule' );\n\t}\n\n\treturn __( 'Publish' );\n}\n\nexport default compose( [\n\twithSelect( ( select, { forceIsSaving } ) => {\n\t\tconst {\n\t\t\tisCurrentPostPublished,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisSavingPost,\n\t\t\tisPublishingPost,\n\t\t\tgetCurrentPost,\n\t\t\tgetCurrentPostType,\n\t\t\tisAutosavingPost,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisSaving: forceIsSaving || isSavingPost(),\n\t\t\tisPublishing: isPublishingPost(),\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t};\n\t} ),\n] )( PublishButtonLabel );\n","/**\n * External dependencies\n */\nimport { get, omit } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport {\n\tIconButton,\n\tSpinner,\n\tCheckboxControl,\n\twithFocusReturn,\n\twithConstrainedTabbing,\n} from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostPublishButton from '../post-publish-button';\nimport PostPublishPanelPrepublish from './prepublish';\nimport PostPublishPanelPostpublish from './postpublish';\n\nexport class PostPublishPanel extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onSubmit = this.onSubmit.bind( this );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\t// Automatically collapse the publish sidebar when a post\n\t\t// is published and the user makes an edit.\n\t\tif ( prevProps.isPublished && ! this.props.isSaving && this.props.isDirty ) {\n\t\t\tthis.props.onClose();\n\t\t}\n\t}\n\n\tonSubmit() {\n\t\tconst { onClose, hasPublishAction, isPostTypeViewable } = this.props;\n\t\tif ( ! hasPublishAction || ! isPostTypeViewable ) {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tforceIsDirty,\n\t\t\tforceIsSaving,\n\t\t\tisBeingScheduled,\n\t\t\tisPublished,\n\t\t\tisPublishSidebarEnabled,\n\t\t\tisScheduled,\n\t\t\tisSaving,\n\t\t\tonClose,\n\t\t\tonTogglePublishSidebar,\n\t\t\tPostPublishExtension,\n\t\t\tPrePublishExtension,\n\t\t\t...additionalProps\n\t\t} = this.props;\n\t\tconst propsForPanel = omit( additionalProps, [ 'hasPublishAction', 'isDirty', 'isPostTypeViewable' ] );\n\t\tconst isPublishedOrScheduled = isPublished || ( isScheduled && isBeingScheduled );\n\t\tconst isPrePublish = ! isPublishedOrScheduled && ! isSaving;\n\t\tconst isPostPublish = isPublishedOrScheduled && ! isSaving;\n\t\treturn (\n\t\t\t<div className=\"editor-post-publish-panel\" { ...propsForPanel }>\n\t\t\t\t<div className=\"editor-post-publish-panel__header\">\n\t\t\t\t\t{ isPostPublish ? (\n\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-published\">\n\t\t\t\t\t\t\t{ isScheduled ? __( 'Scheduled' ) : __( 'Published' ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"editor-post-publish-panel__header-publish-button\">\n\t\t\t\t\t\t\t<PostPublishButton focusOnMount={ true } onSubmit={ this.onSubmit } forceIsDirty={ forceIsDirty } forceIsSaving={ forceIsSaving } />\n\t\t\t\t\t\t\t<span className=\"editor-post-publish-panel__spacer\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\taria-expanded={ true }\n\t\t\t\t\t\tonClick={ onClose }\n\t\t\t\t\t\ticon=\"no-alt\"\n\t\t\t\t\t\tlabel={ __( 'Close panel' ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__content\">\n\t\t\t\t\t{ isPrePublish && (\n\t\t\t\t\t\t<PostPublishPanelPrepublish>\n\t\t\t\t\t\t\t{ PrePublishExtension && <PrePublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPrepublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isPostPublish && (\n\t\t\t\t\t\t<PostPublishPanelPostpublish focusOnMount={ true } >\n\t\t\t\t\t\t\t{ PostPublishExtension && <PostPublishExtension /> }\n\t\t\t\t\t\t</PostPublishPanelPostpublish>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isSaving && ( <Spinner /> ) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"editor-post-publish-panel__footer\">\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={ __( 'Always show pre-publish checks.' ) }\n\t\t\t\t\t\tchecked={ isPublishSidebarEnabled }\n\t\t\t\t\t\tonChange={ onTogglePublishSidebar }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getPostType } = select( 'core' );\n\t\tconst {\n\t\t\tgetCurrentPost,\n\t\t\tgetEditedPostAttribute,\n\t\t\tisCurrentPostPublished,\n\t\t\tisCurrentPostScheduled,\n\t\t\tisEditedPostBeingScheduled,\n\t\t\tisEditedPostDirty,\n\t\t\tisSavingPost,\n\t\t} = select( 'core/editor' );\n\t\tconst { isPublishSidebarEnabled } = select( 'core/editor' );\n\t\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\n\t\treturn {\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tisPostTypeViewable: get( postType, [ 'viewable' ], false ),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t\tisDirty: isEditedPostDirty(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisPublishSidebarEnabled: isPublishSidebarEnabled(),\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { isPublishSidebarEnabled } ) => {\n\t\tconst { disablePublishSidebar, enablePublishSidebar } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonTogglePublishSidebar: ( ) => {\n\t\t\t\tif ( isPublishSidebarEnabled ) {\n\t\t\t\t\tdisablePublishSidebar();\n\t\t\t\t} else {\n\t\t\t\t\tenablePublishSidebar();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n\twithFocusReturn,\n\twithConstrainedTabbing,\n] )( PostPublishPanel );\n","/**\n * External dependencies\n */\nimport { find, get, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport { ifCondition, compose } from '@wordpress/compose';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { Button, PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport { POST_FORMATS } from '../post-format';\n\nconst PostFormatSuggestion = ( { suggestedPostFormat, suggestionText, onUpdatePostFormat } ) => (\n\t<Button isLink onClick={ () => onUpdatePostFormat( suggestedPostFormat ) }>\n\t\t{ suggestionText }\n\t</Button>\n);\n\nconst PostFormatPanel = ( { suggestion, onUpdatePostFormat } ) => {\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t(\n\t\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t\t{ __( 'Use a post format' ) }\n\t\t\t</span>\n\t\t),\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle } >\n\t\t\t<p>\n\t\t\t\t{ __( 'Your theme uses post formats to highlight different kinds of content, like images or videos. Apply a post format to see this special styling.' ) }\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<PostFormatSuggestion\n\t\t\t\t\tonUpdatePostFormat={ onUpdatePostFormat }\n\t\t\t\t\tsuggestedPostFormat={ suggestion.id }\n\t\t\t\t\tsuggestionText={ sprintf(\n\t\t\t\t\t\t__( 'Apply the \"%1$s\" format.' ),\n\t\t\t\t\t\tsuggestion.caption\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</p>\n\t\t</PanelBody>\n\t);\n};\n\nconst getSuggestion = ( supportedFormats, suggestedPostFormat ) => {\n\tconst formats = POST_FORMATS.filter( ( format ) => includes( supportedFormats, format.id ) );\n\treturn find( formats, ( format ) => format.id === suggestedPostFormat );\n};\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst { getEditedPostAttribute, getSuggestedPostFormat } = select( 'core/editor' );\n\t\tconst supportedFormats = get( select( 'core' ).getThemeSupports(), [ 'formats' ], [] );\n\t\treturn {\n\t\t\tcurrentPostFormat: getEditedPostAttribute( 'format' ),\n\t\t\tsuggestion: getSuggestion( supportedFormats, getSuggestedPostFormat() ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdatePostFormat( postFormat ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { format: postFormat } );\n\t\t},\n\t} ) ),\n\tifCondition( ( { suggestion, currentPostFormat } ) => suggestion && suggestion.id !== currentPostFormat ),\n)( PostFormatPanel );\n","/**\n * External dependencies\n */\nimport { some } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { compose, ifCondition } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\nimport { PanelBody } from '@wordpress/components';\n\n/**\n * Internal dependencies\n */\nimport FlatTermSelector from '../post-taxonomies/flat-term-selector';\n\nconst TagsPanel = () => {\n\tconst panelBodyTitle = [\n\t\t__( 'Suggestion:' ),\n\t\t(\n\t\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\">\n\t\t\t\t{ __( 'Add tags' ) }\n\t\t\t</span>\n\t\t),\n\t];\n\n\treturn (\n\t\t<PanelBody initialOpen={ false } title={ panelBodyTitle }>\n\t\t\t<p>\n\t\t\t\t{ __( 'Tags help users and search engines navigate your site and find your content. Add a few keywords to describe your post.' ) }\n\t\t\t</p>\n\t\t\t<FlatTermSelector slug={ 'post_tag' } />\n\t\t</PanelBody>\n\t);\n};\n\nclass MaybeTagsPanel extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t\tthis.state = {\n\t\t\thadTagsWhenOpeningThePanel: props.hasTags,\n\t\t};\n\t}\n\n\t/*\n\t * We only want to show the tag panel if the post didn't have\n\t * any tags when the user hit the Publish button.\n\t *\n\t * We can't use the prop.hasTags because it'll change to true\n\t * if the user adds a new tag within the pre-publish panel.\n\t * This would force a re-render and a new prop.hasTags check,\n\t * hiding this panel and keeping the user from adding\n\t * more than one tag.\n\t */\n\trender() {\n\t\tif ( ! this.state.hadTagsWhenOpeningThePanel ) {\n\t\t\treturn <TagsPanel />;\n\t\t}\n\n\t\treturn null;\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select ) => {\n\t\tconst postType = select( 'core/editor' ).getCurrentPostType();\n\t\tconst tagsTaxonomy = select( 'core' ).getTaxonomy( 'post_tag' );\n\t\tconst tags = tagsTaxonomy && select( 'core/editor' ).getEditedPostAttribute( tagsTaxonomy.rest_base );\n\t\treturn {\n\t\t\tareTagsFetched: tagsTaxonomy !== undefined,\n\t\t\tisPostTypeSupported: tagsTaxonomy && some( tagsTaxonomy.types, ( type ) => type === postType ),\n\t\t\thasTags: tags && tags.length,\n\t\t};\n\t} ),\n\tifCondition( ( { areTagsFetched, isPostTypeSupported } ) => isPostTypeSupported && areTagsFetched ),\n)( MaybeTagsPanel );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { PanelBody, Button, ClipboardButton, TextControl } from '@wordpress/components';\nimport { __, sprintf } from '@wordpress/i18n';\nimport { Component, createRef } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { safeDecodeURIComponent } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport PostScheduleLabel from '../post-schedule/label';\n\nclass PostPublishPanelPostpublish extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tshowCopyConfirmation: false,\n\t\t};\n\t\tthis.onCopy = this.onCopy.bind( this );\n\t\tthis.onSelectInput = this.onSelectInput.bind( this );\n\t\tthis.postLink = createRef();\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( this.props.focusOnMount ) {\n\t\t\tthis.postLink.current.focus();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t}\n\n\tonCopy() {\n\t\tthis.setState( {\n\t\t\tshowCopyConfirmation: true,\n\t\t} );\n\n\t\tclearTimeout( this.dismissCopyConfirmation );\n\t\tthis.dismissCopyConfirmation = setTimeout( () => {\n\t\t\tthis.setState( {\n\t\t\t\tshowCopyConfirmation: false,\n\t\t\t} );\n\t\t}, 4000 );\n\t}\n\n\tonSelectInput( event ) {\n\t\tevent.target.select();\n\t}\n\n\trender() {\n\t\tconst { children, isScheduled, post, postType } = this.props;\n\t\tconst postLabel = get( postType, [ 'labels', 'singular_name' ] );\n\t\tconst viewPostLabel = get( postType, [ 'labels', 'view_item' ] );\n\n\t\tconst postPublishNonLinkHeader = isScheduled ?\n\t\t\t<>{ __( 'is now scheduled. It will go live on' ) } <PostScheduleLabel />.</> :\n\t\t\t__( 'is now live.' );\n\n\t\treturn (\n\t\t\t<div className=\"post-publish-panel__postpublish\">\n\t\t\t\t<PanelBody className=\"post-publish-panel__postpublish-header\">\n\t\t\t\t\t<a ref={ this.postLink } href={ post.link }>{ post.title || __( '(no title)' ) }</a> { postPublishNonLinkHeader }\n\t\t\t\t</PanelBody>\n\t\t\t\t<PanelBody>\n\t\t\t\t\t<p className=\"post-publish-panel__postpublish-subheader\">\n\t\t\t\t\t\t<strong>{ __( 'Whats next?' ) }</strong>\n\t\t\t\t\t</p>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tclassName=\"post-publish-panel__postpublish-post-address\"\n\t\t\t\t\t\treadOnly\n\t\t\t\t\t\tlabel={ sprintf(\n\t\t\t\t\t\t\t/* translators: %s: post type singular name */\n\t\t\t\t\t\t\t__( '%s address' ), postLabel\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tvalue={ safeDecodeURIComponent( post.link ) }\n\t\t\t\t\t\tonFocus={ this.onSelectInput }\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"post-publish-panel__postpublish-buttons\">\n\t\t\t\t\t\t{ ! isScheduled && (\n\t\t\t\t\t\t\t<Button isDefault href={ post.link }>\n\t\t\t\t\t\t\t\t{ viewPostLabel }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t<ClipboardButton isDefault text={ post.link } onCopy={ this.onCopy }>\n\t\t\t\t\t\t\t{ this.state.showCopyConfirmation ? __( 'Copied!' ) : __( 'Copy Link' ) }\n\t\t\t\t\t\t</ClipboardButton>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t\t{ children }\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute, getCurrentPost, isCurrentPostScheduled } = select( 'core/editor' );\n\tconst { getPostType } = select( 'core' );\n\n\treturn {\n\t\tpost: getCurrentPost(),\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t\tisScheduled: isCurrentPostScheduled(),\n\t};\n} )( PostPublishPanelPostpublish );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelBody } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport PostVisibility from '../post-visibility';\nimport PostVisibilityLabel from '../post-visibility/label';\nimport PostSchedule from '../post-schedule';\nimport PostScheduleLabel from '../post-schedule/label';\nimport MaybeTagsPanel from './maybe-tags-panel';\nimport MaybePostFormatPanel from './maybe-post-format-panel';\n\nfunction PostPublishPanelPrepublish( {\n\thasPublishAction,\n\tisBeingScheduled,\n\tchildren,\n} ) {\n\tlet prePublishTitle, prePublishBodyText;\n\n\tif ( ! hasPublishAction ) {\n\t\tprePublishTitle = __( 'Are you ready to submit for review?' );\n\t\tprePublishBodyText = __( 'When youre ready, submit your work for review, and an Editor will be able to approve it for you.' );\n\t} else if ( isBeingScheduled ) {\n\t\tprePublishTitle = __( 'Are you ready to schedule?' );\n\t\tprePublishBodyText = __( 'Your work will be published at the specified date and time.' );\n\t} else {\n\t\tprePublishTitle = __( 'Are you ready to publish?' );\n\t\tprePublishBodyText = __( 'Double-check your settings before publishing.' );\n\t}\n\n\treturn (\n\t\t<div className=\"editor-post-publish-panel__prepublish\">\n\t\t\t<div><strong>{ prePublishTitle }</strong></div>\n\t\t\t<p>{ prePublishBodyText }</p>\n\t\t\t{ hasPublishAction && (\n\t\t\t\t<>\n\t\t\t\t\t<PanelBody initialOpen={ false } title={ [\n\t\t\t\t\t\t__( 'Visibility:' ),\n\t\t\t\t\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\"><PostVisibilityLabel /></span>,\n\t\t\t\t\t] }>\n\t\t\t\t\t\t<PostVisibility />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t\t<PanelBody initialOpen={ false } title={ [\n\t\t\t\t\t\t__( 'Publish:' ),\n\t\t\t\t\t\t<span className=\"editor-post-publish-panel__link\" key=\"label\"><PostScheduleLabel /></span>,\n\t\t\t\t\t] }>\n\t\t\t\t\t\t<PostSchedule />\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</>\n\t\t\t) }\n\t\t\t<MaybePostFormatPanel />\n\t\t\t<MaybeTagsPanel />\n\t\t\t{ children }\n\t\t</div>\n\t);\n}\n\nexport default withSelect(\n\t( select ) => {\n\t\tconst {\n\t\t\tgetCurrentPost,\n\t\t\tisEditedPostBeingScheduled,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tisBeingScheduled: isEditedPostBeingScheduled(),\n\t\t};\n\t}\n)( PostPublishPanelPrepublish );\n","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Animate, Dashicon, Button, IconButton } from '@wordpress/components';\nimport { Component } from '@wordpress/element';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { displayShortcut } from '@wordpress/keycodes';\nimport { withSafeTimeout, compose } from '@wordpress/compose';\nimport { withViewportMatch } from '@wordpress/viewport';\n\n/**\n * Internal dependencies\n */\nimport PostSwitchToDraftButton from '../post-switch-to-draft-button';\n\n/**\n * Component showing whether the post is saved or not and displaying save links.\n *\n * @param   {Object}    Props Component Props.\n */\nexport class PostSavedState extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.state = {\n\t\t\tforceSavedMessage: false,\n\t\t};\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.isSaving && ! this.props.isSaving ) {\n\t\t\tthis.setState( { forceSavedMessage: true } );\n\t\t\tthis.props.setTimeout( () => {\n\t\t\t\tthis.setState( { forceSavedMessage: false } );\n\t\t\t}, 1000 );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tpost,\n\t\t\tisNew,\n\t\t\tisScheduled,\n\t\t\tisPublished,\n\t\t\tisDirty,\n\t\t\tisSaving,\n\t\t\tisSaveable,\n\t\t\tonSave,\n\t\t\tisAutosaving,\n\t\t\tisPending,\n\t\t\tisLargeViewport,\n\t\t} = this.props;\n\t\tconst { forceSavedMessage } = this.state;\n\t\tif ( isSaving ) {\n\t\t\t// TODO: Classes generation should be common across all return\n\t\t\t// paths of this function, including proper naming convention for\n\t\t\t// the \"Save Draft\" button.\n\t\t\tconst classes = classnames( 'editor-post-saved-state', 'is-saving', {\n\t\t\t\t'is-autosaving': isAutosaving,\n\t\t\t} );\n\n\t\t\treturn (\n\t\t\t\t<Animate type=\"loading\">\n\t\t\t\t\t{ ( { className: animateClassName } ) => (\n\t\t\t\t\t\t<span className={ classnames( classes, animateClassName ) }>\n\t\t\t\t\t\t\t<Dashicon icon=\"cloud\" />\n\t\t\t\t\t\t\t{ isAutosaving ? __( 'Autosaving' ) : __( 'Saving' ) }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) }\n\t\t\t\t</Animate>\n\t\t\t);\n\t\t}\n\n\t\tif ( isPublished || isScheduled ) {\n\t\t\treturn <PostSwitchToDraftButton />;\n\t\t}\n\n\t\tif ( ! isSaveable ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif ( forceSavedMessage || ( ! isNew && ! isDirty ) ) {\n\t\t\treturn (\n\t\t\t\t<span className=\"editor-post-saved-state is-saved\">\n\t\t\t\t\t<Dashicon icon=\"saved\" />\n\t\t\t\t\t{ __( 'Saved' ) }\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\n\t\t// Once the post has been submitted for review this button\n\t\t// is not needed for the contributor role.\n\t\tconst hasPublishAction = get( post, [ '_links', 'wp:action-publish' ], false );\n\t\tif ( ! hasPublishAction && isPending ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst label = isPending ? __( 'Save as Pending' ) : __( 'Save Draft' );\n\t\tif ( ! isLargeViewport ) {\n\t\t\treturn (\n\t\t\t\t<IconButton\n\t\t\t\t\tclassName=\"editor-post-save-draft\"\n\t\t\t\t\tlabel={ label }\n\t\t\t\t\tonClick={ () => onSave() }\n\t\t\t\t\tshortcut={ displayShortcut.primary( 's' ) }\n\t\t\t\t\ticon=\"cloud-upload\"\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tclassName=\"editor-post-save-draft\"\n\t\t\t\tonClick={ () => onSave() }\n\t\t\t\tshortcut={ displayShortcut.primary( 's' ) }\n\t\t\t\tisTertiary\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { forceIsDirty, forceIsSaving } ) => {\n\t\tconst {\n\t\t\tisEditedPostNew,\n\t\t\tisCurrentPostPublished,\n\t\t\tisCurrentPostScheduled,\n\t\t\tisEditedPostDirty,\n\t\t\tisSavingPost,\n\t\t\tisEditedPostSaveable,\n\t\t\tgetCurrentPost,\n\t\t\tisAutosavingPost,\n\t\t\tgetEditedPostAttribute,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tpost: getCurrentPost(),\n\t\t\tisNew: isEditedPostNew(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t\tisDirty: forceIsDirty || isEditedPostDirty(),\n\t\t\tisSaving: forceIsSaving || isSavingPost(),\n\t\t\tisSaveable: isEditedPostSaveable(),\n\t\t\tisAutosaving: isAutosavingPost(),\n\t\t\tisPending: 'pending' === getEditedPostAttribute( 'status' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonSave: dispatch( 'core/editor' ).savePost,\n\t} ) ),\n\twithSafeTimeout,\n\twithViewportMatch( { isLargeViewport: 'medium' } ),\n] )( PostSavedState );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostScheduleCheck( { hasPublishAction, children } ) {\n\tif ( ! hasPublishAction ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getCurrentPost, getCurrentPostType } = select( 'core/editor' );\n\t\treturn {\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} ),\n] )( PostScheduleCheck );\n","/**\n * WordPress dependencies\n */\nimport { __experimentalGetSettings } from '@wordpress/date';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { DateTimePicker } from '@wordpress/components';\n\nexport function PostSchedule( { date, onUpdateDate } ) {\n\tconst settings = __experimentalGetSettings();\n\t// To know if the current timezone is a 12 hour time with look for \"a\" in the time format\n\t// We also make sure this a is not escaped by a \"/\"\n\tconst is12HourTime = /a(?!\\\\)/i.test(\n\t\tsettings.formats.time\n\t\t\t.toLowerCase() // Test only the lower case a\n\t\t\t.replace( /\\\\\\\\/g, '' ) // Replace \"//\" with empty strings\n\t\t\t.split( '' ).reverse().join( '' ) // Reverse the string and test for \"a\" not followed by a slash\n\t);\n\n\treturn (\n\t\t<DateTimePicker\n\t\t\tkey=\"date-time-picker\"\n\t\t\tcurrentDate={ date }\n\t\t\tonChange={ onUpdateDate }\n\t\t\tis12Hour={ is12HourTime }\n\t\t/>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tdate: select( 'core/editor' ).getEditedPostAttribute( 'date' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tonUpdateDate( date ) {\n\t\t\t\tdispatch( 'core/editor' ).editPost( { date } );\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSchedule );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { dateI18n, __experimentalGetSettings } from '@wordpress/date';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostScheduleLabel( { date, isFloating } ) {\n\tconst settings = __experimentalGetSettings();\n\n\treturn date && ! isFloating ?\n\t\tdateI18n( `${ settings.formats.date } ${ settings.formats.time }`, date ) :\n\t\t__( 'Immediately' );\n}\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\tdate: select( 'core/editor' ).getEditedPostAttribute( 'date' ),\n\t\tisFloating: select( 'core/editor' ).isEditedPostDateFloating(),\n\t};\n} )( PostScheduleLabel );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostStickyCheck( { hasStickyAction, postType, children } ) {\n\tif (\n\t\tpostType !== 'post' ||\n\t\t! hasStickyAction\n\t) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst post = select( 'core/editor' ).getCurrentPost();\n\t\treturn {\n\t\t\thasStickyAction: get( post, [ '_links', 'wp:action-sticky' ], false ),\n\t\t\tpostType: select( 'core/editor' ).getCurrentPostType(),\n\t\t};\n\t} ),\n] )( PostStickyCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { CheckboxControl } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostStickyCheck from './check';\n\nexport function PostSticky( { onUpdateSticky, postSticky = false } ) {\n\treturn (\n\t\t<PostStickyCheck>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={ __( 'Stick to the top of the blog' ) }\n\t\t\t\tchecked={ postSticky }\n\t\t\t\tonChange={ () => onUpdateSticky( ! postSticky ) }\n\t\t\t/>\n\t\t</PostStickyCheck>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostSticky: select( 'core/editor' ).getEditedPostAttribute( 'sticky' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tonUpdateSticky( postSticky ) {\n\t\t\t\tdispatch( 'core/editor' ).editPost( { sticky: postSticky } );\n\t\t\t},\n\t\t};\n\t} ),\n] )( PostSticky );\n","/**\n * WordPress dependencies\n */\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport { withViewportMatch } from '@wordpress/viewport';\n\nfunction PostSwitchToDraftButton( {\n\tisSaving,\n\tisPublished,\n\tisScheduled,\n\tonClick,\n\tisMobileViewport,\n} ) {\n\tif ( ! isPublished && ! isScheduled ) {\n\t\treturn null;\n\t}\n\n\tconst onSwitch = () => {\n\t\tlet alertMessage;\n\t\tif ( isPublished ) {\n\t\t\talertMessage = __( 'Are you sure you want to unpublish this post?' );\n\t\t} else if ( isScheduled ) {\n\t\t\talertMessage = __( 'Are you sure you want to unschedule this post?' );\n\t\t}\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( window.confirm( alertMessage ) ) {\n\t\t\tonClick();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"editor-post-switch-to-draft\"\n\t\t\tonClick={ onSwitch }\n\t\t\tdisabled={ isSaving }\n\t\t\tisTertiary\n\t\t>\n\t\t\t{ isMobileViewport ? __( 'Draft' ) : __( 'Switch to Draft' ) }\n\t\t</Button>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { isSavingPost, isCurrentPostPublished, isCurrentPostScheduled } = select( 'core/editor' );\n\t\treturn {\n\t\t\tisSaving: isSavingPost(),\n\t\t\tisPublished: isCurrentPostPublished(),\n\t\t\tisScheduled: isCurrentPostScheduled(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, savePost } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonClick: () => {\n\t\t\t\teditPost( { status: 'draft' } );\n\t\t\t\tsavePost();\n\t\t\t},\n\t\t};\n\t} ),\n\twithViewportMatch( { isMobileViewport: '< small' } ),\n] )( PostSwitchToDraftButton );\n\n","/**\n * External dependencies\n */\nimport { some, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostTaxonomiesCheck( { postType, taxonomies, children } ) {\n\tconst hasTaxonomies = some( taxonomies, ( taxonomy ) => includes( taxonomy.types, postType ) );\n\tif ( ! hasTaxonomies ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( 'core/editor' ).getCurrentPostType(),\n\t\t\ttaxonomies: select( 'core' ).getTaxonomies( { per_page: -1 } ),\n\t\t};\n\t} ),\n] )( PostTaxonomiesCheck );\n\n","/**\n * External dependencies\n */\nimport {\n\tescape as escapeString,\n\tfind,\n\tget,\n\tinvoke,\n\tisEmpty,\n\tmap,\n\tthrottle,\n\tunescape as unescapeString,\n\tuniqBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { FormTokenField, withFilters } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Module constants\n */\nconst DEFAULT_QUERY = {\n\tper_page: -1,\n\torderby: 'count',\n\torder: 'desc',\n\t_fields: 'id,name',\n};\nconst MAX_TERMS_SUGGESTIONS = 20;\nconst isSameTermName = ( termA, termB ) => termA.toLowerCase() === termB.toLowerCase();\n\n/**\n * Returns a term object with name unescaped.\n * The unescape of the name property is done using lodash unescape function.\n *\n * @param {Object} term The term object to unescape.\n *\n * @return {Object} Term object with name property unescaped.\n */\nconst unescapeTerm = ( term ) => {\n\treturn {\n\t\t...term,\n\t\tname: unescapeString( term.name ),\n\t};\n};\n\n/**\n * Returns an array of term objects with names unescaped.\n * The unescape of each term is performed using the unescapeTerm function.\n *\n * @param {Object[]} terms Array of term objects to unescape.\n *\n * @return {Object[]} Array of term objects unescaped.\n */\nconst unescapeTerms = ( terms ) => {\n\treturn map( terms, unescapeTerm );\n};\n\nclass FlatTermSelector extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.searchTerms = throttle( this.searchTerms.bind( this ), 500 );\n\t\tthis.findOrCreateTerm = this.findOrCreateTerm.bind( this );\n\t\tthis.state = {\n\t\t\tloading: ! isEmpty( this.props.terms ),\n\t\t\tavailableTerms: [],\n\t\t\tselectedTerms: [],\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif ( ! isEmpty( this.props.terms ) ) {\n\t\t\tthis.initRequest = this.fetchTerms( {\n\t\t\t\tinclude: this.props.terms.join( ',' ),\n\t\t\t\tper_page: -1,\n\t\t\t} );\n\t\t\tthis.initRequest.then(\n\t\t\t\t() => {\n\t\t\t\t\tthis.setState( { loading: false } );\n\t\t\t\t},\n\t\t\t\t( xhr ) => {\n\t\t\t\t\tif ( xhr.statusText === 'abort' ) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.setState( {\n\t\t\t\t\t\tloading: false,\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tinvoke( this.initRequest, [ 'abort' ] );\n\t\tinvoke( this.searchRequest, [ 'abort' ] );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( prevProps.terms !== this.props.terms ) {\n\t\t\tthis.updateSelectedTerms( this.props.terms );\n\t\t}\n\t}\n\n\tfetchTerms( params = {} ) {\n\t\tconst { taxonomy } = this.props;\n\t\tconst query = { ...DEFAULT_QUERY, ...params };\n\t\tconst request = apiFetch( {\n\t\t\tpath: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, query ),\n\t\t} );\n\t\trequest.then( unescapeTerms ).then( ( terms ) => {\n\t\t\tthis.setState( ( state ) => ( {\n\t\t\t\tavailableTerms: state.availableTerms.concat(\n\t\t\t\t\tterms.filter( ( term ) => ! find( state.availableTerms, ( availableTerm ) => availableTerm.id === term.id ) )\n\t\t\t\t),\n\t\t\t} ) );\n\t\t\tthis.updateSelectedTerms( this.props.terms );\n\t\t} );\n\n\t\treturn request;\n\t}\n\n\tupdateSelectedTerms( terms = [] ) {\n\t\tconst selectedTerms = terms.reduce( ( result, termId ) => {\n\t\t\tconst termObject = find( this.state.availableTerms, ( term ) => term.id === termId );\n\t\t\tif ( termObject ) {\n\t\t\t\tresult.push( termObject.name );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}, [] );\n\t\tthis.setState( {\n\t\t\tselectedTerms,\n\t\t} );\n\t}\n\n\tfindOrCreateTerm( termName ) {\n\t\tconst { taxonomy } = this.props;\n\t\tconst termNameEscaped = escapeString( termName );\n\t\t// Tries to create a term or fetch it if it already exists.\n\t\treturn apiFetch( {\n\t\t\tpath: `/wp/v2/${ taxonomy.rest_base }`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: { name: termNameEscaped },\n\t\t} ).catch( ( error ) => {\n\t\t\tconst errorCode = error.code;\n\t\t\tif ( errorCode === 'term_exists' ) {\n\t\t\t\t// If the terms exist, fetch it instead of creating a new one.\n\t\t\t\tthis.addRequest = apiFetch( {\n\t\t\t\t\tpath: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, { ...DEFAULT_QUERY, search: termNameEscaped } ),\n\t\t\t\t} ).then( unescapeTerms );\n\t\t\t\treturn this.addRequest.then( ( searchResult ) => {\n\t\t\t\t\treturn find( searchResult, ( result ) => isSameTermName( result.name, termName ) );\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn Promise.reject( error );\n\t\t} ).then( unescapeTerm );\n\t}\n\n\tonChange( termNames ) {\n\t\tconst uniqueTerms = uniqBy( termNames, ( term ) => term.toLowerCase() );\n\t\tthis.setState( { selectedTerms: uniqueTerms } );\n\t\tconst newTermNames = uniqueTerms.filter( ( termName ) =>\n\t\t\t! find( this.state.availableTerms, ( term ) => isSameTermName( term.name, termName ) )\n\t\t);\n\t\tconst termNamesToIds = ( names, availableTerms ) => {\n\t\t\treturn names\n\t\t\t\t.map( ( termName ) =>\n\t\t\t\t\tfind( availableTerms, ( term ) => isSameTermName( term.name, termName ) ).id\n\t\t\t\t);\n\t\t};\n\n\t\tif ( newTermNames.length === 0 ) {\n\t\t\treturn this.props.onUpdateTerms(\n\t\t\t\ttermNamesToIds( uniqueTerms, this.state.availableTerms ),\n\t\t\t\tthis.props.taxonomy.rest_base\n\t\t\t);\n\t\t}\n\t\tPromise\n\t\t\t.all( newTermNames.map( this.findOrCreateTerm ) )\n\t\t\t.then( ( newTerms ) => {\n\t\t\t\tconst newAvailableTerms = this.state.availableTerms.concat( newTerms );\n\t\t\t\tthis.setState( { availableTerms: newAvailableTerms } );\n\t\t\t\treturn this.props.onUpdateTerms(\n\t\t\t\t\ttermNamesToIds( uniqueTerms, newAvailableTerms ),\n\t\t\t\t\tthis.props.taxonomy.rest_base\n\t\t\t\t);\n\t\t\t} );\n\t}\n\n\tsearchTerms( search = '' ) {\n\t\tinvoke( this.searchRequest, [ 'abort' ] );\n\t\tthis.searchRequest = this.fetchTerms( { search } );\n\t}\n\n\trender() {\n\t\tconst { slug, taxonomy, hasAssignAction } = this.props;\n\n\t\tif ( ! hasAssignAction ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { loading, availableTerms, selectedTerms } = this.state;\n\t\tconst termNames = availableTerms.map( ( term ) => term.name );\n\t\tconst newTermLabel = get(\n\t\t\ttaxonomy,\n\t\t\t[ 'labels', 'add_new_item' ],\n\t\t\tslug === 'post_tag' ? __( 'Add New Tag' ) : __( 'Add New Term' )\n\t\t);\n\t\tconst singularName = get(\n\t\t\ttaxonomy,\n\t\t\t[ 'labels', 'singular_name' ],\n\t\t\tslug === 'post_tag' ? __( 'Tag' ) : __( 'Term' )\n\t\t);\n\t\tconst termAddedLabel = sprintf( _x( '%s added', 'term' ), singularName );\n\t\tconst termRemovedLabel = sprintf( _x( '%s removed', 'term' ), singularName );\n\t\tconst removeTermLabel = sprintf( _x( 'Remove %s', 'term' ), singularName );\n\n\t\treturn (\n\t\t\t<FormTokenField\n\t\t\t\tvalue={ selectedTerms }\n\t\t\t\tsuggestions={ termNames }\n\t\t\t\tonChange={ this.onChange }\n\t\t\t\tonInputChange={ this.searchTerms }\n\t\t\t\tmaxSuggestions={ MAX_TERMS_SUGGESTIONS }\n\t\t\t\tdisabled={ loading }\n\t\t\t\tlabel={ newTermLabel }\n\t\t\t\tmessages={ {\n\t\t\t\t\tadded: termAddedLabel,\n\t\t\t\t\tremoved: termRemovedLabel,\n\t\t\t\t\tremove: removeTermLabel,\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n}\n\nexport default compose(\n\twithSelect( ( select, { slug } ) => {\n\t\tconst { getCurrentPost } = select( 'core/editor' );\n\t\tconst { getTaxonomy } = select( 'core' );\n\t\tconst taxonomy = getTaxonomy( slug );\n\t\treturn {\n\t\t\thasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n\t\t\thasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n\t\t\tterms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n\t\t\ttaxonomy,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\treturn {\n\t\t\tonUpdateTerms( terms, restBase ) {\n\t\t\t\tdispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n\t\t\t},\n\t\t};\n\t} ),\n\twithFilters( 'editor.PostTaxonomyType' ),\n)( FlatTermSelector );\n","/**\n * External dependencies\n */\nimport { get, unescape as unescapeString, without, find, some, invoke } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __, _x, _n, sprintf } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { TreeSelect, withSpokenMessages, withFilters, Button } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Internal dependencies\n */\nimport { buildTermsTree } from '../../utils/terms';\n\n/**\n * Module Constants\n */\nconst DEFAULT_QUERY = {\n\tper_page: -1,\n\torderby: 'name',\n\torder: 'asc',\n\t_fields: 'id,name,parent',\n};\n\nconst MIN_TERMS_COUNT_FOR_FILTER = 8;\n\nclass HierarchicalTermSelector extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.findTerm = this.findTerm.bind( this );\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onChangeFormName = this.onChangeFormName.bind( this );\n\t\tthis.onChangeFormParent = this.onChangeFormParent.bind( this );\n\t\tthis.onAddTerm = this.onAddTerm.bind( this );\n\t\tthis.onToggleForm = this.onToggleForm.bind( this );\n\t\tthis.setFilterValue = this.setFilterValue.bind( this );\n\t\tthis.sortBySelected = this.sortBySelected.bind( this );\n\t\tthis.state = {\n\t\t\tloading: true,\n\t\t\tavailableTermsTree: [],\n\t\t\tavailableTerms: [],\n\t\t\tadding: false,\n\t\t\tformName: '',\n\t\t\tformParent: '',\n\t\t\tshowForm: false,\n\t\t\tfilterValue: '',\n\t\t\tfilteredTermsTree: [],\n\t\t};\n\t}\n\n\tonChange( event ) {\n\t\tconst { onUpdateTerms, terms = [], taxonomy } = this.props;\n\t\tconst termId = parseInt( event.target.value, 10 );\n\t\tconst hasTerm = terms.indexOf( termId ) !== -1;\n\t\tconst newTerms = hasTerm ?\n\t\t\twithout( terms, termId ) :\n\t\t\t[ ...terms, termId ];\n\t\tonUpdateTerms( newTerms, taxonomy.rest_base );\n\t}\n\n\tonChangeFormName( event ) {\n\t\tconst newValue = event.target.value.trim() === '' ? '' : event.target.value;\n\t\tthis.setState( { formName: newValue } );\n\t}\n\n\tonChangeFormParent( newParent ) {\n\t\tthis.setState( { formParent: newParent } );\n\t}\n\n\tonToggleForm() {\n\t\tthis.setState( ( state ) => ( {\n\t\t\tshowForm: ! state.showForm,\n\t\t} ) );\n\t}\n\n\tfindTerm( terms, parent, name ) {\n\t\treturn find( terms, ( term ) => {\n\t\t\treturn ( ( ! term.parent && ! parent ) || parseInt( term.parent ) === parseInt( parent ) ) &&\n\t\t\t\tterm.name.toLowerCase() === name.toLowerCase();\n\t\t} );\n\t}\n\n\tonAddTerm( event ) {\n\t\tevent.preventDefault();\n\t\tconst { onUpdateTerms, taxonomy, terms, slug } = this.props;\n\t\tconst { formName, formParent, adding, availableTerms } = this.state;\n\t\tif ( formName === '' || adding ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// check if the term we are adding already exists\n\t\tconst existingTerm = this.findTerm( availableTerms, formParent, formName );\n\t\tif ( existingTerm ) {\n\t\t\t// if the term we are adding exists but is not selected select it\n\t\t\tif ( ! some( terms, ( term ) => term === existingTerm.id ) ) {\n\t\t\t\tonUpdateTerms( [ ...terms, existingTerm.id ], taxonomy.rest_base );\n\t\t\t}\n\t\t\tthis.setState( {\n\t\t\t\tformName: '',\n\t\t\t\tformParent: '',\n\t\t\t} );\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState( {\n\t\t\tadding: true,\n\t\t} );\n\t\tthis.addRequest = apiFetch( {\n\t\t\tpath: `/wp/v2/${ taxonomy.rest_base }`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tname: formName,\n\t\t\t\tparent: formParent ? formParent : undefined,\n\t\t\t},\n\t\t} );\n\t\t// Tries to create a term or fetch it if it already exists\n\t\tconst findOrCreatePromise = this.addRequest\n\t\t\t.catch( ( error ) => {\n\t\t\t\tconst errorCode = error.code;\n\t\t\t\tif ( errorCode === 'term_exists' ) {\n\t\t\t\t\t// search the new category created since last fetch\n\t\t\t\t\tthis.addRequest = apiFetch( {\n\t\t\t\t\t\tpath: addQueryArgs(\n\t\t\t\t\t\t\t`/wp/v2/${ taxonomy.rest_base }`,\n\t\t\t\t\t\t\t{ ...DEFAULT_QUERY, parent: formParent || 0, search: formName }\n\t\t\t\t\t\t),\n\t\t\t\t\t} );\n\t\t\t\t\treturn this.addRequest\n\t\t\t\t\t\t.then( ( searchResult ) => {\n\t\t\t\t\t\t\treturn this.findTerm( searchResult, formParent, formName );\n\t\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t\treturn Promise.reject( error );\n\t\t\t} );\n\t\tfindOrCreatePromise\n\t\t\t.then( ( term ) => {\n\t\t\t\tconst hasTerm = !! find( this.state.availableTerms, ( availableTerm ) => availableTerm.id === term.id );\n\t\t\t\tconst newAvailableTerms = hasTerm ? this.state.availableTerms : [ term, ...this.state.availableTerms ];\n\t\t\t\tconst termAddedMessage = sprintf(\n\t\t\t\t\t_x( '%s added', 'term' ),\n\t\t\t\t\tget(\n\t\t\t\t\t\tthis.props.taxonomy,\n\t\t\t\t\t\t[ 'labels', 'singular_name' ],\n\t\t\t\t\t\tslug === 'category' ? __( 'Category' ) : __( 'Term' )\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\tthis.props.speak( termAddedMessage, 'assertive' );\n\t\t\t\tthis.addRequest = null;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tadding: false,\n\t\t\t\t\tformName: '',\n\t\t\t\t\tformParent: '',\n\t\t\t\t\tavailableTerms: newAvailableTerms,\n\t\t\t\t\tavailableTermsTree: this.sortBySelected( buildTermsTree( newAvailableTerms ) ),\n\t\t\t\t} );\n\t\t\t\tonUpdateTerms( [ ...terms, term.id ], taxonomy.rest_base );\n\t\t\t}, ( xhr ) => {\n\t\t\t\tif ( xhr.statusText === 'abort' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.addRequest = null;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tadding: false,\n\t\t\t\t} );\n\t\t\t} );\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchTerms();\n\t}\n\n\tcomponentWillUnmount() {\n\t\tinvoke( this.fetchRequest, [ 'abort' ] );\n\t\tinvoke( this.addRequest, [ 'abort' ] );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.taxonomy !== prevProps.taxonomy ) {\n\t\t\tthis.fetchTerms();\n\t\t}\n\t}\n\n\tfetchTerms() {\n\t\tconst { taxonomy } = this.props;\n\t\tif ( ! taxonomy ) {\n\t\t\treturn;\n\t\t}\n\t\tthis.fetchRequest = apiFetch( {\n\t\t\tpath: addQueryArgs( `/wp/v2/${ taxonomy.rest_base }`, DEFAULT_QUERY ),\n\t\t} );\n\t\tthis.fetchRequest.then(\n\t\t\t( terms ) => { // resolve\n\t\t\t\tconst availableTermsTree = this.sortBySelected( buildTermsTree( terms ) );\n\n\t\t\t\tthis.fetchRequest = null;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tloading: false,\n\t\t\t\t\tavailableTermsTree,\n\t\t\t\t\tavailableTerms: terms,\n\t\t\t\t} );\n\t\t\t},\n\t\t\t( xhr ) => { // reject\n\t\t\t\tif ( xhr.statusText === 'abort' ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.fetchRequest = null;\n\t\t\t\tthis.setState( {\n\t\t\t\t\tloading: false,\n\t\t\t\t} );\n\t\t\t}\n\t\t);\n\t}\n\n\tsortBySelected( termsTree ) {\n\t\tconst { terms } = this.props;\n\t\tconst treeHasSelection = ( termTree ) => {\n\t\t\tif ( terms.indexOf( termTree.id ) !== -1 ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif ( undefined === termTree.children ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst anyChildIsSelected = termTree.children.map( treeHasSelection ).filter( ( child ) => child ).length > 0;\n\t\t\tif ( anyChildIsSelected ) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t\tconst termOrChildIsSelected = ( termA, termB ) => {\n\t\t\tconst termASelected = treeHasSelection( termA );\n\t\t\tconst termBSelected = treeHasSelection( termB );\n\n\t\t\tif ( termASelected === termBSelected ) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tif ( termASelected && ! termBSelected ) {\n\t\t\t\treturn -1;\n\t\t\t}\n\n\t\t\tif ( ! termASelected && termBSelected ) {\n\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\treturn 0;\n\t\t};\n\t\ttermsTree.sort( termOrChildIsSelected );\n\t\treturn termsTree;\n\t}\n\n\tsetFilterValue( event ) {\n\t\tconst { availableTermsTree } = this.state;\n\t\tconst filterValue = event.target.value;\n\t\tconst filteredTermsTree = availableTermsTree.map( this.getFilterMatcher( filterValue ) ).filter( ( term ) => term );\n\t\tconst getResultCount = ( terms ) => {\n\t\t\tlet count = 0;\n\t\t\tfor ( let i = 0; i < terms.length; i++ ) {\n\t\t\t\tcount++;\n\t\t\t\tif ( undefined !== terms[ i ].children ) {\n\t\t\t\t\tcount += getResultCount( terms[ i ].children );\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t};\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tfilterValue,\n\t\t\t\tfilteredTermsTree,\n\t\t\t}\n\t\t);\n\n\t\tconst resultCount = getResultCount( filteredTermsTree );\n\t\tconst resultsFoundMessage = sprintf(\n\t\t\t_n( '%d result found.', '%d results found.', resultCount ),\n\t\t\tresultCount\n\t\t);\n\t\tthis.props.debouncedSpeak( resultsFoundMessage, 'assertive' );\n\t}\n\n\tgetFilterMatcher( filterValue ) {\n\t\tconst matchTermsForFilter = ( originalTerm ) => {\n\t\t\tif ( '' === filterValue ) {\n\t\t\t\treturn originalTerm;\n\t\t\t}\n\n\t\t\t// Shallow clone, because we'll be filtering the term's children and\n\t\t\t// don't want to modify the original term.\n\t\t\tconst term = { ...originalTerm };\n\n\t\t\t// Map and filter the children, recursive so we deal with grandchildren\n\t\t\t// and any deeper levels.\n\t\t\tif ( term.children.length > 0 ) {\n\t\t\t\tterm.children = term.children.map( matchTermsForFilter ).filter( ( child ) => child );\n\t\t\t}\n\n\t\t\t// If the term's name contains the filterValue, or it has children\n\t\t\t// (i.e. some child matched at some point in the tree) then return it.\n\t\t\tif ( -1 !== term.name.toLowerCase().indexOf( filterValue.toLowerCase() ) || term.children.length > 0 ) {\n\t\t\t\treturn term;\n\t\t\t}\n\n\t\t\t// Otherwise, return false. After mapping, the list of terms will need\n\t\t\t// to have false values filtered out.\n\t\t\treturn false;\n\t\t};\n\t\treturn matchTermsForFilter;\n\t}\n\n\trenderTerms( renderedTerms ) {\n\t\tconst { terms = [] } = this.props;\n\t\treturn renderedTerms.map( ( term ) => {\n\t\t\tconst id = `editor-post-taxonomies-hierarchical-term-${ term.id }`;\n\t\t\treturn (\n\t\t\t\t<div key={ term.id } className=\"editor-post-taxonomies__hierarchical-terms-choice\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid={ id }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\n\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\tchecked={ terms.indexOf( term.id ) !== -1 }\n\t\t\t\t\t\tvalue={ term.id }\n\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t/>\n\t\t\t\t\t<label htmlFor={ id }>{ unescapeString( term.name ) }</label>\n\t\t\t\t\t{ !! term.children.length && (\n\t\t\t\t\t\t<div className=\"editor-post-taxonomies__hierarchical-terms-subchoices\">\n\t\t\t\t\t\t\t{ this.renderTerms( term.children ) }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t}\n\n\trender() {\n\t\tconst { slug, taxonomy, instanceId, hasCreateAction, hasAssignAction } = this.props;\n\n\t\tif ( ! hasAssignAction ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { availableTermsTree, availableTerms, filteredTermsTree, formName, formParent, loading, showForm, filterValue } = this.state;\n\t\tconst labelWithFallback = ( labelProperty, fallbackIsCategory, fallbackIsNotCategory ) => get(\n\t\t\ttaxonomy,\n\t\t\t[ 'labels', labelProperty ],\n\t\t\tslug === 'category' ? fallbackIsCategory : fallbackIsNotCategory\n\t\t);\n\t\tconst newTermButtonLabel = labelWithFallback(\n\t\t\t'add_new_item',\n\t\t\t__( 'Add new category' ),\n\t\t\t__( 'Add new term' )\n\t\t);\n\t\tconst newTermLabel = labelWithFallback(\n\t\t\t'new_item_name',\n\t\t\t__( 'Add new category' ),\n\t\t\t__( 'Add new term' )\n\t\t);\n\t\tconst parentSelectLabel = labelWithFallback(\n\t\t\t'parent_item',\n\t\t\t__( 'Parent Category' ),\n\t\t\t__( 'Parent Term' )\n\t\t);\n\t\tconst noParentOption = ` ${ parentSelectLabel } `;\n\t\tconst newTermSubmitLabel = newTermButtonLabel;\n\t\tconst inputId = `editor-post-taxonomies__hierarchical-terms-input-${ instanceId }`;\n\t\tconst filterInputId = `editor-post-taxonomies__hierarchical-terms-filter-${ instanceId }`;\n\t\tconst filterLabel = get(\n\t\t\tthis.props.taxonomy,\n\t\t\t[ 'labels', 'search_items' ],\n\t\t\t__( 'Search Terms' )\n\t\t);\n\t\tconst groupLabel = get(\n\t\t\tthis.props.taxonomy,\n\t\t\t[ 'name' ],\n\t\t\t__( 'Terms' )\n\t\t);\n\t\tconst showFilter = availableTerms.length >= MIN_TERMS_COUNT_FOR_FILTER;\n\n\t\treturn [\n\t\t\tshowFilter && <label\n\t\t\t\tkey=\"filter-label\"\n\t\t\t\thtmlFor={ filterInputId }>\n\t\t\t\t{ filterLabel }\n\t\t\t</label>,\n\t\t\tshowFilter && <input\n\t\t\t\ttype=\"search\"\n\t\t\t\tid={ filterInputId }\n\t\t\t\tvalue={ filterValue }\n\t\t\t\tonChange={ this.setFilterValue }\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-filter\"\n\t\t\t\tkey=\"term-filter-input\"\n\t\t\t/>,\n\t\t\t<div\n\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-list\"\n\t\t\t\tkey=\"term-list\"\n\t\t\t\ttabIndex=\"0\"\n\t\t\t\trole=\"group\"\n\t\t\t\taria-label={ groupLabel }\n\t\t\t>\n\t\t\t\t{ this.renderTerms( '' !== filterValue ? filteredTermsTree : availableTermsTree ) }\n\t\t\t</div>,\n\t\t\t! loading && hasCreateAction && (\n\t\t\t\t<Button\n\t\t\t\t\tkey=\"term-add-button\"\n\t\t\t\t\tonClick={ this.onToggleForm }\n\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-add\"\n\t\t\t\t\taria-expanded={ showForm }\n\t\t\t\t\tisLink\n\t\t\t\t>\n\t\t\t\t\t{ newTermButtonLabel }\n\t\t\t\t</Button>\n\t\t\t),\n\t\t\tshowForm && (\n\t\t\t\t<form onSubmit={ this.onAddTerm } key=\"hierarchical-terms-form\">\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor={ inputId }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-label\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ newTermLabel }\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tid={ inputId }\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-input\"\n\t\t\t\t\t\tvalue={ formName }\n\t\t\t\t\t\tonChange={ this.onChangeFormName }\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t{ !! availableTerms.length &&\n\t\t\t\t\t\t<TreeSelect\n\t\t\t\t\t\t\tlabel={ parentSelectLabel }\n\t\t\t\t\t\t\tnoOptionLabel={ noParentOption }\n\t\t\t\t\t\t\tonChange={ this.onChangeFormParent }\n\t\t\t\t\t\t\tselectedId={ formParent }\n\t\t\t\t\t\t\ttree={ availableTermsTree }\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisDefault\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName=\"editor-post-taxonomies__hierarchical-terms-submit\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ newTermSubmitLabel }\n\t\t\t\t\t</Button>\n\t\t\t\t</form>\n\t\t\t),\n\t\t];\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select, { slug } ) => {\n\t\tconst { getCurrentPost } = select( 'core/editor' );\n\t\tconst { getTaxonomy } = select( 'core' );\n\t\tconst taxonomy = getTaxonomy( slug );\n\t\treturn {\n\t\t\thasCreateAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-create-' + taxonomy.rest_base ], false ) : false,\n\t\t\thasAssignAction: taxonomy ? get( getCurrentPost(), [ '_links', 'wp:action-assign-' + taxonomy.rest_base ], false ) : false,\n\t\t\tterms: taxonomy ? select( 'core/editor' ).getEditedPostAttribute( taxonomy.rest_base ) : [],\n\t\t\ttaxonomy,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\tonUpdateTerms( terms, restBase ) {\n\t\t\tdispatch( 'core/editor' ).editPost( { [ restBase ]: terms } );\n\t\t},\n\t} ) ),\n\twithSpokenMessages,\n\twithInstanceId,\n\twithFilters( 'editor.PostTaxonomyType' ),\n] )( HierarchicalTermSelector );\n","/**\n * External dependencies\n */\nimport { filter, identity, includes } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport HierarchicalTermSelector from './hierarchical-term-selector';\nimport FlatTermSelector from './flat-term-selector';\n\nexport function PostTaxonomies( { postType, taxonomies, taxonomyWrapper = identity } ) {\n\tconst availableTaxonomies = filter( taxonomies, ( taxonomy ) => includes( taxonomy.types, postType ) );\n\tconst visibleTaxonomies = filter( availableTaxonomies, ( taxonomy ) => taxonomy.visibility.show_ui );\n\treturn visibleTaxonomies.map( ( taxonomy ) => {\n\t\tconst TaxonomyComponent = taxonomy.hierarchical ? HierarchicalTermSelector : FlatTermSelector;\n\t\treturn (\n\t\t\t<Fragment key={ `taxonomy-${ taxonomy.slug }` }>\n\t\t\t\t{\n\t\t\t\t\ttaxonomyWrapper(\n\t\t\t\t\t\t<TaxonomyComponent slug={ taxonomy.slug } />,\n\t\t\t\t\t\ttaxonomy\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t</Fragment>\n\t\t);\n\t} );\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\treturn {\n\t\t\tpostType: select( 'core/editor' ).getCurrentPostType(),\n\t\t\ttaxonomies: select( 'core' ).getTaxonomies( { per_page: -1 } ),\n\t\t};\n\t} ),\n] )( PostTaxonomies );\n\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { parse } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\nexport class PostTextEditor extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.edit = this.edit.bind( this );\n\t\tthis.stopEditing = this.stopEditing.bind( this );\n\n\t\tthis.state = {};\n\t}\n\n\tstatic getDerivedStateFromProps( props, state ) {\n\t\tif ( state.isDirty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn {\n\t\t\tvalue: props.value,\n\t\t\tisDirty: false,\n\t\t};\n\t}\n\n\t/**\n\t * Handles a textarea change event to notify the onChange prop callback and\n\t * reflect the new value in the component's own state. This marks the start\n\t * of the user's edits, if not already changed, preventing future props\n\t * changes to value from replacing the rendered value. This is expected to\n\t * be followed by a reset to dirty state via `stopEditing`.\n\t *\n\t * @see stopEditing\n\t *\n\t * @param {Event} event Change event.\n\t */\n\tedit( event ) {\n\t\tconst value = event.target.value;\n\t\tthis.props.onChange( value );\n\t\tthis.setState( { value, isDirty: true } );\n\t}\n\n\t/**\n\t * Function called when the user has completed their edits, responsible for\n\t * ensuring that changes, if made, are surfaced to the onPersist prop\n\t * callback and resetting dirty state.\n\t */\n\tstopEditing() {\n\t\tif ( this.state.isDirty ) {\n\t\t\tthis.props.onPersist( this.state.value );\n\t\t\tthis.setState( { isDirty: false } );\n\t\t}\n\t}\n\n\trender() {\n\t\tconst { value } = this.state;\n\t\tconst { instanceId } = this.props;\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<label htmlFor={ `post-content-${ instanceId }` } className=\"screen-reader-text\">\n\t\t\t\t\t{ __( 'Type text or HTML' ) }\n\t\t\t\t</label>\n\t\t\t\t<Textarea\n\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\tdir=\"auto\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ this.edit }\n\t\t\t\t\tonBlur={ this.stopEditing }\n\t\t\t\t\tclassName=\"editor-post-text-editor\"\n\t\t\t\t\tid={ `post-content-${ instanceId }` }\n\t\t\t\t\tplaceholder={ __( 'Start writing with text or HTML' ) }\n\t\t\t\t/>\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getEditedPostContent } = select( 'core/editor' );\n\t\treturn {\n\t\t\tvalue: getEditedPostContent(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { editPost, resetEditorBlocks } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonChange( content ) {\n\t\t\t\teditPost( { content } );\n\t\t\t},\n\t\t\tonPersist( content ) {\n\t\t\t\tconst blocks = parse( content );\n\t\t\t\tresetEditorBlocks( blocks );\n\t\t\t},\n\t\t};\n\t} ),\n\twithInstanceId,\n] )( PostTextEditor );\n","/**\n * External dependencies\n */\nimport Textarea from 'react-autosize-textarea';\nimport classnames from 'classnames';\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { ENTER } from '@wordpress/keycodes';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { KeyboardShortcuts, withFocusOutside } from '@wordpress/components';\nimport { withInstanceId, compose } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport PostPermalink from '../post-permalink';\nimport PostTypeSupportCheck from '../post-type-support-check';\n\n/**\n * Constants\n */\nconst REGEXP_NEWLINES = /[\\r\\n]+/g;\n\nclass PostTitle extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\n\t\tthis.onChange = this.onChange.bind( this );\n\t\tthis.onSelect = this.onSelect.bind( this );\n\t\tthis.onUnselect = this.onUnselect.bind( this );\n\t\tthis.onKeyDown = this.onKeyDown.bind( this );\n\t\tthis.redirectHistory = this.redirectHistory.bind( this );\n\n\t\tthis.state = {\n\t\t\tisSelected: false,\n\t\t};\n\t}\n\n\thandleFocusOutside() {\n\t\tthis.onUnselect();\n\t}\n\n\tonSelect() {\n\t\tthis.setState( { isSelected: true } );\n\t\tthis.props.clearSelectedBlock();\n\t}\n\n\tonUnselect() {\n\t\tthis.setState( { isSelected: false } );\n\t}\n\n\tonChange( event ) {\n\t\tconst newTitle = event.target.value.replace( REGEXP_NEWLINES, ' ' );\n\t\tthis.props.onUpdate( newTitle );\n\t}\n\n\tonKeyDown( event ) {\n\t\tif ( event.keyCode === ENTER ) {\n\t\t\tevent.preventDefault();\n\t\t\tthis.props.onEnterPress();\n\t\t}\n\t}\n\n\t/**\n\t * Emulates behavior of an undo or redo on its corresponding key press\n\t * combination. This is a workaround to React's treatment of undo in a\n\t * controlled textarea where characters are updated one at a time.\n\t * Instead, leverage the store's undo handling of title changes.\n\t *\n\t * @see https://github.com/facebook/react/issues/8514\n\t *\n\t * @param {KeyboardEvent} event Key event.\n\t */\n\tredirectHistory( event ) {\n\t\tif ( event.shiftKey ) {\n\t\t\tthis.props.onRedo();\n\t\t} else {\n\t\t\tthis.props.onUndo();\n\t\t}\n\n\t\tevent.preventDefault();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\thasFixedToolbar,\n\t\t\tisCleanNewPost,\n\t\t\tisFocusMode,\n\t\t\tisPostTypeViewable,\n\t\t\tinstanceId,\n\t\t\tplaceholder,\n\t\t\ttitle,\n\t\t} = this.props;\n\t\tconst { isSelected } = this.state;\n\n\t\t// The wp-block className is important for editor styles.\n\t\tconst className = classnames( 'wp-block editor-post-title__block', {\n\t\t\t'is-selected': isSelected,\n\t\t\t'is-focus-mode': isFocusMode,\n\t\t\t'has-fixed-toolbar': hasFixedToolbar,\n\t\t} );\n\t\tconst decodedPlaceholder = decodeEntities( placeholder );\n\n\t\treturn (\n\t\t\t<PostTypeSupportCheck supportKeys=\"title\">\n\t\t\t\t<div className=\"editor-post-title\">\n\t\t\t\t\t<div className={ className }>\n\t\t\t\t\t\t<KeyboardShortcuts\n\t\t\t\t\t\t\tshortcuts={ {\n\t\t\t\t\t\t\t\t'mod+z': this.redirectHistory,\n\t\t\t\t\t\t\t\t'mod+shift+z': this.redirectHistory,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label htmlFor={ `post-title-${ instanceId }` } className=\"screen-reader-text\">\n\t\t\t\t\t\t\t\t{ decodedPlaceholder || __( 'Add title' ) }\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tid={ `post-title-${ instanceId }` }\n\t\t\t\t\t\t\t\tclassName=\"editor-post-title__input\"\n\t\t\t\t\t\t\t\tvalue={ title }\n\t\t\t\t\t\t\t\tonChange={ this.onChange }\n\t\t\t\t\t\t\t\tplaceholder={ decodedPlaceholder || __( 'Add title' ) }\n\t\t\t\t\t\t\t\tonFocus={ this.onSelect }\n\t\t\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\n\t\t\t\t\t\t\t\tonKeyPress={ this.onUnselect }\n\t\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\t\t\tOnly autofocus the title when the post is entirely empty.\n\t\t\t\t\t\t\t\t\tThis should only happen for a new post, which means we\n\t\t\t\t\t\t\t\t\tfocus the title on new post so the author can start typing\n\t\t\t\t\t\t\t\t\tright away, without needing to click anything.\n\t\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t\t\t/* eslint-disable jsx-a11y/no-autofocus */\n\t\t\t\t\t\t\t\tautoFocus={ document.body === document.activeElement && isCleanNewPost }\n\t\t\t\t\t\t\t\t/* eslint-enable jsx-a11y/no-autofocus */\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</KeyboardShortcuts>\n\t\t\t\t\t\t{ isSelected && isPostTypeViewable && <PostPermalink /> }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</PostTypeSupportCheck>\n\t\t);\n\t}\n}\n\nconst applyWithSelect = withSelect( ( select ) => {\n\tconst { getEditedPostAttribute, isCleanNewPost } = select( 'core/editor' );\n\tconst { getSettings } = select( 'core/block-editor' );\n\tconst { getPostType } = select( 'core' );\n\tconst postType = getPostType( getEditedPostAttribute( 'type' ) );\n\tconst { titlePlaceholder, focusMode, hasFixedToolbar } = getSettings();\n\n\treturn {\n\t\tisCleanNewPost: isCleanNewPost(),\n\t\ttitle: getEditedPostAttribute( 'title' ),\n\t\tisPostTypeViewable: get( postType, [ 'viewable' ], false ),\n\t\tplaceholder: titlePlaceholder,\n\t\tisFocusMode: focusMode,\n\t\thasFixedToolbar,\n\t};\n} );\n\nconst applyWithDispatch = withDispatch( ( dispatch ) => {\n\tconst {\n\t\tinsertDefaultBlock,\n\t\tclearSelectedBlock,\n\t} = dispatch( 'core/block-editor' );\n\tconst {\n\t\teditPost,\n\t\tundo,\n\t\tredo,\n\t} = dispatch( 'core/editor' );\n\n\treturn {\n\t\tonEnterPress() {\n\t\t\tinsertDefaultBlock( undefined, undefined, 0 );\n\t\t},\n\t\tonUpdate( title ) {\n\t\t\teditPost( { title } );\n\t\t},\n\t\tonUndo: undo,\n\t\tonRedo: redo,\n\t\tclearSelectedBlock,\n\t};\n} );\n\nexport default compose(\n\tapplyWithSelect,\n\tapplyWithDispatch,\n\twithInstanceId,\n\twithFocusOutside\n)( PostTitle );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nfunction PostTrashCheck( { isNew, postId, children } ) {\n\tif ( isNew || ! postId ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { isEditedPostNew, getCurrentPostId } = select( 'core/editor' );\n\treturn {\n\t\tisNew: isEditedPostNew(),\n\t\tpostId: getCurrentPostId(),\n\t};\n} )( PostTrashCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button } from '@wordpress/components';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction PostTrash( { isNew, postId, postType, ...props } ) {\n\tif ( isNew || ! postId ) {\n\t\treturn null;\n\t}\n\n\tconst onClick = () => props.trashPost( postId, postType );\n\n\treturn (\n\t\t<Button className=\"editor-post-trash button-link-delete\" onClick={ onClick } isDefault isLarge>\n\t\t\t{ __( 'Move to Trash' ) }\n\t\t</Button>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tisEditedPostNew,\n\t\t\tgetCurrentPostId,\n\t\t\tgetCurrentPostType,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tisNew: isEditedPostNew(),\n\t\t\tpostId: getCurrentPostId(),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => ( {\n\t\ttrashPost: dispatch( 'core/editor' ).trashPost,\n\t} ) ),\n] )( PostTrash );\n","/**\n * External dependencies\n */\nimport { some, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * A component which renders its own children only if the current editor post\n * type supports one of the given `supportKeys` prop.\n *\n * @param {Object}            props\n * @param {string}            [props.postType]  Current post type.\n * @param {WPElement}         props.children    Children to be rendered if post\n *                                              type supports.\n * @param {(string|string[])} props.supportKeys String or string array of keys\n *                                              to test.\n *\n * @return {WPElement} Rendered element.\n */\nexport function PostTypeSupportCheck( { postType, children, supportKeys } ) {\n\tlet isSupported = true;\n\tif ( postType ) {\n\t\tisSupported = some(\n\t\t\tcastArray( supportKeys ),\n\t\t\t( key ) => !! postType.supports[ key ]\n\t\t);\n\t}\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\tconst { getPostType } = select( 'core' );\n\treturn {\n\t\tpostType: getPostType( getEditedPostAttribute( 'type' ) ),\n\t};\n} )( PostTypeSupportCheck );\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { withSelect } from '@wordpress/data';\n\nexport function PostVisibilityCheck( { hasPublishAction, render } ) {\n\tconst canEdit = hasPublishAction;\n\treturn render( { canEdit } );\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst { getCurrentPost, getCurrentPostType } = select( 'core/editor' );\n\t\treturn {\n\t\t\thasPublishAction: get( getCurrentPost(), [ '_links', 'wp:action-publish' ], false ),\n\t\t\tpostType: getCurrentPostType(),\n\t\t};\n\t} ),\n] )( PostVisibilityCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withInstanceId, compose } from '@wordpress/compose';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\n\nexport class PostVisibility extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.setPublic = this.setPublic.bind( this );\n\t\tthis.setPrivate = this.setPrivate.bind( this );\n\t\tthis.setPasswordProtected = this.setPasswordProtected.bind( this );\n\t\tthis.updatePassword = this.updatePassword.bind( this );\n\n\t\tthis.state = {\n\t\t\thasPassword: !! props.password,\n\t\t};\n\t}\n\n\tsetPublic() {\n\t\tconst { visibility, onUpdateVisibility, status } = this.props;\n\n\t\tonUpdateVisibility( visibility === 'private' ? 'draft' : status );\n\t\tthis.setState( { hasPassword: false } );\n\t}\n\n\tsetPrivate() {\n\t\tif ( ! window.confirm( __( 'Would you like to privately publish this post now?' ) ) ) { // eslint-disable-line no-alert\n\t\t\treturn;\n\t\t}\n\n\t\tconst { onUpdateVisibility, onSave } = this.props;\n\n\t\tonUpdateVisibility( 'private' );\n\t\tthis.setState( { hasPassword: false } );\n\t\tonSave();\n\t}\n\n\tsetPasswordProtected() {\n\t\tconst { visibility, onUpdateVisibility, status, password } = this.props;\n\n\t\tonUpdateVisibility( visibility === 'private' ? 'draft' : status, password || '' );\n\t\tthis.setState( { hasPassword: true } );\n\t}\n\n\tupdatePassword( event ) {\n\t\tconst { status, onUpdateVisibility } = this.props;\n\t\tonUpdateVisibility( status, event.target.value );\n\t}\n\n\trender() {\n\t\tconst { visibility, password, instanceId } = this.props;\n\n\t\tconst visibilityHandlers = {\n\t\t\tpublic: {\n\t\t\t\tonSelect: this.setPublic,\n\t\t\t\tchecked: visibility === 'public' && ! this.state.hasPassword,\n\t\t\t},\n\t\t\tprivate: {\n\t\t\t\tonSelect: this.setPrivate,\n\t\t\t\tchecked: visibility === 'private',\n\t\t\t},\n\t\t\tpassword: {\n\t\t\t\tonSelect: this.setPasswordProtected,\n\t\t\t\tchecked: this.state.hasPassword,\n\t\t\t},\n\t\t};\n\n\t\treturn [\n\t\t\t<fieldset key=\"visibility-selector\" className=\"editor-post-visibility__dialog-fieldset\">\n\t\t\t\t<legend className=\"editor-post-visibility__dialog-legend\">\n\t\t\t\t\t{ __( 'Post Visibility' ) }\n\t\t\t\t</legend>\n\t\t\t\t{ visibilityOptions.map( ( { value, label, info } ) => (\n\t\t\t\t\t<div key={ value } className=\"editor-post-visibility__choice\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\t\t\tname={ `editor-post-visibility__setting-${ instanceId }` }\n\t\t\t\t\t\t\tvalue={ value }\n\t\t\t\t\t\t\tonChange={ visibilityHandlers[ value ].onSelect }\n\t\t\t\t\t\t\tchecked={ visibilityHandlers[ value ].checked }\n\t\t\t\t\t\t\tid={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\t\t\t\taria-describedby={ `editor-post-${ value }-${ instanceId }-description` }\n\t\t\t\t\t\t\tclassName=\"editor-post-visibility__dialog-radio\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label\n\t\t\t\t\t\t\thtmlFor={ `editor-post-${ value }-${ instanceId }` }\n\t\t\t\t\t\t\tclassName=\"editor-post-visibility__dialog-label\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ label }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t{ <p id={ `editor-post-${ value }-${ instanceId }-description` } className=\"editor-post-visibility__dialog-info\">{ info }</p> }\n\t\t\t\t\t</div>\n\t\t\t\t) ) }\n\t\t\t</fieldset>,\n\t\t\tthis.state.hasPassword && (\n\t\t\t\t<div className=\"editor-post-visibility__dialog-password\" key=\"password-selector\">\n\t\t\t\t\t<label\n\t\t\t\t\t\thtmlFor={ `editor-post-visibility__dialog-password-input-${ instanceId }` }\n\t\t\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ __( 'Create password' ) }\n\t\t\t\t\t</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName=\"editor-post-visibility__dialog-password-input\"\n\t\t\t\t\t\tid={ `editor-post-visibility__dialog-password-input-${ instanceId }` }\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonChange={ this.updatePassword }\n\t\t\t\t\t\tvalue={ password }\n\t\t\t\t\t\tplaceholder={ __( 'Use a secure password' ) }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t),\n\t\t];\n\t}\n}\n\nexport default compose( [\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetEditedPostAttribute,\n\t\t\tgetEditedPostVisibility,\n\t\t} = select( 'core/editor' );\n\t\treturn {\n\t\t\tstatus: getEditedPostAttribute( 'status' ),\n\t\t\tvisibility: getEditedPostVisibility(),\n\t\t\tpassword: getEditedPostAttribute( 'password' ),\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { savePost, editPost } = dispatch( 'core/editor' );\n\t\treturn {\n\t\t\tonSave: savePost,\n\t\t\tonUpdateVisibility( status, password = '' ) {\n\t\t\t\teditPost( { status, password } );\n\t\t\t},\n\t\t};\n\t} ),\n\twithInstanceId,\n] )( PostVisibility );\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { visibilityOptions } from './utils';\n\nfunction PostVisibilityLabel( { visibility } ) {\n\tconst getVisibilityLabel = () => find( visibilityOptions, { value: visibility } ).label;\n\n\treturn getVisibilityLabel( visibility );\n}\n\nexport default withSelect( ( select ) => ( {\n\tvisibility: select( 'core/editor' ).getEditedPostVisibility(),\n} ) )( PostVisibilityLabel );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport const visibilityOptions = [\n\t{\n\t\tvalue: 'public',\n\t\tlabel: __( 'Public' ),\n\t\tinfo: __( 'Visible to everyone.' ),\n\t},\n\t{\n\t\tvalue: 'private',\n\t\tlabel: __( 'Private' ),\n\t\tinfo: __( 'Only visible to site admins and editors.' ),\n\t},\n\t{\n\t\tvalue: 'password',\n\t\tlabel: __( 'Password Protected' ),\n\t\tinfo: __( 'Protected with a password you choose. Only those with the password can view this post.' ),\n\t},\n];\n","/**\n * External dependencies\n */\nimport { map, pick, defaultTo, differenceBy, isEqual, noop } from 'lodash';\nimport memize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { Component } from '@wordpress/element';\nimport { withDispatch, withSelect } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { BlockEditorProvider, transformStyles } from '@wordpress/block-editor';\nimport apiFetch from '@wordpress/api-fetch';\nimport { addQueryArgs } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { unregisterBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport withRegistryProvider from './with-registry-provider';\nimport { mediaUpload } from '../../utils';\nimport ReusableBlocksButtons from '../reusable-blocks-buttons';\nimport ConvertToGroupButtons from '../convert-to-group-buttons';\nimport InserterMenuDownloadableBlocksPanel from '../inserter-menu-downloadable-blocks-panel';\n\nconst fetchLinkSuggestions = async ( search ) => {\n\tconst posts = await apiFetch( {\n\t\tpath: addQueryArgs( '/wp/v2/search', {\n\t\t\tsearch,\n\t\t\tper_page: 20,\n\t\t\ttype: 'post',\n\t\t} ),\n\t} );\n\n\treturn map( posts, ( post ) => ( {\n\t\tid: post.id,\n\t\turl: post.url,\n\t\ttitle: decodeEntities( post.title ) || __( '(no title)' ),\n\t} ) );\n};\n\nconst UNINSTALL_ERROR_NOTICE_ID = 'block-uninstall-error';\n\nclass EditorProvider extends Component {\n\tconstructor( props ) {\n\t\tsuper( ...arguments );\n\n\t\tthis.getBlockEditorSettings = memize( this.getBlockEditorSettings, {\n\t\t\tmaxSize: 1,\n\t\t} );\n\n\t\t// Assume that we don't need to initialize in the case of an error recovery.\n\t\tif ( props.recovery ) {\n\t\t\treturn;\n\t\t}\n\n\t\tprops.updatePostLock( props.settings.postLock );\n\t\tprops.setupEditor( props.post, props.initialEdits, props.settings.template );\n\n\t\tif ( props.settings.autosave ) {\n\t\t\tprops.createWarningNotice(\n\t\t\t\t__( 'There is an autosave of this post that is more recent than the version below.' ),\n\t\t\t\t{\n\t\t\t\t\tid: 'autosave-exists',\n\t\t\t\t\tactions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: __( 'View the autosave' ),\n\t\t\t\t\t\t\turl: props.settings.autosave.editLink,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n\n\tgetBlockEditorSettings(\n\t\tsettings,\n\t\treusableBlocks,\n\t\thasUploadPermissions,\n\t\tcanUserUseUnfilteredHTML\n\t) {\n\t\treturn {\n\t\t\t...pick( settings, [\n\t\t\t\t'alignWide',\n\t\t\t\t'allowedBlockTypes',\n\t\t\t\t'__experimentalPreferredStyleVariations',\n\t\t\t\t'availableLegacyWidgets',\n\t\t\t\t'bodyPlaceholder',\n\t\t\t\t'codeEditingEnabled',\n\t\t\t\t'colors',\n\t\t\t\t'disableCustomColors',\n\t\t\t\t'disableCustomFontSizes',\n\t\t\t\t'focusMode',\n\t\t\t\t'fontSizes',\n\t\t\t\t'hasFixedToolbar',\n\t\t\t\t'hasPermissionsToManageWidgets',\n\t\t\t\t'imageSizes',\n\t\t\t\t'isRTL',\n\t\t\t\t'maxWidth',\n\t\t\t\t'styles',\n\t\t\t\t'template',\n\t\t\t\t'templateLock',\n\t\t\t\t'titlePlaceholder',\n\t\t\t\t'onUpdateDefaultBlockStyles',\n\t\t\t\t'__experimentalEnableLegacyWidgetBlock',\n\t\t\t\t'__experimentalEnableMenuBlock',\n\t\t\t\t'__experimentalBlockDirectory',\n\t\t\t\t'showInserterHelpPanel',\n\t\t\t] ),\n\t\t\t__experimentalReusableBlocks: reusableBlocks,\n\t\t\t__experimentalMediaUpload: hasUploadPermissions ? mediaUpload : undefined,\n\t\t\t__experimentalFetchLinkSuggestions: fetchLinkSuggestions,\n\t\t\t__experimentalCanUserUseUnfilteredHTML: canUserUseUnfilteredHTML,\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.props.updateEditorSettings( this.props.settings );\n\n\t\tif ( ! this.props.settings.styles ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst updatedStyles = transformStyles( this.props.settings.styles, '.editor-styles-wrapper' );\n\n\t\tmap( updatedStyles, ( updatedCSS ) => {\n\t\t\tif ( updatedCSS ) {\n\t\t\t\tconst node = document.createElement( 'style' );\n\t\t\t\tnode.innerHTML = updatedCSS;\n\t\t\t\tdocument.body.appendChild( node );\n\t\t\t}\n\t\t} );\n\t}\n\n\tcomponentDidUpdate( prevProps ) {\n\t\tif ( this.props.settings !== prevProps.settings ) {\n\t\t\tthis.props.updateEditorSettings( this.props.settings );\n\t\t}\n\n\t\t// When a block is installed from the inserter and is unused,\n\t\t// it is removed when saving the post.\n\t\t// Todo: move this to the edit-post package into a separate component.\n\t\tif ( ! isEqual( this.props.downloadableBlocksToUninstall, prevProps.downloadableBlocksToUninstall ) ) {\n\t\t\tthis.props.downloadableBlocksToUninstall.forEach( ( blockType ) => {\n\t\t\t\tthis.props.uninstallBlock( blockType, noop, () => {\n\t\t\t\t\tthis.props.createWarningNotice(\n\t\t\t\t\t\t__( 'Block previews can\\'t uninstall.' ), {\n\t\t\t\t\t\t\tid: UNINSTALL_ERROR_NOTICE_ID,\n\t\t\t\t\t\t} );\n\t\t\t\t} );\n\t\t\t\tunregisterBlockType( blockType.name );\n\t\t\t} );\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.tearDownEditor();\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\tcanUserUseUnfilteredHTML,\n\t\t\tchildren,\n\t\t\tblocks,\n\t\t\tresetEditorBlocks,\n\t\t\tisReady,\n\t\t\tsettings,\n\t\t\treusableBlocks,\n\t\t\tresetEditorBlocksWithoutUndoLevel,\n\t\t\thasUploadPermissions,\n\t\t} = this.props;\n\n\t\tif ( ! isReady ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst editorSettings = this.getBlockEditorSettings(\n\t\t\tsettings,\n\t\t\treusableBlocks,\n\t\t\thasUploadPermissions,\n\t\t\tcanUserUseUnfilteredHTML,\n\t\t);\n\n\t\treturn (\n\t\t\t<BlockEditorProvider\n\t\t\t\tvalue={ blocks }\n\t\t\t\tonInput={ resetEditorBlocksWithoutUndoLevel }\n\t\t\t\tonChange={ resetEditorBlocks }\n\t\t\t\tsettings={ editorSettings }\n\t\t\t\tuseSubRegistry={ false }\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t<ReusableBlocksButtons />\n\t\t\t\t<ConvertToGroupButtons />\n\t\t\t\t{ editorSettings.__experimentalBlockDirectory && <InserterMenuDownloadableBlocksPanel /> }\n\t\t\t</BlockEditorProvider>\n\t\t);\n\t}\n}\n\nexport default compose( [\n\twithRegistryProvider,\n\twithSelect( ( select ) => {\n\t\tconst {\n\t\t\tcanUserUseUnfilteredHTML,\n\t\t\t__unstableIsEditorReady: isEditorReady,\n\t\t\tgetEditorBlocks,\n\t\t\t__experimentalGetReusableBlocks,\n\t\t} = select( 'core/editor' );\n\t\tconst { canUser } = select( 'core' );\n\t\tconst { getInstalledBlockTypes } = select( 'core/block-directory' );\n\t\tconst { getBlocks } = select( 'core/block-editor' );\n\n\t\tconst downloadableBlocksToUninstall = differenceBy( getInstalledBlockTypes(), getBlocks(), 'name' );\n\n\t\treturn {\n\t\t\tcanUserUseUnfilteredHTML: canUserUseUnfilteredHTML(),\n\t\t\tisReady: isEditorReady(),\n\t\t\tblocks: getEditorBlocks(),\n\t\t\treusableBlocks: __experimentalGetReusableBlocks(),\n\t\t\thasUploadPermissions: defaultTo( canUser( 'create', 'media' ), true ),\n\t\t\tdownloadableBlocksToUninstall,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst {\n\t\t\tsetupEditor,\n\t\t\tupdatePostLock,\n\t\t\tresetEditorBlocks,\n\t\t\tupdateEditorSettings,\n\t\t\t__experimentalTearDownEditor,\n\t\t} = dispatch( 'core/editor' );\n\t\tconst { createWarningNotice } = dispatch( 'core/notices' );\n\t\tconst { uninstallBlock } = dispatch( 'core/block-directory' );\n\n\t\treturn {\n\t\t\tsetupEditor,\n\t\t\tupdatePostLock,\n\t\t\tcreateWarningNotice,\n\t\t\tresetEditorBlocks,\n\t\t\tupdateEditorSettings,\n\t\t\tresetEditorBlocksWithoutUndoLevel( blocks ) {\n\t\t\t\tresetEditorBlocks( blocks, {\n\t\t\t\t\t__unstableShouldCreateUndoLevel: false,\n\t\t\t\t} );\n\t\t\t},\n\t\t\ttearDownEditor: __experimentalTearDownEditor,\n\t\t\tuninstallBlock,\n\t\t};\n\t} ),\n] )( EditorProvider );\n","/**\n * WordPress dependencies\n */\nimport { useState, useEffect } from '@wordpress/element';\nimport { withRegistry, createRegistry, RegistryProvider } from '@wordpress/data';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { storeConfig as blockEditorStoreConfig } from '@wordpress/block-editor';\n\n/**\n * Internal dependencies\n */\nimport { storeConfig } from '../../store';\nimport applyMiddlewares from '../../store/middlewares';\n\nconst withRegistryProvider = createHigherOrderComponent(\n\t( WrappedComponent ) => withRegistry( ( props ) => {\n\t\tconst { useSubRegistry = true, registry, ...additionalProps } = props;\n\t\tif ( ! useSubRegistry ) {\n\t\t\treturn <WrappedComponent { ...additionalProps } />;\n\t\t}\n\n\t\tconst [ subRegistry, setSubRegistry ] = useState( null );\n\t\tuseEffect( () => {\n\t\t\tconst newRegistry = createRegistry( {\n\t\t\t\t'core/block-editor': blockEditorStoreConfig,\n\t\t\t}, registry );\n\t\t\tconst store = newRegistry.registerStore( 'core/editor', storeConfig );\n\t\t\t// This should be removed after the refactoring of the effects to controls.\n\t\t\tapplyMiddlewares( store );\n\t\t\tsetSubRegistry( newRegistry );\n\t\t}, [ registry ] );\n\n\t\tif ( ! subRegistry ) {\n\t\t\treturn null;\n\t\t}\n\n\t\treturn (\n\t\t\t<RegistryProvider value={ subRegistry }>\n\t\t\t\t<WrappedComponent { ...additionalProps } />\n\t\t\t</RegistryProvider>\n\t\t);\n\t} ),\n\t'withRegistryProvider'\n);\n\nexport default withRegistryProvider;\n","/**\n * WordPress dependencies\n */\nimport { __experimentalBlockSettingsMenuPluginsExtension } from '@wordpress/block-editor';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport ReusableBlockConvertButton from './reusable-block-convert-button';\nimport ReusableBlockDeleteButton from './reusable-block-delete-button';\n\nfunction ReusableBlocksButtons( { clientIds } ) {\n\treturn (\n\t\t<__experimentalBlockSettingsMenuPluginsExtension>\n\t\t\t{ ( { onClose } ) => (\n\t\t\t\t<>\n\t\t\t\t\t<ReusableBlockConvertButton\n\t\t\t\t\t\tclientIds={ clientIds }\n\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t/>\n\t\t\t\t\t{ clientIds.length === 1 && (\n\t\t\t\t\t\t<ReusableBlockDeleteButton\n\t\t\t\t\t\t\tclientId={ clientIds[ 0 ] }\n\t\t\t\t\t\t\tonToggle={ onClose }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</>\n\t\t\t) }\n\t\t</__experimentalBlockSettingsMenuPluginsExtension>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getSelectedBlockClientIds } = select( 'core/block-editor' );\n\treturn {\n\t\tclientIds: getSelectedBlockClientIds(),\n\t};\n} )( ReusableBlocksButtons );\n","/**\n * External dependencies\n */\nimport { noop, every } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { hasBlockSupport, isReusableBlock } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nexport function ReusableBlockConvertButton( {\n\tisVisible,\n\tisReusable,\n\tonConvertToStatic,\n\tonConvertToReusable,\n} ) {\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{ ! isReusable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\ticon=\"controls-repeat\"\n\t\t\t\t\tonClick={ onConvertToReusable }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Add to Reusable Blocks' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t\t{ isReusable && (\n\t\t\t\t<MenuItem\n\t\t\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\t\t\ticon=\"controls-repeat\"\n\t\t\t\t\tonClick={ onConvertToStatic }\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Convert to Regular Block' ) }\n\t\t\t\t</MenuItem>\n\t\t\t) }\n\t\t</>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientIds } ) => {\n\t\tconst {\n\t\t\tgetBlocksByClientId,\n\t\t\tcanInsertBlockType,\n\t\t} = select( 'core/block-editor' );\n\t\tconst {\n\t\t\t__experimentalGetReusableBlock: getReusableBlock,\n\t\t} = select( 'core/editor' );\n\t\tconst { canUser } = select( 'core' );\n\n\t\tconst blocks = getBlocksByClientId( clientIds );\n\n\t\tconst isReusable = (\n\t\t\tblocks.length === 1 &&\n\t\t\tblocks[ 0 ] &&\n\t\t\tisReusableBlock( blocks[ 0 ] ) &&\n\t\t\t!! getReusableBlock( blocks[ 0 ].attributes.ref )\n\t\t);\n\n\t\t// Show 'Convert to Regular Block' when selected block is a reusable block\n\t\tconst isVisible = isReusable || (\n\t\t\t// Hide 'Add to Reusable Blocks' when reusable blocks are disabled\n\t\t\tcanInsertBlockType( 'core/block' ) &&\n\n\t\t\tevery( blocks, ( block ) => (\n\t\t\t\t// Guard against the case where a regular block has *just* been converted\n\t\t\t\t!! block &&\n\n\t\t\t\t// Hide 'Add to Reusable Blocks' on invalid blocks\n\t\t\t\tblock.isValid &&\n\n\t\t\t\t// Hide 'Add to Reusable Blocks' when block doesn't support being made reusable\n\t\t\t\thasBlockSupport( block.name, 'reusable', true )\n\t\t\t) ) &&\n\n\t\t\t// Hide 'Add to Reusable Blocks' when current doesn't have permission to do that\n\t\t\t!! canUser( 'create', 'blocks' )\n\t\t);\n\n\t\treturn {\n\t\t\tisReusable,\n\t\t\tisVisible,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientIds, onToggle = noop } ) => {\n\t\tconst {\n\t\t\t__experimentalConvertBlockToReusable: convertBlockToReusable,\n\t\t\t__experimentalConvertBlockToStatic: convertBlockToStatic,\n\t\t} = dispatch( 'core/editor' );\n\n\t\treturn {\n\t\t\tonConvertToStatic() {\n\t\t\t\tif ( clientIds.length !== 1 ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconvertBlockToStatic( clientIds[ 0 ] );\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t\tonConvertToReusable() {\n\t\t\t\tconvertBlockToReusable( clientIds );\n\t\t\t\tonToggle();\n\t\t\t},\n\t\t};\n\t} ),\n] )( ReusableBlockConvertButton );\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { compose } from '@wordpress/compose';\nimport { MenuItem } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { isReusableBlock } from '@wordpress/blocks';\nimport { withSelect, withDispatch } from '@wordpress/data';\n\nexport function ReusableBlockDeleteButton( { isVisible, isDisabled, onDelete } ) {\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<MenuItem\n\t\t\tclassName=\"editor-block-settings-menu__control block-editor-block-settings-menu__control\"\n\t\t\ticon=\"no\"\n\t\t\tdisabled={ isDisabled }\n\t\t\tonClick={ () => onDelete() }\n\t\t>\n\t\t\t{ __( 'Remove from Reusable Blocks' ) }\n\t\t</MenuItem>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select, { clientId } ) => {\n\t\tconst { getBlock } = select( 'core/block-editor' );\n\t\tconst { canUser } = select( 'core' );\n\t\tconst { __experimentalGetReusableBlock: getReusableBlock } = select( 'core/editor' );\n\t\tconst block = getBlock( clientId );\n\n\t\tconst reusableBlock = block && isReusableBlock( block ) ?\n\t\t\tgetReusableBlock( block.attributes.ref ) :\n\t\t\tnull;\n\n\t\treturn {\n\t\t\tisVisible: !! reusableBlock && !! canUser( 'delete', 'blocks', reusableBlock.id ),\n\t\t\tisDisabled: reusableBlock && reusableBlock.isTemporary,\n\t\t};\n\t} ),\n\twithDispatch( ( dispatch, { clientId, onToggle = noop }, { select } ) => {\n\t\tconst {\n\t\t\t__experimentalDeleteReusableBlock: deleteReusableBlock,\n\t\t} = dispatch( 'core/editor' );\n\t\tconst { getBlock } = select( 'core/block-editor' );\n\n\t\treturn {\n\t\t\tonDelete() {\n\t\t\t\t// TODO: Make this a <Confirm /> component or similar\n\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\tconst hasConfirmed = window.confirm( __(\n\t\t\t\t\t'Are you sure you want to delete this Reusable Block?\\n\\n' +\n\t\t\t\t\t'It will be permanently removed from all posts and pages that use it.'\n\t\t\t\t) );\n\n\t\t\t\tif ( hasConfirmed ) {\n\t\t\t\t\tconst block = getBlock( clientId );\n\t\t\t\t\tdeleteReusableBlock( block.attributes.ref );\n\t\t\t\t\tonToggle();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t} ),\n] )( ReusableBlockDeleteButton );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Dropdown, IconButton } from '@wordpress/components';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport TableOfContentsPanel from './panel';\n\nfunction TableOfContents( { hasBlocks, hasOutlineItemsDisabled } ) {\n\treturn (\n\t\t<Dropdown\n\t\t\tposition=\"bottom\"\n\t\t\tclassName=\"table-of-contents\"\n\t\t\tcontentClassName=\"table-of-contents__popover\"\n\t\t\trenderToggle={ ( { isOpen, onToggle } ) => (\n\t\t\t\t<IconButton\n\t\t\t\t\tonClick={ hasBlocks ? onToggle : undefined }\n\t\t\t\t\ticon=\"info-outline\"\n\t\t\t\t\taria-expanded={ isOpen }\n\t\t\t\t\tlabel={ __( 'Content structure' ) }\n\t\t\t\t\tlabelPosition=\"bottom\"\n\t\t\t\t\taria-disabled={ ! hasBlocks }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\trenderContent={ ( { onClose } ) => <TableOfContentsPanel onRequestClose={ onClose } hasOutlineItemsDisabled={ hasOutlineItemsDisabled } /> }\n\t\t/>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\thasBlocks: !! select( 'core/block-editor' ).getBlockCount(),\n\t};\n} )( TableOfContents );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { withSelect } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport WordCount from '../word-count';\nimport DocumentOutline from '../document-outline';\n\nfunction TableOfContentsPanel( { headingCount, paragraphCount, numberOfBlocks, hasOutlineItemsDisabled, onRequestClose } ) {\n\treturn (\n\t\t/*\n\t\t* Disable reason: The `list` ARIA role is redundant but\n\t\t* Safari+VoiceOver won't announce the list otherwise.\n\t\t*/\n\t\t/* eslint-disable jsx-a11y/no-redundant-roles */\n\t\t<>\n\t\t\t<div\n\t\t\t\tclassName=\"table-of-contents__wrapper\"\n\t\t\t\trole=\"note\"\n\t\t\t\taria-label={ __( 'Document Statistics' ) }\n\t\t\t\ttabIndex=\"0\"\n\t\t\t>\n\t\t\t\t<ul\n\t\t\t\t\trole=\"list\"\n\t\t\t\t\tclassName=\"table-of-contents__counts\"\n\t\t\t\t>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Words' ) }\n\t\t\t\t\t\t<WordCount />\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Headings' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ headingCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Paragraphs' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ paragraphCount }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"table-of-contents__count\">\n\t\t\t\t\t\t{ __( 'Blocks' ) }\n\t\t\t\t\t\t<span className=\"table-of-contents__number\">\n\t\t\t\t\t\t\t{ numberOfBlocks }\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{ headingCount > 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<hr />\n\t\t\t\t\t<h2 className=\"table-of-contents__title\">\n\t\t\t\t\t\t{ __( 'Document Outline' ) }\n\t\t\t\t\t</h2>\n\t\t\t\t\t<DocumentOutline onSelect={ onRequestClose } hasOutlineItemsDisabled={ hasOutlineItemsDisabled } />\n\t\t\t\t</>\n\t\t\t) }\n\t\t</>\n\t\t/* eslint-enable jsx-a11y/no-redundant-roles */\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getGlobalBlockCount } = select( 'core/block-editor' );\n\treturn {\n\t\theadingCount: getGlobalBlockCount( 'core/heading' ),\n\t\tparagraphCount: getGlobalBlockCount( 'core/paragraph' ),\n\t\tnumberOfBlocks: getGlobalBlockCount(),\n\t};\n} )( TableOfContentsPanel );\n","/**\n * WordPress dependencies\n */\nimport { Notice, Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { withSelect, withDispatch } from '@wordpress/data';\nimport { compose } from '@wordpress/compose';\n\nfunction TemplateValidationNotice( { isValid, ...props } ) {\n\tif ( isValid ) {\n\t\treturn null;\n\t}\n\n\tconst confirmSynchronization = () => {\n\t\t// eslint-disable-next-line no-alert\n\t\tif ( window.confirm( __( 'Resetting the template may result in loss of content, do you want to continue?' ) ) ) {\n\t\t\tprops.synchronizeTemplate();\n\t\t}\n\t};\n\n\treturn (\n\t\t<Notice className=\"editor-template-validation-notice\" isDismissible={ false } status=\"warning\">\n\t\t\t<p>{ __( 'The content of your post doesnt match the template assigned to your post type.' ) }</p>\n\t\t\t<div>\n\t\t\t\t<Button isDefault onClick={ props.resetTemplateValidity }>{ __( 'Keep it as is' ) }</Button>\n\t\t\t\t<Button onClick={ confirmSynchronization } isPrimary>{ __( 'Reset the template' ) }</Button>\n\t\t\t</div>\n\t\t</Notice>\n\t);\n}\n\nexport default compose( [\n\twithSelect( ( select ) => ( {\n\t\tisValid: select( 'core/block-editor' ).isValidTemplate(),\n\t} ) ),\n\twithDispatch( ( dispatch ) => {\n\t\tconst { setTemplateValidity, synchronizeTemplate } = dispatch( 'core/block-editor' );\n\t\treturn {\n\t\t\tresetTemplateValidity: () => setTemplateValidity( true ),\n\t\t\tsynchronizeTemplate,\n\t\t};\n\t} ),\n] )( TemplateValidationNotice );\n","/**\n * External dependencies\n */\nimport {\n\tcastArray,\n\tincludes,\n\tisArray,\n\tget,\n\tsome,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\n\nexport function ThemeSupportCheck( { themeSupports, children, postType, supportKeys } ) {\n\tconst isSupported = some(\n\t\tcastArray( supportKeys ), ( key ) => {\n\t\t\tconst supported = get( themeSupports, [ key ], false );\n\t\t\t// 'post-thumbnails' can be boolean or an array of post types.\n\t\t\t// In the latter case, we need to verify `postType` exists\n\t\t\t// within `supported`. If `postType` isn't passed, then the check\n\t\t\t// should fail.\n\t\t\tif ( 'post-thumbnails' === key && isArray( supported ) ) {\n\t\t\t\treturn includes( supported, postType );\n\t\t\t}\n\t\t\treturn supported;\n\t\t}\n\t);\n\n\tif ( ! isSupported ) {\n\t\treturn null;\n\t}\n\n\treturn children;\n}\n\nexport default withSelect( ( select ) => {\n\tconst { getThemeSupports } = select( 'core' );\n\tconst { getEditedPostAttribute } = select( 'core/editor' );\n\treturn {\n\t\tpostType: getEditedPostAttribute( 'type' ),\n\t\tthemeSupports: getThemeSupports(),\n\t};\n} )( ThemeSupportCheck );\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Component } from '@wordpress/element';\nimport { withSelect } from '@wordpress/data';\n\nclass UnsavedChangesWarning extends Component {\n\tconstructor() {\n\t\tsuper( ...arguments );\n\t\tthis.warnIfUnsavedChanges = this.warnIfUnsavedChanges.bind( this );\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener( 'beforeunload', this.warnIfUnsavedChanges );\n\t}\n\n\t/**\n\t * Warns the user if there are unsaved changes before leaving the editor.\n\t *\n\t * @param {Event} event `beforeunload` event.\n\t *\n\t * @return {?string} Warning prompt message, if unsaved changes exist.\n\t */\n\twarnIfUnsavedChanges( event ) {\n\t\tconst { isDirty } = this.props;\n\n\t\tif ( isDirty ) {\n\t\t\tevent.returnValue = __( 'You have unsaved changes. If you proceed, they will be lost.' );\n\t\t\treturn event.returnValue;\n\t\t}\n\t}\n\n\trender() {\n\t\treturn null;\n\t}\n}\n\nexport default withSelect( ( select ) => ( {\n\tisDirty: select( 'core/editor' ).isEditedPostDirty(),\n} ) )( UnsavedChangesWarning );\n","/**\n * WordPress dependencies\n */\nimport { withSelect } from '@wordpress/data';\nimport { _x } from '@wordpress/i18n';\nimport { count as wordCount } from '@wordpress/wordcount';\n\nfunction WordCount( { content } ) {\n\t/*\n\t * translators: If your word count is based on single characters (e.g. East Asian characters),\n\t * enter 'characters_excluding_spaces' or 'characters_including_spaces'. Otherwise, enter 'words'.\n\t * Do not translate into your own language.\n\t */\n\tconst wordCountType = _x( 'words', 'Word count type. Do not translate!' );\n\n\treturn (\n\t\t<span className=\"word-count\">{ wordCount( content, wordCountType ) }</span>\n\t);\n}\n\nexport default withSelect( ( select ) => {\n\treturn {\n\t\tcontent: select( 'core/editor' ).getEditedPostAttribute( 'content' ),\n\t};\n} )( WordCount );\n","/**\n * External dependencies\n */\nimport { clone } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addFilter } from '@wordpress/hooks';\nimport { getDefaultBlockName } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport { blockAutocompleter, userAutocompleter } from '../components';\n\nconst defaultAutocompleters = [ userAutocompleter ];\n\nfunction setDefaultCompleters( completers, blockName ) {\n\tif ( ! completers ) {\n\t\t// Provide copies so filters may directly modify them.\n\t\tcompleters = defaultAutocompleters.map( clone );\n\t\t// Add blocks autocompleter for Paragraph block\n\t\tif ( blockName === getDefaultBlockName() ) {\n\t\t\tcompleters.push( clone( blockAutocompleter ) );\n\t\t}\n\t}\n\treturn completers;\n}\n\naddFilter(\n\t'editor.Autocomplete.completers',\n\t'editor/autocompleters/set-default-completers',\n\tsetDefaultCompleters\n);\n","/**\n * Internal dependencies\n */\nimport './default-autocompleters';\n","/**\n * WordPress dependencies\n */\nimport '@wordpress/block-editor';\nimport '@wordpress/blocks';\nimport '@wordpress/core-data';\nimport '@wordpress/notices';\nimport '@wordpress/nux';\nimport '@wordpress/rich-text';\nimport '@wordpress/viewport';\n\n/**\n * Internal dependencies\n */\nimport './store';\nimport './hooks';\n\nexport * from './components';\nexport * from './utils';\nexport { storeConfig } from './store';\n\n/*\n * Backward compatibility\n */\nexport { transformStyles } from '@wordpress/block-editor';\n","/**\n * External dependencies\n */\nimport { has, castArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { dispatch, select, apiFetch } from '@wordpress/data-controls';\nimport { parse, synchronizeBlocksWithTemplate } from '@wordpress/blocks';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\n\n/**\n * Internal dependencies\n */\nimport {\n\tSTORE_KEY,\n\tPOST_UPDATE_TRANSACTION_ID,\n\tTRASH_POST_NOTICE_ID,\n} from './constants';\nimport {\n\tgetNotificationArgumentsForSaveSuccess,\n\tgetNotificationArgumentsForSaveFail,\n\tgetNotificationArgumentsForTrashFail,\n} from './utils/notice-builder';\nimport serializeBlocks from './utils/serialize-blocks';\nimport { awaitNextStateChange, getRegistry } from './controls';\nimport * as sources from './block-sources';\n\n/**\n * Map of Registry instance to WeakMap of dependencies by custom source.\n *\n * @type WeakMap<WPDataRegistry,WeakMap<WPBlockAttributeSource,Object>>\n */\nconst lastBlockSourceDependenciesByRegistry = new WeakMap;\n\n/**\n * Given a blocks array, returns a blocks array with sourced attribute values\n * applied. The reference will remain consistent with the original argument if\n * no attribute values must be overridden. If sourced values are applied, the\n * return value will be a modified copy of the original array.\n *\n * @param {WPBlock[]} blocks Original blocks array.\n *\n * @return {WPBlock[]} Blocks array with sourced values applied.\n */\nfunction* getBlocksWithSourcedAttributes( blocks ) {\n\tconst registry = yield getRegistry();\n\tif ( ! lastBlockSourceDependenciesByRegistry.has( registry ) ) {\n\t\treturn blocks;\n\t}\n\n\tconst blockSourceDependencies = lastBlockSourceDependenciesByRegistry.get( registry );\n\n\tlet workingBlocks = blocks;\n\tfor ( let i = 0; i < blocks.length; i++ ) {\n\t\tlet block = blocks[ i ];\n\t\tconst blockType = yield select( 'core/blocks', 'getBlockType', block.name );\n\n\t\tfor ( const [ attributeName, schema ] of Object.entries( blockType.attributes ) ) {\n\t\t\tif ( ! sources[ schema.source ] || ! sources[ schema.source ].apply ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif ( ! blockSourceDependencies.has( sources[ schema.source ] ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst dependencies = blockSourceDependencies.get( sources[ schema.source ] );\n\t\t\tconst sourcedAttributeValue = sources[ schema.source ].apply( schema, dependencies );\n\n\t\t\t// It's only necessary to apply the value if it differs from the\n\t\t\t// block's locally-assigned value, to avoid needlessly resetting\n\t\t\t// the block editor.\n\t\t\tif ( sourcedAttributeValue === block.attributes[ attributeName ] ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Create a shallow clone to mutate, leaving the original intact.\n\t\t\tif ( workingBlocks === blocks ) {\n\t\t\t\tworkingBlocks = [ ...workingBlocks ];\n\t\t\t}\n\n\t\t\tblock = {\n\t\t\t\t...block,\n\t\t\t\tattributes: {\n\t\t\t\t\t...block.attributes,\n\t\t\t\t\t[ attributeName ]: sourcedAttributeValue,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tworkingBlocks.splice( i, 1, block );\n\t\t}\n\n\t\t// Recurse to apply source attributes to inner blocks.\n\t\tif ( block.innerBlocks.length ) {\n\t\t\tconst appliedInnerBlocks = yield* getBlocksWithSourcedAttributes( block.innerBlocks );\n\t\t\tif ( appliedInnerBlocks !== block.innerBlocks ) {\n\t\t\t\tif ( workingBlocks === blocks ) {\n\t\t\t\t\tworkingBlocks = [ ...workingBlocks ];\n\t\t\t\t}\n\n\t\t\t\tblock = {\n\t\t\t\t\t...block,\n\t\t\t\t\tinnerBlocks: appliedInnerBlocks,\n\t\t\t\t};\n\n\t\t\t\tworkingBlocks.splice( i, 1, block );\n\t\t\t}\n\t\t}\n\t}\n\n\treturn workingBlocks;\n}\n\n/**\n * Refreshes the last block source dependencies, optionally for a given subset\n * of sources (defaults to the full set of sources).\n *\n * @param {?Array} sourcesToUpdate Optional subset of sources to reset.\n *\n * @yield {Object} Yielded actions or control descriptors.\n */\nfunction* resetLastBlockSourceDependencies( sourcesToUpdate = Object.values( sources ) ) {\n\tif ( ! sourcesToUpdate.length ) {\n\t\treturn;\n\t}\n\n\tconst registry = yield getRegistry();\n\tif ( ! lastBlockSourceDependenciesByRegistry.has( registry ) ) {\n\t\tlastBlockSourceDependenciesByRegistry.set( registry, new WeakMap );\n\t}\n\n\tconst lastBlockSourceDependencies = lastBlockSourceDependenciesByRegistry.get( registry );\n\n\tfor ( const source of sourcesToUpdate ) {\n\t\tconst dependencies = yield* source.getDependencies();\n\t\tlastBlockSourceDependencies.set( source, dependencies );\n\t}\n}\n\n/**\n * Returns an action generator used in signalling that editor has initialized with\n * the specified post object and editor settings.\n *\n * @param {Object} post      Post object.\n * @param {Object} edits     Initial edited attributes object.\n * @param {Array?} template  Block Template.\n */\nexport function* setupEditor( post, edits, template ) {\n\t// In order to ensure maximum of a single parse during setup, edits are\n\t// included as part of editor setup action. Assume edited content as\n\t// canonical if provided, falling back to post.\n\tlet content;\n\tif ( has( edits, [ 'content' ] ) ) {\n\t\tcontent = edits.content;\n\t} else {\n\t\tcontent = post.content.raw;\n\t}\n\n\tlet blocks = parse( content );\n\n\t// Apply a template for new posts only, if exists.\n\tconst isNewPost = post.status === 'auto-draft';\n\tif ( isNewPost && template ) {\n\t\tblocks = synchronizeBlocksWithTemplate( blocks, template );\n\t}\n\n\tyield resetPost( post );\n\tyield* resetLastBlockSourceDependencies();\n\tyield {\n\t\ttype: 'SETUP_EDITOR',\n\t\tpost,\n\t\tedits,\n\t\ttemplate,\n\t};\n\tyield resetEditorBlocks( blocks, { __unstableShouldCreateUndoLevel: false } );\n\tyield setupEditorState( post );\n\tif (\n\t\tedits &&\n\t\tObject.keys( edits ).some(\n\t\t\t( key ) =>\n\t\t\t\tedits[ key ] !== ( has( post, [ key, 'raw' ] ) ? post[ key ].raw : post[ key ] )\n\t\t)\n\t) {\n\t\tyield editPost( edits );\n\t}\n\tyield* __experimentalSubscribeSources();\n}\n\n/**\n * Returns an action object signalling that the editor is being destroyed and\n * that any necessary state or side-effect cleanup should occur.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalTearDownEditor() {\n\treturn { type: 'TEAR_DOWN_EDITOR' };\n}\n\n/**\n * Returns an action generator which loops to await the next state change,\n * calling to reset blocks when a block source dependencies change.\n *\n * @yield {Object} Action object.\n */\nexport function* __experimentalSubscribeSources() {\n\twhile ( true ) {\n\t\tyield awaitNextStateChange();\n\n\t\t// The bailout case: If the editor becomes unmounted, it will flag\n\t\t// itself as non-ready. Effectively unsubscribes from the registry.\n\t\tconst isStillReady = yield select( STORE_KEY, '__unstableIsEditorReady' );\n\t\tif ( ! isStillReady ) {\n\t\t\tbreak;\n\t\t}\n\n\t\tconst registry = yield getRegistry();\n\n\t\tlet reset = false;\n\t\tfor ( const source of Object.values( sources ) ) {\n\t\t\tif ( ! source.getDependencies ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst dependencies = yield* source.getDependencies();\n\n\t\t\tif ( ! lastBlockSourceDependenciesByRegistry.has( registry ) ) {\n\t\t\t\tlastBlockSourceDependenciesByRegistry.set( registry, new WeakMap );\n\t\t\t}\n\n\t\t\tconst lastBlockSourceDependencies = lastBlockSourceDependenciesByRegistry.get( registry );\n\t\t\tconst lastDependencies = lastBlockSourceDependencies.get( source );\n\n\t\t\tif ( ! isShallowEqual( dependencies, lastDependencies ) ) {\n\t\t\t\tlastBlockSourceDependencies.set( source, dependencies );\n\n\t\t\t\t// Allow the loop to continue in order to assign latest\n\t\t\t\t// dependencies values, but mark for reset.\n\t\t\t\treset = true;\n\t\t\t}\n\t\t}\n\n\t\tif ( reset ) {\n\t\t\tyield resetEditorBlocks( yield select( STORE_KEY, 'getEditorBlocks' ), { __unstableShouldCreateUndoLevel: false } );\n\t\t}\n\t}\n}\n\n/**\n * Returns an action object used in signalling that the latest version of the\n * post has been received, either by initialization or save.\n *\n * @param {Object} post Post object.\n *\n * @return {Object} Action object.\n */\nexport function resetPost( post ) {\n\treturn {\n\t\ttype: 'RESET_POST',\n\t\tpost,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the latest autosave of the\n * post has been received, by initialization or autosave.\n *\n * @deprecated since 5.6. Callers should use the `receiveAutosaves( postId, autosave )`\n * \t\t\t   selector from the '@wordpress/core-data' package.\n *\n * @param {Object} newAutosave Autosave post object.\n *\n * @return {Object} Action object.\n */\nexport function* resetAutosave( newAutosave ) {\n\tdeprecated( 'resetAutosave action (`core/editor` store)', {\n\t\talternative: 'receiveAutosaves action (`core` store)',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\tconst postId = yield select( STORE_KEY, 'getCurrentPostId' );\n\tyield dispatch( 'core', 'receiveAutosaves', postId, newAutosave );\n\n\treturn { type: '__INERT__' };\n}\n\n/**\n * Action for dispatching that a post update request has started.\n *\n * @param {Object} options\n *\n * @return {Object} An action object\n */\nexport function __experimentalRequestPostUpdateStart( options = {} ) {\n\treturn {\n\t\ttype: 'REQUEST_POST_UPDATE_START',\n\t\toptions,\n\t};\n}\n\n/**\n * Action for dispatching that a post update request has finished.\n *\n * @param {Object} options\n *\n * @return {Object} An action object\n */\nexport function __experimentalRequestPostUpdateFinish( options = {} ) {\n\treturn {\n\t\ttype: 'REQUEST_POST_UPDATE_FINISH',\n\t\toptions,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a patch of updates for the\n * latest version of the post have been received.\n *\n * @param {Object} edits Updated post fields.\n *\n * @return {Object} Action object.\n */\nexport function updatePost( edits ) {\n\treturn {\n\t\ttype: 'UPDATE_POST',\n\t\tedits,\n\t};\n}\n\n/**\n * Returns an action object used to setup the editor state when first opening\n * an editor.\n *\n * @param {Object} post   Post object.\n *\n * @return {Object} Action object.\n */\nexport function setupEditorState( post ) {\n\treturn {\n\t\ttype: 'SETUP_EDITOR_STATE',\n\t\tpost,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that attributes of the post have\n * been edited.\n *\n * @param {Object} edits   Post attributes to edit.\n * @param {Object} options Options for the edit.\n *\n * @yield {Object} Action object or control.\n */\nexport function* editPost( edits, options ) {\n\tconst { id, type } = yield select( STORE_KEY, 'getCurrentPost' );\n\tyield dispatch(\n\t\t'core',\n\t\t'editEntityRecord',\n\t\t'postType',\n\t\ttype,\n\t\tid,\n\t\tedits,\n\t\toptions\n\t);\n}\n\n/**\n * Returns action object produced by the updatePost creator augmented by\n * an optimist option that signals optimistically applying updates.\n *\n * @param {Object} edits  Updated post fields.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalOptimisticUpdatePost( edits ) {\n\treturn {\n\t\t...updatePost( edits ),\n\t\toptimist: { id: POST_UPDATE_TRANSACTION_ID },\n\t};\n}\n\n/**\n * Action generator for saving the current post in the editor.\n *\n * @param {Object} options\n */\nexport function* savePost( options = {} ) {\n\tif ( ! ( yield select( STORE_KEY, 'isEditedPostSaveable' ) ) ) {\n\t\treturn;\n\t}\n\tlet edits = {\n\t\tcontent: yield select( STORE_KEY, 'getEditedPostContent' ),\n\t};\n\tif ( ! options.isAutosave ) {\n\t\tyield dispatch( STORE_KEY, 'editPost', edits, { undoIgnore: true } );\n\t}\n\n\tyield __experimentalRequestPostUpdateStart( options );\n\tconst previousRecord = yield select( STORE_KEY, 'getCurrentPost' );\n\tedits = {\n\t\tid: previousRecord.id,\n\t\t...( yield select(\n\t\t\t'core',\n\t\t\t'getEntityRecordNonTransientEdits',\n\t\t\t'postType',\n\t\t\tpreviousRecord.type,\n\t\t\tpreviousRecord.id\n\t\t) ),\n\t\t...edits,\n\t};\n\tyield dispatch(\n\t\t'core',\n\t\t'saveEntityRecord',\n\t\t'postType',\n\t\tpreviousRecord.type,\n\t\tedits,\n\t\toptions\n\t);\n\tyield __experimentalRequestPostUpdateFinish( options );\n\n\tconst error = yield select(\n\t\t'core',\n\t\t'getLastEntitySaveError',\n\t\t'postType',\n\t\tpreviousRecord.type,\n\t\tpreviousRecord.id\n\t);\n\tif ( error ) {\n\t\tconst args = getNotificationArgumentsForSaveFail( {\n\t\t\tpost: previousRecord,\n\t\t\tedits,\n\t\t\terror,\n\t\t} );\n\t\tif ( args.length ) {\n\t\t\tyield dispatch( 'core/notices', 'createErrorNotice', ...args );\n\t\t}\n\t} else {\n\t\tconst updatedRecord = yield select( STORE_KEY, 'getCurrentPost' );\n\t\tconst args = getNotificationArgumentsForSaveSuccess( {\n\t\t\tpreviousPost: previousRecord,\n\t\t\tpost: updatedRecord,\n\t\t\tpostType: yield select( 'core', 'getPostType', updatedRecord.type ),\n\t\t\toptions,\n\t\t} );\n\t\tif ( args.length ) {\n\t\t\tyield dispatch( 'core/notices', 'createSuccessNotice', ...args );\n\t\t}\n\t}\n}\n\n/**\n * Action generator for handling refreshing the current post.\n */\nexport function* refreshPost() {\n\tconst post = yield select(\n\t\tSTORE_KEY,\n\t\t'getCurrentPost'\n\t);\n\tconst postTypeSlug = yield select(\n\t\tSTORE_KEY,\n\t\t'getCurrentPostType'\n\t);\n\tconst postType = yield select(\n\t\t'core',\n\t\t'getPostType',\n\t\tpostTypeSlug\n\t);\n\tconst newPost = yield apiFetch(\n\t\t{\n\t\t\t// Timestamp arg allows caller to bypass browser caching, which is\n\t\t\t// expected for this specific function.\n\t\t\tpath: `/wp/v2/${ postType.rest_base }/${ post.id }` +\n\t\t\t\t`?context=edit&_timestamp=${ Date.now() }`,\n\t\t}\n\t);\n\tyield dispatch(\n\t\tSTORE_KEY,\n\t\t'resetPost',\n\t\tnewPost\n\t);\n}\n\n/**\n * Action generator for trashing the current post in the editor.\n */\nexport function* trashPost() {\n\tconst postTypeSlug = yield select(\n\t\tSTORE_KEY,\n\t\t'getCurrentPostType'\n\t);\n\tconst postType = yield select(\n\t\t'core',\n\t\t'getPostType',\n\t\tpostTypeSlug\n\t);\n\tyield dispatch(\n\t\t'core/notices',\n\t\t'removeNotice',\n\t\tTRASH_POST_NOTICE_ID\n\t);\n\ttry {\n\t\tconst post = yield select(\n\t\t\tSTORE_KEY,\n\t\t\t'getCurrentPost'\n\t\t);\n\t\tyield apiFetch(\n\t\t\t{\n\t\t\t\tpath: `/wp/v2/${ postType.rest_base }/${ post.id }`,\n\t\t\t\tmethod: 'DELETE',\n\t\t\t}\n\t\t);\n\n\t\tyield dispatch(\n\t\t\tSTORE_KEY,\n\t\t\t'savePost'\n\t\t);\n\t} catch ( error ) {\n\t\tyield dispatch(\n\t\t\t'core/notices',\n\t\t\t'createErrorNotice',\n\t\t\t...getNotificationArgumentsForTrashFail( { error } ),\n\t\t);\n\t}\n}\n\n/**\n * Action generator used in signalling that the post should autosave.\n *\n * @param {Object?} options Extra flags to identify the autosave.\n */\nexport function* autosave( options ) {\n\tyield dispatch(\n\t\tSTORE_KEY,\n\t\t'savePost',\n\t\t{ isAutosave: true, ...options }\n\t);\n}\n\n/**\n * Returns an action object used in signalling that undo history should\n * restore last popped state.\n *\n * @yield {Object} Action object.\n */\nexport function* redo() {\n\tyield dispatch( 'core', 'redo' );\n}\n\n/**\n * Returns an action object used in signalling that undo history should pop.\n *\n * @yield {Object} Action object.\n */\nexport function* undo() {\n\tyield dispatch( 'core', 'undo' );\n}\n\n/**\n * Returns an action object used in signalling that undo history record should\n * be created.\n *\n * @return {Object} Action object.\n */\nexport function createUndoLevel() {\n\treturn { type: 'CREATE_UNDO_LEVEL' };\n}\n\n/**\n * Returns an action object used to lock the editor.\n *\n * @param {Object}  lock Details about the post lock status, user, and nonce.\n *\n * @return {Object} Action object.\n */\nexport function updatePostLock( lock ) {\n\treturn {\n\t\ttype: 'UPDATE_POST_LOCK',\n\t\tlock,\n\t};\n}\n\n/**\n * Returns an action object used to fetch a single reusable block or all\n * reusable blocks from the REST API into the store.\n *\n * @param {?string} id If given, only a single reusable block with this ID will\n *                     be fetched.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalFetchReusableBlocks( id ) {\n\treturn {\n\t\ttype: 'FETCH_REUSABLE_BLOCKS',\n\t\tid,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that reusable blocks have been\n * received. `results` is an array of objects containing:\n *  - `reusableBlock` - Details about how the reusable block is persisted.\n *  - `parsedBlock` - The original block.\n *\n * @param {Object[]} results Reusable blocks received.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalReceiveReusableBlocks( results ) {\n\treturn {\n\t\ttype: 'RECEIVE_REUSABLE_BLOCKS',\n\t\tresults,\n\t};\n}\n\n/**\n * Returns an action object used to save a reusable block that's in the store to\n * the REST API.\n *\n * @param {Object} id The ID of the reusable block to save.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalSaveReusableBlock( id ) {\n\treturn {\n\t\ttype: 'SAVE_REUSABLE_BLOCK',\n\t\tid,\n\t};\n}\n\n/**\n * Returns an action object used to delete a reusable block via the REST API.\n *\n * @param {number} id The ID of the reusable block to delete.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalDeleteReusableBlock( id ) {\n\treturn {\n\t\ttype: 'DELETE_REUSABLE_BLOCK',\n\t\tid,\n\t};\n}\n\n/**\n * Returns an action object used in signalling that a reusable block is\n * to be updated.\n *\n * @param {number} id      The ID of the reusable block to update.\n * @param {Object} changes The changes to apply.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalUpdateReusableBlock( id, changes ) {\n\treturn {\n\t\ttype: 'UPDATE_REUSABLE_BLOCK',\n\t\tid,\n\t\tchanges,\n\t};\n}\n\n/**\n * Returns an action object used to convert a reusable block into a static\n * block.\n *\n * @param {string} clientId The client ID of the block to attach.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalConvertBlockToStatic( clientId ) {\n\treturn {\n\t\ttype: 'CONVERT_BLOCK_TO_STATIC',\n\t\tclientId,\n\t};\n}\n\n/**\n * Returns an action object used to convert a static block into a reusable\n * block.\n *\n * @param {string} clientIds The client IDs of the block to detach.\n *\n * @return {Object} Action object.\n */\nexport function __experimentalConvertBlockToReusable( clientIds ) {\n\treturn {\n\t\ttype: 'CONVERT_BLOCK_TO_REUSABLE',\n\t\tclientIds: castArray( clientIds ),\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has enabled the\n * publish sidebar.\n *\n * @return {Object} Action object\n */\nexport function enablePublishSidebar() {\n\treturn {\n\t\ttype: 'ENABLE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used in signalling that the user has disabled the\n * publish sidebar.\n *\n * @return {Object} Action object\n */\nexport function disablePublishSidebar() {\n\treturn {\n\t\ttype: 'DISABLE_PUBLISH_SIDEBAR',\n\t};\n}\n\n/**\n * Returns an action object used to signal that post saving is locked.\n *\n * @param  {string} lockName The lock name.\n *\n * @example\n * ```\n * const { subscribe } = wp.data;\n *\n * const initialPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n *\n * // Only allow publishing posts that are set to a future date.\n * if ( 'publish' !== initialPostStatus ) {\n *\n * \t// Track locking.\n * \tlet locked = false;\n *\n * \t// Watch for the publish event.\n * \tlet unssubscribe = subscribe( () => {\n * \t\tconst currentPostStatus = wp.data.select( 'core/editor' ).getEditedPostAttribute( 'status' );\n * \t\tif ( 'publish' !== currentPostStatus ) {\n *\n * \t\t\t// Compare the post date to the current date, lock the post if the date isn't in the future.\n * \t\t\tconst postDate = new Date( wp.data.select( 'core/editor' ).getEditedPostAttribute( 'date' ) );\n * \t\t\tconst currentDate = new Date();\n * \t\t\tif ( postDate.getTime() <= currentDate.getTime() ) {\n * \t\t\t\tif ( ! locked ) {\n * \t\t\t\t\tlocked = true;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).lockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t} else {\n * \t\t\t\tif ( locked ) {\n * \t\t\t\t\tlocked = false;\n * \t\t\t\t\twp.data.dispatch( 'core/editor' ).unlockPostSaving( 'futurelock' );\n * \t\t\t\t}\n * \t\t\t}\n * \t\t}\n * \t} );\n * }\n * ```\n *\n * @return {Object} Action object\n */\nexport function lockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'LOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that post saving is unlocked.\n *\n * @param  {string} lockName The lock name.\n *\n * @example\n * ```\n * // Unlock post saving with the lock key `mylock`:\n * wp.data.dispatch( 'core/editor' ).unlockPostSaving( 'mylock' );\n * ```\n *\n * @return {Object} Action object\n */\nexport function unlockPostSaving( lockName ) {\n\treturn {\n\t\ttype: 'UNLOCK_POST_SAVING',\n\t\tlockName,\n\t};\n}\n\n/**\n * Returns an action object used to signal that the blocks have been updated.\n *\n * @param {Array}   blocks  Block Array.\n * @param {?Object} options Optional options.\n *\n * @yield {Object} Action object\n */\nexport function* resetEditorBlocks( blocks, options = {} ) {\n\tconst lastBlockAttributesChange = yield select( 'core/block-editor', '__experimentalGetLastBlockAttributeChanges' );\n\n\t// Sync to sources from block attributes updates.\n\tif ( lastBlockAttributesChange ) {\n\t\tconst updatedSources = new Set;\n\t\tconst updatedBlockTypes = new Set;\n\t\tfor ( const [ clientId, attributes ] of Object.entries( lastBlockAttributesChange ) ) {\n\t\t\tconst blockName = yield select( 'core/block-editor', 'getBlockName', clientId );\n\t\t\tif ( updatedBlockTypes.has( blockName ) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tupdatedBlockTypes.add( blockName );\n\t\t\tconst blockType = yield select( 'core/blocks', 'getBlockType', blockName );\n\n\t\t\tfor ( const [ attributeName, newAttributeValue ] of Object.entries( attributes ) ) {\n\t\t\t\tif ( ! blockType.attributes.hasOwnProperty( attributeName ) ) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst schema = blockType.attributes[ attributeName ];\n\t\t\t\tconst source = sources[ schema.source ];\n\n\t\t\t\tif ( source && source.update ) {\n\t\t\t\t\tyield* source.update( schema, newAttributeValue );\n\t\t\t\t\tupdatedSources.add( source );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Dependencies are reset so that source dependencies subscription\n\t\t// skips a reset which would otherwise occur by dependencies change.\n\t\t// This assures that at most one reset occurs per block change.\n\t\tyield* resetLastBlockSourceDependencies( Array.from( updatedSources ) );\n\t}\n\n\tconst edits = { blocks: yield* getBlocksWithSourcedAttributes( blocks ) };\n\n\tif ( options.__unstableShouldCreateUndoLevel !== false ) {\n\t\t// We create a new function here on every persistent edit\n\t\t// to make sure the edit makes the post dirty and creates\n\t\t// a new undo level.\n\t\tedits.content = ( { blocks: blocksForSerialization = [] } ) =>\n\t\t\tserializeBlocks( blocksForSerialization );\n\t}\n\n\tyield* editPost( edits );\n}\n\n/*\n * Returns an action object used in signalling that the post editor settings have been updated.\n *\n * @param {Object} settings Updated settings\n *\n * @return {Object} Action object\n */\nexport function updateEditorSettings( settings ) {\n\treturn {\n\t\ttype: 'UPDATE_EDITOR_SETTINGS',\n\t\tsettings,\n\t};\n}\n\n/**\n * Backward compatibility\n */\n\nconst getBlockEditorAction = ( name ) => function* ( ...args ) {\n\tdeprecated( '`wp.data.dispatch( \\'core/editor\\' ).' + name + '`', {\n\t\talternative: '`wp.data.dispatch( \\'core/block-editor\\' ).' + name + '`',\n\t} );\n\tyield dispatch( 'core/block-editor', name, ...args );\n};\n\n/**\n * @see resetBlocks in core/block-editor store.\n */\nexport const resetBlocks = getBlockEditorAction( 'resetBlocks' );\n\n/**\n * @see receiveBlocks in core/block-editor store.\n */\nexport const receiveBlocks = getBlockEditorAction( 'receiveBlocks' );\n\n/**\n * @see updateBlock in core/block-editor store.\n */\nexport const updateBlock = getBlockEditorAction( 'updateBlock' );\n\n/**\n * @see updateBlockAttributes in core/block-editor store.\n */\nexport const updateBlockAttributes = getBlockEditorAction( 'updateBlockAttributes' );\n\n/**\n * @see selectBlock in core/block-editor store.\n */\nexport const selectBlock = getBlockEditorAction( 'selectBlock' );\n\n/**\n * @see startMultiSelect in core/block-editor store.\n */\nexport const startMultiSelect = getBlockEditorAction( 'startMultiSelect' );\n\n/**\n * @see stopMultiSelect in core/block-editor store.\n */\nexport const stopMultiSelect = getBlockEditorAction( 'stopMultiSelect' );\n\n/**\n * @see multiSelect in core/block-editor store.\n */\nexport const multiSelect = getBlockEditorAction( 'multiSelect' );\n\n/**\n * @see clearSelectedBlock in core/block-editor store.\n */\nexport const clearSelectedBlock = getBlockEditorAction( 'clearSelectedBlock' );\n\n/**\n * @see toggleSelection in core/block-editor store.\n */\nexport const toggleSelection = getBlockEditorAction( 'toggleSelection' );\n\n/**\n * @see replaceBlocks in core/block-editor store.\n */\nexport const replaceBlocks = getBlockEditorAction( 'replaceBlocks' );\n\n/**\n * @see replaceBlock in core/block-editor store.\n */\nexport const replaceBlock = getBlockEditorAction( 'replaceBlock' );\n\n/**\n * @see moveBlocksDown in core/block-editor store.\n */\nexport const moveBlocksDown = getBlockEditorAction( 'moveBlocksDown' );\n\n/**\n * @see moveBlocksUp in core/block-editor store.\n */\nexport const moveBlocksUp = getBlockEditorAction( 'moveBlocksUp' );\n\n/**\n * @see moveBlockToPosition in core/block-editor store.\n */\nexport const moveBlockToPosition = getBlockEditorAction( 'moveBlockToPosition' );\n\n/**\n * @see insertBlock in core/block-editor store.\n */\nexport const insertBlock = getBlockEditorAction( 'insertBlock' );\n\n/**\n * @see insertBlocks in core/block-editor store.\n */\nexport const insertBlocks = getBlockEditorAction( 'insertBlocks' );\n\n/**\n * @see showInsertionPoint in core/block-editor store.\n */\nexport const showInsertionPoint = getBlockEditorAction( 'showInsertionPoint' );\n\n/**\n * @see hideInsertionPoint in core/block-editor store.\n */\nexport const hideInsertionPoint = getBlockEditorAction( 'hideInsertionPoint' );\n\n/**\n * @see setTemplateValidity in core/block-editor store.\n */\nexport const setTemplateValidity = getBlockEditorAction( 'setTemplateValidity' );\n\n/**\n * @see synchronizeTemplate in core/block-editor store.\n */\nexport const synchronizeTemplate = getBlockEditorAction( 'synchronizeTemplate' );\n\n/**\n * @see mergeBlocks in core/block-editor store.\n */\nexport const mergeBlocks = getBlockEditorAction( 'mergeBlocks' );\n\n/**\n * @see removeBlocks in core/block-editor store.\n */\nexport const removeBlocks = getBlockEditorAction( 'removeBlocks' );\n\n/**\n * @see removeBlock in core/block-editor store.\n */\nexport const removeBlock = getBlockEditorAction( 'removeBlock' );\n\n/**\n * @see toggleBlockMode in core/block-editor store.\n */\nexport const toggleBlockMode = getBlockEditorAction( 'toggleBlockMode' );\n\n/**\n * @see startTyping in core/block-editor store.\n */\nexport const startTyping = getBlockEditorAction( 'startTyping' );\n\n/**\n * @see stopTyping in core/block-editor store.\n */\nexport const stopTyping = getBlockEditorAction( 'stopTyping' );\n\n/**\n * @see enterFormattedText in core/block-editor store.\n */\nexport const enterFormattedText = getBlockEditorAction( 'enterFormattedText' );\n\n/**\n * @see exitFormattedText in core/block-editor store.\n */\nexport const exitFormattedText = getBlockEditorAction( 'exitFormattedText' );\n\n/**\n * @see insertDefaultBlock in core/block-editor store.\n */\nexport const insertDefaultBlock = getBlockEditorAction( 'insertDefaultBlock' );\n\n/**\n * @see updateBlockListSettings in core/block-editor store.\n */\nexport const updateBlockListSettings = getBlockEditorAction( 'updateBlockListSettings' );\n","/**\n * Internal dependencies\n */\nimport * as meta from './meta';\n\nexport { meta };\n","/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport { editPost } from '../actions';\n\n/**\n * Store control invoked upon a state change, responsible for returning an\n * object of dependencies. When a change in dependencies occurs (by shallow\n * equality of the returned object), blocks are reset to apply the new sourced\n * value.\n *\n * @yield {Object} Optional yielded controls.\n *\n * @return {Object} Dependencies as object.\n */\nexport function* getDependencies() {\n\treturn {\n\t\tmeta: yield select( 'core/editor', 'getEditedPostAttribute', 'meta' ),\n\t};\n}\n\n/**\n * Given an attribute schema and dependencies data, returns a source value.\n *\n * @param {Object} schema            Block type attribute schema.\n * @param {Object} dependencies      Source dependencies.\n * @param {Object} dependencies.meta Post meta.\n *\n * @return {Object} Block attribute value.\n */\nexport function apply( schema, { meta } ) {\n\treturn meta[ schema.meta ];\n}\n\n/**\n * Store control invoked upon a block attributes update, responsible for\n * reflecting an update in a meta value.\n *\n * @param {Object} schema Block type attribute schema.\n * @param {*}      value  Updated block attribute value.\n *\n * @yield {Object} Yielded action objects or store controls.\n */\nexport function* update( schema, value ) {\n\tyield editPost( {\n\t\tmeta: {\n\t\t\t[ schema.meta ]: value,\n\t\t},\n\t} );\n}\n","/**\n * Set of post properties for which edits should assume a merging behavior,\n * assuming an object value.\n *\n * @type {Set}\n */\nexport const EDIT_MERGE_PROPERTIES = new Set( [\n\t'meta',\n] );\n\n/**\n * Constant for the store module (or reducer) key.\n *\n * @type {string}\n */\nexport const STORE_KEY = 'core/editor';\n\nexport const POST_UPDATE_TRANSACTION_ID = 'post-update';\nexport const SAVE_POST_NOTICE_ID = 'SAVE_POST_NOTICE_ID';\nexport const TRASH_POST_NOTICE_ID = 'TRASH_POST_NOTICE_ID';\nexport const PERMALINK_POSTNAME_REGEX = /%(?:postname|pagename)%/;\nexport const ONE_MINUTE_IN_MS = 60 * 1000;\nexport const AUTOSAVE_PROPERTIES = [ 'title', 'excerpt', 'content' ];\n","/**\n * WordPress dependencies\n */\nimport { createRegistryControl } from '@wordpress/data';\n\n/**\n * Returns a control descriptor signalling to subscribe to the registry and\n * resolve the control promise only when the next state change occurs.\n *\n * @return {Object} Control descriptor.\n */\nexport function awaitNextStateChange() {\n\treturn { type: 'AWAIT_NEXT_STATE_CHANGE' };\n}\n\n/**\n * Returns a control descriptor signalling to resolve with the current data\n * registry.\n *\n * @return {Object} Control descriptor.\n */\nexport function getRegistry() {\n\treturn { type: 'GET_REGISTRY' };\n}\n\nconst controls = {\n\tAWAIT_NEXT_STATE_CHANGE: createRegistryControl(\n\t\t( registry ) => () => new Promise( ( resolve ) => {\n\t\t\tconst unsubscribe = registry.subscribe( () => {\n\t\t\t\tunsubscribe();\n\t\t\t\tresolve();\n\t\t\t} );\n\t\t} )\n\t),\n\tGET_REGISTRY: createRegistryControl( ( registry ) => () => registry ),\n};\n\nexport default controls;\n","/**\n * WordPress dependencies\n */\nimport { SETTINGS_DEFAULTS } from '@wordpress/block-editor';\n\nexport const PREFERENCES_DEFAULTS = {\n\tinsertUsage: {}, // Should be kept for backward compatibility, see: https://github.com/WordPress/gutenberg/issues/14580.\n\tisPublishSidebarEnabled: true,\n};\n\n/**\n * The default post editor settings\n *\n *  allowedBlockTypes  boolean|Array Allowed block types\n *  richEditingEnabled boolean       Whether rich editing is enabled or not\n *  codeEditingEnabled boolean       Whether code editing is enabled or not\n *  enableCustomFields boolean       Whether the WordPress custom fields are enabled or not\n *  autosaveInterval   number        Autosave Interval\n *  availableTemplates array?        The available post templates\n *  disablePostFormats boolean       Whether or not the post formats are disabled\n *  allowedMimeTypes   array?        List of allowed mime types and file extensions\n *  maxUploadFileSize  number        Maximum upload file size\n */\nexport const EDITOR_SETTINGS_DEFAULTS = {\n\t...SETTINGS_DEFAULTS,\n\n\trichEditingEnabled: true,\n\tcodeEditingEnabled: true,\n\tenableCustomFields: false,\n};\n\n","/**\n * Internal dependencies\n */\nimport {\n\tfetchReusableBlocks,\n\tsaveReusableBlocks,\n\tdeleteReusableBlocks,\n\tconvertBlockToReusable,\n\tconvertBlockToStatic,\n} from './effects/reusable-blocks';\n\nexport default {\n\tFETCH_REUSABLE_BLOCKS: ( action, store ) => {\n\t\tfetchReusableBlocks( action, store );\n\t},\n\tSAVE_REUSABLE_BLOCK: ( action, store ) => {\n\t\tsaveReusableBlocks( action, store );\n\t},\n\tDELETE_REUSABLE_BLOCK: ( action, store ) => {\n\t\tdeleteReusableBlocks( action, store );\n\t},\n\tCONVERT_BLOCK_TO_STATIC: convertBlockToStatic,\n\tCONVERT_BLOCK_TO_REUSABLE: convertBlockToReusable,\n};\n","/**\n * External dependencies\n */\nimport { compact, map, uniqueId } from 'lodash';\nimport { BEGIN, COMMIT, REVERT } from 'redux-optimist';\n\n/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport {\n\tparse,\n\tserialize,\n\tcreateBlock,\n\tisReusableBlock,\n} from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n// TODO: Ideally this would be the only dispatch in scope. This requires either\n// refactoring editor actions to yielded controls, or replacing direct dispatch\n// on the editor store with action creators (e.g. `REMOVE_REUSABLE_BLOCK`).\nimport { dispatch as dataDispatch, select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\t__experimentalReceiveReusableBlocks as receiveReusableBlocksAction,\n\t__experimentalSaveReusableBlock as saveReusableBlock,\n} from '../actions';\nimport {\n\t__experimentalGetReusableBlock as getReusableBlock,\n} from '../selectors';\n\n/**\n * Module Constants\n */\nconst REUSABLE_BLOCK_NOTICE_ID = 'REUSABLE_BLOCK_NOTICE_ID';\n\n/**\n * Fetch Reusable Blocks Effect Handler.\n *\n * @param {Object} action  action object.\n * @param {Object} store   Redux Store.\n */\nexport const fetchReusableBlocks = async ( action, store ) => {\n\tconst { id } = action;\n\tconst { dispatch } = store;\n\n\t// TODO: these are potentially undefined, this fix is in place\n\t// until there is a filter to not use reusable blocks if undefined\n\tconst postType = await apiFetch( { path: '/wp/v2/types/wp_block' } );\n\tif ( ! postType ) {\n\t\treturn;\n\t}\n\n\ttry {\n\t\tlet posts;\n\n\t\tif ( id ) {\n\t\t\tposts = [ await apiFetch( { path: `/wp/v2/${ postType.rest_base }/${ id }` } ) ];\n\t\t} else {\n\t\t\tposts = await apiFetch( { path: `/wp/v2/${ postType.rest_base }?per_page=-1` } );\n\t\t}\n\n\t\tconst results = compact( map( posts, ( post ) => {\n\t\t\tif ( post.status !== 'publish' || post.content.protected ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\t...post,\n\t\t\t\tcontent: post.content.raw,\n\t\t\t\ttitle: post.title.raw,\n\t\t\t};\n\t\t} ) );\n\n\t\tif ( results.length ) {\n\t\t\tdispatch( receiveReusableBlocksAction( results ) );\n\t\t}\n\n\t\tdispatch( {\n\t\t\ttype: 'FETCH_REUSABLE_BLOCKS_SUCCESS',\n\t\t\tid,\n\t\t} );\n\t} catch ( error ) {\n\t\tdispatch( {\n\t\t\ttype: 'FETCH_REUSABLE_BLOCKS_FAILURE',\n\t\t\tid,\n\t\t\terror,\n\t\t} );\n\t}\n};\n\n/**\n * Save Reusable Blocks Effect Handler.\n *\n * @param {Object} action  action object.\n * @param {Object} store   Redux Store.\n */\nexport const saveReusableBlocks = async ( action, store ) => {\n\t// TODO: these are potentially undefined, this fix is in place\n\t// until there is a filter to not use reusable blocks if undefined\n\tconst postType = await apiFetch( { path: '/wp/v2/types/wp_block' } );\n\tif ( ! postType ) {\n\t\treturn;\n\t}\n\n\tconst { id } = action;\n\tconst { dispatch } = store;\n\tconst state = store.getState();\n\tconst { title, content, isTemporary } = getReusableBlock( state, id );\n\n\tconst data = isTemporary ? { title, content, status: 'publish' } : { id, title, content, status: 'publish' };\n\tconst path = isTemporary ? `/wp/v2/${ postType.rest_base }` : `/wp/v2/${ postType.rest_base }/${ id }`;\n\tconst method = isTemporary ? 'POST' : 'PUT';\n\n\ttry {\n\t\tconst updatedReusableBlock = await apiFetch( { path, data, method } );\n\t\tdispatch( {\n\t\t\ttype: 'SAVE_REUSABLE_BLOCK_SUCCESS',\n\t\t\tupdatedId: updatedReusableBlock.id,\n\t\t\tid,\n\t\t} );\n\t\tconst message = isTemporary ? __( 'Block created.' ) : __( 'Block updated.' );\n\t\tdataDispatch( 'core/notices' ).createSuccessNotice( message, {\n\t\t\tid: REUSABLE_BLOCK_NOTICE_ID,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\n\t\tdataDispatch( 'core/block-editor' ).__unstableSaveReusableBlock( id, updatedReusableBlock.id );\n\t} catch ( error ) {\n\t\tdispatch( { type: 'SAVE_REUSABLE_BLOCK_FAILURE', id } );\n\t\tdataDispatch( 'core/notices' ).createErrorNotice( error.message, {\n\t\t\tid: REUSABLE_BLOCK_NOTICE_ID,\n\t\t} );\n\t}\n};\n\n/**\n * Delete Reusable Blocks Effect Handler.\n *\n * @param {Object} action  action object.\n * @param {Object} store   Redux Store.\n */\nexport const deleteReusableBlocks = async ( action, store ) => {\n\t// TODO: these are potentially undefined, this fix is in place\n\t// until there is a filter to not use reusable blocks if undefined\n\tconst postType = await apiFetch( { path: '/wp/v2/types/wp_block' } );\n\tif ( ! postType ) {\n\t\treturn;\n\t}\n\n\tconst { id } = action;\n\tconst { getState, dispatch } = store;\n\n\t// Don't allow a reusable block with a temporary ID to be deleted\n\tconst reusableBlock = getReusableBlock( getState(), id );\n\tif ( ! reusableBlock || reusableBlock.isTemporary ) {\n\t\treturn;\n\t}\n\t// Remove any other blocks that reference this reusable block\n\tconst allBlocks = select( 'core/block-editor' ).getBlocks();\n\tconst associatedBlocks = allBlocks.filter( ( block ) => isReusableBlock( block ) && block.attributes.ref === id );\n\tconst associatedBlockClientIds = associatedBlocks.map( ( block ) => block.clientId );\n\n\tconst transactionId = uniqueId();\n\n\tdispatch( {\n\t\ttype: 'REMOVE_REUSABLE_BLOCK',\n\t\tid,\n\t\toptimist: { type: BEGIN, id: transactionId },\n\t} );\n\n\t// Remove the parsed block.\n\tif ( associatedBlockClientIds.length ) {\n\t\tdataDispatch( 'core/block-editor' ).removeBlocks( associatedBlockClientIds );\n\t}\n\n\ttry {\n\t\tawait apiFetch( {\n\t\t\tpath: `/wp/v2/${ postType.rest_base }/${ id }`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\t\tdispatch( {\n\t\t\ttype: 'DELETE_REUSABLE_BLOCK_SUCCESS',\n\t\t\tid,\n\t\t\toptimist: { type: COMMIT, id: transactionId },\n\t\t} );\n\t\tconst message = __( 'Block deleted.' );\n\t\tdataDispatch( 'core/notices' ).createSuccessNotice( message, {\n\t\t\tid: REUSABLE_BLOCK_NOTICE_ID,\n\t\t\ttype: 'snackbar',\n\t\t} );\n\t} catch ( error ) {\n\t\tdispatch( {\n\t\t\ttype: 'DELETE_REUSABLE_BLOCK_FAILURE',\n\t\t\tid,\n\t\t\toptimist: { type: REVERT, id: transactionId },\n\t\t} );\n\t\tdataDispatch( 'core/notices' ).createErrorNotice( error.message, {\n\t\t\tid: REUSABLE_BLOCK_NOTICE_ID,\n\t\t} );\n\t}\n};\n\n/**\n * Convert a reusable block to a static block effect handler\n *\n * @param {Object} action  action object.\n * @param {Object} store   Redux Store.\n */\nexport const convertBlockToStatic = ( action, store ) => {\n\tconst state = store.getState();\n\tconst oldBlock = select( 'core/block-editor' ).getBlock( action.clientId );\n\tconst reusableBlock = getReusableBlock( state, oldBlock.attributes.ref );\n\tconst newBlocks = parse( reusableBlock.content );\n\tdataDispatch( 'core/block-editor' ).replaceBlocks( oldBlock.clientId, newBlocks );\n};\n\n/**\n * Convert a static block to a reusable block effect handler\n *\n * @param {Object} action  action object.\n * @param {Object} store   Redux Store.\n */\nexport const convertBlockToReusable = ( action, store ) => {\n\tconst { dispatch } = store;\n\tconst reusableBlock = {\n\t\tid: uniqueId( 'reusable' ),\n\t\ttitle: __( 'Untitled Reusable Block' ),\n\t\tcontent: serialize( select( 'core/block-editor' ).getBlocksByClientId( action.clientIds ) ),\n\t};\n\n\tdispatch( receiveReusableBlocksAction( [\n\t\treusableBlock,\n\t] ) );\n\tdispatch( saveReusableBlock( reusableBlock.id ) );\n\n\tdataDispatch( 'core/block-editor' ).replaceBlocks(\n\t\taction.clientIds,\n\t\tcreateBlock( 'core/block', {\n\t\t\tref: reusableBlock.id,\n\t\t} )\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { registerStore } from '@wordpress/data';\nimport { controls as dataControls } from '@wordpress/data-controls';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport applyMiddlewares from './middlewares';\nimport * as selectors from './selectors';\nimport * as actions from './actions';\nimport controls from './controls';\nimport { STORE_KEY } from './constants';\n\n/**\n * Post editor data store configuration.\n *\n * @see https://github.com/WordPress/gutenberg/blob/master/packages/data/README.md#registerStore\n *\n * @type {Object}\n */\nexport const storeConfig = {\n\treducer,\n\tselectors,\n\tactions,\n\tcontrols: {\n\t\t...dataControls,\n\t\t...controls,\n\t},\n};\n\nconst store = registerStore( STORE_KEY, {\n\t...storeConfig,\n\tpersist: [ 'preferences' ],\n} );\napplyMiddlewares( store );\n\nexport default store;\n","/**\n * External dependencies\n */\nimport refx from 'refx';\n\n/**\n * Internal dependencies\n */\nimport effects from './effects';\n\n/**\n * Applies the custom middlewares used specifically in the editor module.\n *\n * @param {Object} store Store Object.\n *\n * @return {Object} Update Store Object.\n */\nfunction applyMiddlewares( store ) {\n\tlet enhancedDispatch = () => {\n\t\tthrow new Error(\n\t\t\t'Dispatching while constructing your middleware is not allowed. ' +\n\t\t\t'Other middleware would not be applied to this dispatch.'\n\t\t);\n\t};\n\n\tconst middlewareAPI = {\n\t\tgetState: store.getState,\n\t\tdispatch: ( ...args ) => enhancedDispatch( ...args ),\n\t};\n\n\tenhancedDispatch = refx( effects )( middlewareAPI )( store.dispatch );\n\n\tstore.dispatch = enhancedDispatch;\n\treturn store;\n}\n\nexport default applyMiddlewares;\n","/**\n * External dependencies\n */\nimport optimist from 'redux-optimist';\nimport {\n\tomit,\n\tkeys,\n\tisEqual,\n\tkeyBy,\n} from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS, EDITOR_SETTINGS_DEFAULTS } from './defaults';\n\n/**\n * Returns a post attribute value, flattening nested rendered content using its\n * raw value in place of its original object form.\n *\n * @param {*} value Original value.\n *\n * @return {*} Raw value.\n */\nexport function getPostRawValue( value ) {\n\tif ( value && 'object' === typeof value && 'raw' in value ) {\n\t\treturn value.raw;\n\t}\n\n\treturn value;\n}\n\n/**\n * Returns true if the two object arguments have the same keys, or false\n * otherwise.\n *\n * @param {Object} a First object.\n * @param {Object} b Second object.\n *\n * @return {boolean} Whether the two objects have the same keys.\n */\nexport function hasSameKeys( a, b ) {\n\treturn isEqual( keys( a ), keys( b ) );\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are editing the same post property, or\n * false otherwise.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether actions are updating the same post property.\n */\nexport function isUpdatingSamePostProperty( action, previousAction ) {\n\treturn (\n\t\taction.type === 'EDIT_POST' &&\n\t\thasSameKeys( action.edits, previousAction.edits )\n\t);\n}\n\n/**\n * Returns true if, given the currently dispatching action and the previously\n * dispatched action, the two actions are modifying the same property such that\n * undo history should be batched.\n *\n * @param {Object} action         Currently dispatching action.\n * @param {Object} previousAction Previously dispatched action.\n *\n * @return {boolean} Whether to overwrite present state.\n */\nexport function shouldOverwriteState( action, previousAction ) {\n\tif ( action.type === 'RESET_EDITOR_BLOCKS' ) {\n\t\treturn ! action.shouldCreateUndoLevel;\n\t}\n\n\tif ( ! previousAction || action.type !== previousAction.type ) {\n\t\treturn false;\n\t}\n\n\treturn isUpdatingSamePostProperty( action, previousAction );\n}\n\nexport function postId( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SETUP_EDITOR_STATE':\n\t\tcase 'RESET_POST':\n\t\tcase 'UPDATE_POST':\n\t\t\treturn action.post.id;\n\t}\n\n\treturn state;\n}\n\nexport function postType( state = null, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SETUP_EDITOR_STATE':\n\t\tcase 'RESET_POST':\n\t\tcase 'UPDATE_POST':\n\t\t\treturn action.post.type;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning whether the post blocks match the defined template or not.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {boolean} Updated state.\n */\nexport function template( state = { isValid: true }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TEMPLATE_VALIDITY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisValid: action.isValid,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the user preferences.\n *\n * @param {Object}  state                 Current state.\n * @param {Object}  action                Dispatched action.\n *\n * @return {string} Updated state.\n */\nexport function preferences( state = PREFERENCES_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'ENABLE_PUBLISH_SIDEBAR':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPublishSidebarEnabled: true,\n\t\t\t};\n\n\t\tcase 'DISABLE_PUBLISH_SIDEBAR':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPublishSidebarEnabled: false,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning current network request state (whether a request to\n * the WP REST API is in progress, successful, or failed).\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function saving( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'REQUEST_POST_UPDATE_START':\n\t\tcase 'REQUEST_POST_UPDATE_FINISH':\n\t\t\treturn {\n\t\t\t\tpending: action.type === 'REQUEST_POST_UPDATE_START',\n\t\t\t\toptions: action.options || {},\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\n/**\n * Post Lock State.\n *\n * @typedef {Object} PostLockState\n *\n * @property {boolean} isLocked       Whether the post is locked.\n * @property {?boolean} isTakeover     Whether the post editing has been taken over.\n * @property {?boolean} activePostLock Active post lock value.\n * @property {?Object}  user           User that took over the post.\n */\n\n/**\n * Reducer returning the post lock status.\n *\n * @param {PostLockState} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postLock( state = { isLocked: false }, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_POST_LOCK':\n\t\t\treturn action.lock;\n\t}\n\n\treturn state;\n}\n\n/**\n * Post saving lock.\n *\n * When post saving is locked, the post cannot be published or updated.\n *\n * @param {PostSavingLockState} state  Current state.\n * @param {Object}              action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postSavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_SAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_SAVING':\n\t\t\treturn omit( state, action.lockName );\n\t}\n\treturn state;\n}\n\n/**\n * Post autosaving lock.\n *\n * When post autosaving is locked, the post will not autosave.\n *\n * @param {PostAutosavingLockState} state  Current state.\n * @param {Object}                  action Dispatched action.\n *\n * @return {PostLockState} Updated state.\n */\nexport function postAutosavingLock( state = {}, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'LOCK_POST_AUTOSAVING':\n\t\t\treturn { ...state, [ action.lockName ]: true };\n\n\t\tcase 'UNLOCK_POST_AUTOSAVING':\n\t\t\treturn omit( state, action.lockName );\n\t}\n\treturn state;\n}\n\nexport const reusableBlocks = combineReducers( {\n\tdata( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'RECEIVE_REUSABLE_BLOCKS': {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t...keyBy( action.results, 'id' ),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'UPDATE_REUSABLE_BLOCK': {\n\t\t\t\tconst { id, changes } = action;\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ id ]: {\n\t\t\t\t\t\t...state[ id ],\n\t\t\t\t\t\t...changes,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'SAVE_REUSABLE_BLOCK_SUCCESS': {\n\t\t\t\tconst { id, updatedId } = action;\n\n\t\t\t\t// If a temporary reusable block is saved, we swap the temporary id with the final one\n\t\t\t\tif ( id === updatedId ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\tconst value = state[ id ];\n\t\t\t\treturn {\n\t\t\t\t\t...omit( state, id ),\n\t\t\t\t\t[ updatedId ]: {\n\t\t\t\t\t\t...value,\n\t\t\t\t\t\tid: updatedId,\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'REMOVE_REUSABLE_BLOCK': {\n\t\t\t\tconst { id } = action;\n\t\t\t\treturn omit( state, id );\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t},\n\n\tisFetching( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'FETCH_REUSABLE_BLOCKS': {\n\t\t\t\tconst { id } = action;\n\t\t\t\tif ( ! id ) {\n\t\t\t\t\treturn state;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ id ]: true,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tcase 'FETCH_REUSABLE_BLOCKS_SUCCESS':\n\t\t\tcase 'FETCH_REUSABLE_BLOCKS_FAILURE': {\n\t\t\t\tconst { id } = action;\n\t\t\t\treturn omit( state, id );\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t},\n\n\tisSaving( state = {}, action ) {\n\t\tswitch ( action.type ) {\n\t\t\tcase 'SAVE_REUSABLE_BLOCK':\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t[ action.id ]: true,\n\t\t\t\t};\n\n\t\t\tcase 'SAVE_REUSABLE_BLOCK_SUCCESS':\n\t\t\tcase 'SAVE_REUSABLE_BLOCK_FAILURE': {\n\t\t\t\tconst { id } = action;\n\t\t\t\treturn omit( state, id );\n\t\t\t}\n\t\t}\n\n\t\treturn state;\n\t},\n} );\n\n/**\n * Reducer returning whether the editor is ready to be rendered.\n * The editor is considered ready to be rendered once\n * the post object is loaded properly and the initial blocks parsed.\n *\n * @param {boolean} state\n * @param {Object} action\n *\n * @return {boolean} Updated state.\n */\nexport function isReady( state = false, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'SETUP_EDITOR_STATE':\n\t\t\treturn true;\n\n\t\tcase 'TEAR_DOWN_EDITOR':\n\t\t\treturn false;\n\t}\n\n\treturn state;\n}\n\n/**\n * Reducer returning the post editor setting.\n *\n * @param {Object} state  Current state.\n * @param {Object} action Dispatched action.\n *\n * @return {Object} Updated state.\n */\nexport function editorSettings( state = EDITOR_SETTINGS_DEFAULTS, action ) {\n\tswitch ( action.type ) {\n\t\tcase 'UPDATE_EDITOR_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.settings,\n\t\t\t};\n\t}\n\n\treturn state;\n}\n\nexport default optimist( combineReducers( {\n\tpostId,\n\tpostType,\n\tpreferences,\n\tsaving,\n\tpostLock,\n\treusableBlocks,\n\ttemplate,\n\tpostSavingLock,\n\tisReady,\n\teditorSettings,\n\tpostAutosavingLock,\n} ) );\n","/**\n * External dependencies\n */\nimport {\n\tfind,\n\tget,\n\thas,\n\tmap,\n\tpick,\n\tmapValues,\n\tincludes,\n} from 'lodash';\nimport createSelector from 'rememo';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tgetFreeformContentHandlerName,\n\tgetDefaultBlockName,\n\tisUnmodifiedDefaultBlock,\n} from '@wordpress/blocks';\nimport { isInTheFuture, getDate } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\nimport { createRegistrySelector } from '@wordpress/data';\nimport deprecated from '@wordpress/deprecated';\n\n/**\n * Internal dependencies\n */\nimport { PREFERENCES_DEFAULTS } from './defaults';\nimport {\n\tEDIT_MERGE_PROPERTIES,\n\tPOST_UPDATE_TRANSACTION_ID,\n\tPERMALINK_POSTNAME_REGEX,\n\tONE_MINUTE_IN_MS,\n\tAUTOSAVE_PROPERTIES,\n} from './constants';\nimport { getPostRawValue } from './reducer';\nimport serializeBlocks from './utils/serialize-blocks';\n\n/**\n * Shared reference to an empty object for cases where it is important to avoid\n * returning a new object reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n */\nconst EMPTY_OBJECT = {};\n\n/**\n * Shared reference to an empty array for cases where it is important to avoid\n * returning a new array reference on every invocation, as in a connected or\n * other pure component which performs `shouldComponentUpdate` check on props.\n * This should be used as a last resort, since the normalized data should be\n * maintained by the reducer result in state.\n */\nconst EMPTY_ARRAY = [];\n\n/**\n * Returns true if any past editor history snapshots exist, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether undo history exists.\n */\nexport const hasEditorUndo = createRegistrySelector( ( select ) => () => {\n\treturn select( 'core' ).hasUndo();\n} );\n\n/**\n * Returns true if any future editor history snapshots exist, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether redo history exists.\n */\nexport const hasEditorRedo = createRegistrySelector( ( select ) => () => {\n\treturn select( 'core' ).hasRedo();\n} );\n\n/**\n * Returns true if the currently edited post is yet to be saved, or false if\n * the post has been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is new.\n */\nexport function isEditedPostNew( state ) {\n\treturn getCurrentPost( state ).status === 'auto-draft';\n}\n\n/**\n * Returns true if content includes unsaved changes, or false otherwise.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether content includes unsaved changes.\n */\nexport function hasChangedContent( state ) {\n\tconst edits = getPostEdits( state );\n\n\treturn (\n\t\t'blocks' in edits ||\n\n\t\t// `edits` is intended to contain only values which are different from\n\t\t// the saved post, so the mere presence of a property is an indicator\n\t\t// that the value is different than what is known to be saved. While\n\t\t// content in Visual mode is represented by the blocks state, in Text\n\t\t// mode it is tracked by `edits.content`.\n\t\t'content' in edits\n\t);\n}\n\n/**\n * Returns true if there are unsaved values for the current edit session, or\n * false if the editing state matches the saved or new post.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether unsaved values exist.\n */\nexport const isEditedPostDirty = createRegistrySelector( ( select ) => ( state ) => {\n\t// Edits should contain only fields which differ from the saved post (reset\n\t// at initial load and save complete). Thus, a non-empty edits state can be\n\t// inferred to contain unsaved values.\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\tif ( select( 'core' ).hasEditsForEntityRecord( 'postType', postType, postId ) ) {\n\t\treturn true;\n\t}\n\treturn false;\n} );\n\n/**\n * Returns true if there are no unsaved values for the current edit session and\n * if the currently edited post is new (has never been saved before).\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether new post and unsaved values exist.\n */\nexport function isCleanNewPost( state ) {\n\treturn ! isEditedPostDirty( state ) && isEditedPostNew( state );\n}\n\n/**\n * Returns the post currently being edited in its last known saved state, not\n * including unsaved edits. Returns an object containing relevant default post\n * values if the post has not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Post object.\n */\nexport const getCurrentPost = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postId = getCurrentPostId( state );\n\tconst postType = getCurrentPostType( state );\n\n\tconst post = select( 'core' ).getRawEntityRecord( 'postType', postType, postId );\n\tif ( post ) {\n\t\treturn post;\n\t}\n\n\t// This exists for compatibility with the previous selector behavior\n\t// which would guarantee an object return based on the editor reducer's\n\t// default empty object state.\n\treturn EMPTY_OBJECT;\n} );\n\n/**\n * Returns the post type of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post type.\n */\nexport function getCurrentPostType( state ) {\n\treturn state.postType;\n}\n\n/**\n * Returns the ID of the post currently being edited, or null if the post has\n * not yet been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of current post.\n */\nexport function getCurrentPostId( state ) {\n\treturn state.postId;\n}\n\n/**\n * Returns the number of revisions of the post currently being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {number} Number of revisions.\n */\nexport function getCurrentPostRevisionsCount( state ) {\n\treturn get( getCurrentPost( state ), [ '_links', 'version-history', 0, 'count' ], 0 );\n}\n\n/**\n * Returns the last revision ID of the post currently being edited,\n * or null if the post has no revisions.\n *\n * @param {Object} state Global application state.\n *\n * @return {?number} ID of the last revision.\n */\nexport function getCurrentPostLastRevisionId( state ) {\n\treturn get( getCurrentPost( state ), [ '_links', 'predecessor-version', 0, 'id' ], null );\n}\n\n/**\n * Returns any post values which have been changed in the editor but not yet\n * been saved.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} Object of key value pairs comprising unsaved edits.\n */\nexport const getPostEdits = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\treturn select( 'core' ).getEntityRecordEdits( 'postType', postType, postId ) || EMPTY_OBJECT;\n} );\n\n/**\n * Returns a new reference when edited values have changed. This is useful in\n * inferring where an edit has been made between states by comparison of the\n * return values using strict equality.\n *\n * @deprecated since Gutenberg 6.5.0.\n *\n * @example\n *\n * ```\n * const hasEditOccurred = (\n *    getReferenceByDistinctEdits( beforeState ) !==\n *    getReferenceByDistinctEdits( afterState )\n * );\n * ```\n *\n * @param {Object} state Editor state.\n *\n * @return {*} A value whose reference will change only when an edit occurs.\n */\nexport const getReferenceByDistinctEdits = createRegistrySelector(\n\t( select ) => ( /* state */ ) => {\n\t\tdeprecated( '`wp.data.select( \\'core/editor\\' ).getReferenceByDistinctEdits`', {\n\t\t\talternative: '`wp.data.select( \\'core\\' ).getReferenceByDistinctEdits`',\n\t\t} );\n\n\t\treturn select( 'core' ).getReferenceByDistinctEdits();\n\t}\n);\n\n/**\n * Returns an attribute value of the saved post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getCurrentPostAttribute( state, attributeName ) {\n\tswitch ( attributeName ) {\n\t\tcase 'type':\n\t\t\treturn getCurrentPostType( state );\n\n\t\tcase 'id':\n\t\t\treturn getCurrentPostId( state );\n\n\t\tdefault:\n\t\t\tconst post = getCurrentPost( state );\n\t\t\tif ( ! post.hasOwnProperty( attributeName ) ) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn getPostRawValue( post[ attributeName ] );\n\t}\n}\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but merging with the attribute value for the last known\n * saved state of the post (this is needed for some nested attributes like meta).\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nconst getNestedEditedPostProperty = ( state, attributeName ) => {\n\tconst edits = getPostEdits( state );\n\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\treturn getCurrentPostAttribute( state, attributeName );\n\t}\n\n\treturn {\n\t\t...getCurrentPostAttribute( state, attributeName ),\n\t\t...edits[ attributeName ],\n\t};\n};\n\n/**\n * Returns a single attribute of the post being edited, preferring the unsaved\n * edit if one exists, but falling back to the attribute for the last known\n * saved state of the post.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Post attribute name.\n *\n * @return {*} Post attribute value.\n */\nexport function getEditedPostAttribute( state, attributeName ) {\n\t// Special cases\n\tswitch ( attributeName ) {\n\t\tcase 'content':\n\t\t\treturn getEditedPostContent( state );\n\t}\n\n\t// Fall back to saved post value if not edited.\n\tconst edits = getPostEdits( state );\n\tif ( ! edits.hasOwnProperty( attributeName ) ) {\n\t\treturn getCurrentPostAttribute( state, attributeName );\n\t}\n\n\t// Merge properties are objects which contain only the patch edit in state,\n\t// and thus must be merged with the current post attribute.\n\tif ( EDIT_MERGE_PROPERTIES.has( attributeName ) ) {\n\t\treturn getNestedEditedPostProperty( state, attributeName );\n\t}\n\n\treturn edits[ attributeName ];\n}\n\n/**\n * Returns an attribute value of the current autosave revision for a post, or\n * null if there is no autosave for the post.\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )` selector\n * \t\t\t   from the '@wordpress/core-data' package and access properties on the returned\n * \t\t\t   autosave object using getPostRawValue.\n *\n * @param {Object} state         Global application state.\n * @param {string} attributeName Autosave attribute name.\n *\n * @return {*} Autosave attribute value.\n */\nexport const getAutosaveAttribute = createRegistrySelector( ( select ) => ( state, attributeName ) => {\n\tif ( ! includes( AUTOSAVE_PROPERTIES, attributeName ) && attributeName !== 'preview_link' ) {\n\t\treturn;\n\t}\n\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\tconst currentUserId = get( select( 'core' ).getCurrentUser(), [ 'id' ] );\n\tconst autosave = select( 'core' ).getAutosave( postType, postId, currentUserId );\n\n\tif ( autosave ) {\n\t\treturn getPostRawValue( autosave[ attributeName ] );\n\t}\n} );\n\n/**\n * Returns the current visibility of the post being edited, preferring the\n * unsaved value if different than the saved post. The return value is one of\n * \"private\", \"password\", or \"public\".\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post visibility.\n */\nexport function getEditedPostVisibility( state ) {\n\tconst status = getEditedPostAttribute( state, 'status' );\n\tif ( status === 'private' ) {\n\t\treturn 'private';\n\t}\n\n\tconst password = getEditedPostAttribute( state, 'password' );\n\tif ( password ) {\n\t\treturn 'password';\n\t}\n\n\treturn 'public';\n}\n\n/**\n * Returns true if post is pending review.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is pending review.\n */\nexport function isCurrentPostPending( state ) {\n\treturn getCurrentPost( state ).status === 'pending';\n}\n\n/**\n * Return true if the current post has already been published.\n *\n * @param {Object}  state       Global application state.\n * @param {Object?} currentPost Explicit current post for bypassing registry selector.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isCurrentPostPublished( state, currentPost ) {\n\tconst post = currentPost || getCurrentPost( state );\n\n\treturn (\n\t\t[ 'publish', 'private' ].indexOf( post.status ) !== -1 ||\n\t\t( post.status === 'future' &&\n\t\t\t! isInTheFuture( new Date( Number( getDate( post.date ) ) - ONE_MINUTE_IN_MS ) ) )\n\t);\n}\n\n/**\n * Returns true if post is already scheduled.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether current post is scheduled to be posted.\n */\nexport function isCurrentPostScheduled( state ) {\n\treturn getCurrentPost( state ).status === 'future' && ! isCurrentPostPublished( state );\n}\n\n/**\n * Return true if the post being edited can be published.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can been published.\n */\nexport function isEditedPostPublishable( state ) {\n\tconst post = getCurrentPost( state );\n\n\t// TODO: Post being publishable should be superset of condition of post\n\t// being saveable. Currently this restriction is imposed at UI.\n\t//\n\t//  See: <PostPublishButton /> (`isButtonEnabled` assigned by `isSaveable`)\n\n\treturn isEditedPostDirty( state ) || [ 'publish', 'private', 'future' ].indexOf( post.status ) === -1;\n}\n\n/**\n * Returns true if the post can be saved, or false otherwise. A post must\n * contain a title, an excerpt, or non-empty content to be valid for save.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post can be saved.\n */\nexport function isEditedPostSaveable( state ) {\n\tif ( isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\n\t// TODO: Post should not be saveable if not dirty. Cannot be added here at\n\t// this time since posts where meta boxes are present can be saved even if\n\t// the post is not dirty. Currently this restriction is imposed at UI, but\n\t// should be moved here.\n\t//\n\t//  See: `isEditedPostPublishable` (includes `isEditedPostDirty` condition)\n\t//  See: <PostSavedState /> (`forceIsDirty` prop)\n\t//  See: <PostPublishButton /> (`forceIsDirty` prop)\n\t//  See: https://github.com/WordPress/gutenberg/pull/4184\n\n\treturn (\n\t\t!! getEditedPostAttribute( state, 'title' ) ||\n\t\t!! getEditedPostAttribute( state, 'excerpt' ) ||\n\t\t! isEditedPostEmpty( state )\n\t);\n}\n\n/**\n * Returns true if the edited post has content. A post has content if it has at\n * least one saveable block or otherwise has a non-empty content property\n * assigned.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post has content.\n */\nexport function isEditedPostEmpty( state ) {\n\t// While the condition of truthy content string is sufficient to determine\n\t// emptiness, testing saveable blocks length is a trivial operation. Since\n\t// this function can be called frequently, optimize for the fast case as a\n\t// condition of the mere existence of blocks. Note that the value of edited\n\t// content takes precedent over block content, and must fall through to the\n\t// default logic.\n\tconst blocks = getEditorBlocks( state );\n\n\tif ( blocks.length ) {\n\t\t// Pierce the abstraction of the serializer in knowing that blocks are\n\t\t// joined with with newlines such that even if every individual block\n\t\t// produces an empty save result, the serialized content is non-empty.\n\t\tif ( blocks.length > 1 ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// There are two conditions under which the optimization cannot be\n\t\t// assumed, and a fallthrough to getEditedPostContent must occur:\n\t\t//\n\t\t// 1. getBlocksForSerialization has special treatment in omitting a\n\t\t//    single unmodified default block.\n\t\t// 2. Comment delimiters are omitted for a freeform or unregistered\n\t\t//    block in its serialization. The freeform block specifically may\n\t\t//    produce an empty string in its saved output.\n\t\t//\n\t\t// For all other content, the single block is assumed to make a post\n\t\t// non-empty, if only by virtue of its own comment delimiters.\n\t\tconst blockName = blocks[ 0 ].name;\n\t\tif (\n\t\t\tblockName !== getDefaultBlockName() &&\n\t\t\tblockName !== getFreeformContentHandlerName()\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn ! getEditedPostContent( state );\n}\n\n/**\n * Returns true if the post can be autosaved, or false otherwise.\n *\n * @param {Object} state    Global application state.\n * @param {Object} autosave A raw autosave object from the REST API.\n *\n * @return {boolean} Whether the post can be autosaved.\n */\nexport const isEditedPostAutosaveable = createRegistrySelector( ( select ) => function( state ) {\n\t// A post must contain a title, an excerpt, or non-empty content to be valid for autosaving.\n\tif ( ! isEditedPostSaveable( state ) ) {\n\t\treturn false;\n\t}\n\n\t// A post is not autosavable when there is a post autosave lock.\n\tif ( isPostAutosavingLocked( state ) ) {\n\t\treturn false;\n\t}\n\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\tconst hasFetchedAutosave = select( 'core' ).hasFetchedAutosaves( postType, postId );\n\tconst currentUserId = get( select( 'core' ).getCurrentUser(), [ 'id' ] );\n\n\t// Disable reason - this line causes the side-effect of fetching the autosave\n\t// via a resolver, moving below the return would result in the autosave never\n\t// being fetched.\n\t// eslint-disable-next-line @wordpress/no-unused-vars-before-return\n\tconst autosave = select( 'core' ).getAutosave( postType, postId, currentUserId );\n\n\t// If any existing autosaves have not yet been fetched, this function is\n\t// unable to determine if the post is autosaveable, so return false.\n\tif ( ! hasFetchedAutosave ) {\n\t\treturn false;\n\t}\n\n\t// If we don't already have an autosave, the post is autosaveable.\n\tif ( ! autosave ) {\n\t\treturn true;\n\t}\n\n\t// To avoid an expensive content serialization, use the content dirtiness\n\t// flag in place of content field comparison against the known autosave.\n\t// This is not strictly accurate, and relies on a tolerance toward autosave\n\t// request failures for unnecessary saves.\n\tif ( hasChangedContent( state ) ) {\n\t\treturn true;\n\t}\n\n\t// If the title or excerpt has changed, the post is autosaveable.\n\treturn [ 'title', 'excerpt' ].some( ( field ) => (\n\t\tgetPostRawValue( autosave[ field ] ) !== getEditedPostAttribute( state, field )\n\t) );\n} );\n\n/**\n * Returns the current autosave, or null if one is not set (i.e. if the post\n * has yet to be autosaved, or has been saved or published since the last\n * autosave).\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )`\n * \t\t\t   selector from the '@wordpress/core-data' package.\n *\n * @param {Object} state Editor state.\n *\n * @return {?Object} Current autosave, if exists.\n */\nexport const getAutosave = createRegistrySelector( ( select ) => ( state ) => {\n\tdeprecated( '`wp.data.select( \\'core/editor\\' ).getAutosave()`', {\n\t\talternative: '`wp.data.select( \\'core\\' ).getAutosave( postType, postId, userId )`',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\tconst currentUserId = get( select( 'core' ).getCurrentUser(), [ 'id' ] );\n\tconst autosave = select( 'core' ).getAutosave( postType, postId, currentUserId );\n\treturn mapValues( pick( autosave, AUTOSAVE_PROPERTIES ), getPostRawValue );\n} );\n\n/**\n * Returns the true if there is an existing autosave, otherwise false.\n *\n * @deprecated since 5.6. Callers should use the `getAutosave( postType, postId, userId )` selector\n *             from the '@wordpress/core-data' package and check for a truthy value.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether there is an existing autosave.\n */\nexport const hasAutosave = createRegistrySelector( ( select ) => ( state ) => {\n\tdeprecated( '`wp.data.select( \\'core/editor\\' ).hasAutosave()`', {\n\t\talternative: '`!! wp.data.select( \\'core\\' ).getAutosave( postType, postId, userId )`',\n\t\tplugin: 'Gutenberg',\n\t} );\n\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\tconst currentUserId = get( select( 'core' ).getCurrentUser(), [ 'id' ] );\n\treturn !! select( 'core' ).getAutosave( postType, postId, currentUserId );\n} );\n\n/**\n * Return true if the post being edited is being scheduled. Preferring the\n * unsaved status values.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post has been published.\n */\nexport function isEditedPostBeingScheduled( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\t// Offset the date by one minute (network latency)\n\tconst checkedDate = new Date( Number( getDate( date ) ) - ONE_MINUTE_IN_MS );\n\n\treturn isInTheFuture( checkedDate );\n}\n\n/**\n * Returns whether the current post should be considered to have a \"floating\"\n * date (i.e. that it would publish \"Immediately\" rather than at a set time).\n *\n * Unlike in the PHP backend, the REST API returns a full date string for posts\n * where the 0000-00-00T00:00:00 placeholder is present in the database. To\n * infer that a post is set to publish \"Immediately\" we check whether the date\n * and modified date are the same.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the edited post has a floating date value.\n */\nexport function isEditedPostDateFloating( state ) {\n\tconst date = getEditedPostAttribute( state, 'date' );\n\tconst modified = getEditedPostAttribute( state, 'modified' );\n\tconst status = getEditedPostAttribute( state, 'status' );\n\tif ( status === 'draft' || status === 'auto-draft' || status === 'pending' ) {\n\t\treturn date === modified;\n\t}\n\treturn false;\n}\n\n/**\n * Returns true if the post is currently being saved, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being saved.\n */\nexport const isSavingPost = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postType = getCurrentPostType( state );\n\tconst postId = getCurrentPostId( state );\n\treturn select( 'core' ).isSavingEntityRecord( 'postType', postType, postId );\n} );\n\n/**\n * Returns true if a previous post save was attempted successfully, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post was saved successfully.\n */\nexport const didPostSaveRequestSucceed = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn ! select( 'core' ).getLastEntitySaveError( 'postType', postType, postId );\n\t}\n);\n\n/**\n * Returns true if a previous post save was attempted but failed, or false\n * otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post save failed.\n */\nexport const didPostSaveRequestFail = createRegistrySelector(\n\t( select ) => ( state ) => {\n\t\tconst postType = getCurrentPostType( state );\n\t\tconst postId = getCurrentPostId( state );\n\t\treturn !! select( 'core' ).getLastEntitySaveError( 'postType', postType, postId );\n\t}\n);\n\n/**\n * Returns true if the post is autosaving, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is autosaving.\n */\nexport function isAutosavingPost( state ) {\n\tif ( ! isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\treturn !! get( state.saving, [ 'options', 'isAutosave' ] );\n}\n\n/**\n * Returns true if the post is being previewed, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the post is being previewed.\n */\nexport function isPreviewingPost( state ) {\n\tif ( ! isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\treturn !! state.saving.options.isPreview;\n}\n\n/**\n * Returns the post preview link\n *\n * @param {Object} state Global application state.\n *\n * @return {string?} Preview Link.\n */\nexport function getEditedPostPreviewLink( state ) {\n\tif ( state.saving.pending || isSavingPost( state ) ) {\n\t\treturn;\n\t}\n\n\tlet previewLink = getAutosaveAttribute( state, 'preview_link' );\n\tif ( ! previewLink ) {\n\t\tpreviewLink = getEditedPostAttribute( state, 'link' );\n\t\tif ( previewLink ) {\n\t\t\tpreviewLink = addQueryArgs( previewLink, { preview: true } );\n\t\t}\n\t}\n\tconst featuredImageId = getEditedPostAttribute( state, 'featured_media' );\n\n\tif ( previewLink && featuredImageId ) {\n\t\treturn addQueryArgs( previewLink, { _thumbnail_id: featuredImageId } );\n\t}\n\n\treturn previewLink;\n}\n\n/**\n * Returns a suggested post format for the current post, inferred only if there\n * is a single block within the post and it is of a type known to match a\n * default post format. Returns null if the format cannot be determined.\n *\n * @param {Object} state Global application state.\n *\n * @return {?string} Suggested post format.\n */\nexport function getSuggestedPostFormat( state ) {\n\tconst blocks = getEditorBlocks( state );\n\n\tlet name;\n\t// If there is only one block in the content of the post grab its name\n\t// so we can derive a suitable post format from it.\n\tif ( blocks.length === 1 ) {\n\t\tname = blocks[ 0 ].name;\n\t}\n\n\t// If there are two blocks in the content and the last one is a text blocks\n\t// grab the name of the first one to also suggest a post format from it.\n\tif ( blocks.length === 2 ) {\n\t\tif ( blocks[ 1 ].name === 'core/paragraph' ) {\n\t\t\tname = blocks[ 0 ].name;\n\t\t}\n\t}\n\n\t// We only convert to default post formats in core.\n\tswitch ( name ) {\n\t\tcase 'core/image':\n\t\t\treturn 'image';\n\t\tcase 'core/quote':\n\t\tcase 'core/pullquote':\n\t\t\treturn 'quote';\n\t\tcase 'core/gallery':\n\t\t\treturn 'gallery';\n\t\tcase 'core/video':\n\t\tcase 'core-embed/youtube':\n\t\tcase 'core-embed/vimeo':\n\t\t\treturn 'video';\n\t\tcase 'core/audio':\n\t\tcase 'core-embed/spotify':\n\t\tcase 'core-embed/soundcloud':\n\t\t\treturn 'audio';\n\t}\n\n\treturn null;\n}\n\n/**\n * Returns a set of blocks which are to be used in consideration of the post's\n * generated save content.\n *\n * @deprecated since Gutenberg 6.2.0.\n *\n * @param {Object} state Editor state.\n *\n * @return {WPBlock[]} Filtered set of blocks for save.\n */\nexport function getBlocksForSerialization( state ) {\n\tdeprecated( '`core/editor` getBlocksForSerialization selector', {\n\t\tplugin: 'Gutenberg',\n\t\talternative: 'getEditorBlocks',\n\t\thint: 'Blocks serialization pre-processing occurs at save time',\n\t} );\n\n\tconst blocks = state.editor.present.blocks.value;\n\n\t// WARNING: Any changes to the logic of this function should be verified\n\t// against the implementation of isEditedPostEmpty, which bypasses this\n\t// function for performance' sake, in an assumption of this current logic\n\t// being irrelevant to the optimized condition of emptiness.\n\n\t// A single unmodified default block is assumed to be equivalent to an\n\t// empty post.\n\tconst isSingleUnmodifiedDefaultBlock = (\n\t\tblocks.length === 1 &&\n\t\tisUnmodifiedDefaultBlock( blocks[ 0 ] )\n\t);\n\n\tif ( isSingleUnmodifiedDefaultBlock ) {\n\t\treturn [];\n\t}\n\n\treturn blocks;\n}\n\n/**\n * Returns the content of the post being edited.\n *\n * @param {Object} state Global application state.\n *\n * @return {string} Post content.\n */\nexport const getEditedPostContent = createRegistrySelector( ( select ) => ( state ) => {\n\tconst postId = getCurrentPostId( state );\n\tconst postType = getCurrentPostType( state );\n\tconst record = select( 'core' ).getEditedEntityRecord(\n\t\t'postType',\n\t\tpostType,\n\t\tpostId\n\t);\n\tif ( record ) {\n\t\tif ( typeof record.content === 'function' ) {\n\t\t\treturn record.content( record );\n\t\t} else if ( record.blocks ) {\n\t\t\treturn serializeBlocks( record.blocks );\n\t\t} else if ( record.content ) {\n\t\t\treturn record.content;\n\t\t}\n\t}\n\treturn '';\n} );\n\n/**\n * Returns the reusable block with the given ID.\n *\n * @param {Object}        state Global application state.\n * @param {number|string} ref   The reusable block's ID.\n *\n * @return {Object} The reusable block, or null if none exists.\n */\nexport const __experimentalGetReusableBlock = createSelector(\n\t( state, ref ) => {\n\t\tconst block = state.reusableBlocks.data[ ref ];\n\t\tif ( ! block ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst isTemporary = isNaN( parseInt( ref ) );\n\n\t\treturn {\n\t\t\t...block,\n\t\t\tid: isTemporary ? ref : +ref,\n\t\t\tisTemporary,\n\t\t};\n\t},\n\t( state, ref ) => [\n\t\tstate.reusableBlocks.data[ ref ],\n\t],\n);\n\n/**\n * Returns whether or not the reusable block with the given ID is being saved.\n *\n * @param {Object} state Global application state.\n * @param {string} ref   The reusable block's ID.\n *\n * @return {boolean} Whether or not the reusable block is being saved.\n */\nexport function __experimentalIsSavingReusableBlock( state, ref ) {\n\treturn state.reusableBlocks.isSaving[ ref ] || false;\n}\n\n/**\n * Returns true if the reusable block with the given ID is being fetched, or\n * false otherwise.\n *\n * @param {Object} state Global application state.\n * @param {string} ref   The reusable block's ID.\n *\n * @return {boolean} Whether the reusable block is being fetched.\n */\nexport function __experimentalIsFetchingReusableBlock( state, ref ) {\n\treturn !! state.reusableBlocks.isFetching[ ref ];\n}\n\n/**\n * Returns an array of all reusable blocks.\n *\n * @param {Object} state Global application state.\n *\n * @return {Array} An array of all reusable blocks.\n */\nexport const __experimentalGetReusableBlocks = createSelector(\n\t( state ) => {\n\t\treturn map(\n\t\t\tstate.reusableBlocks.data,\n\t\t\t( value, ref ) => __experimentalGetReusableBlock( state, ref )\n\t\t);\n\t},\n\t( state ) => [\n\t\tstate.reusableBlocks.data,\n\t]\n);\n\n/**\n * Returns state object prior to a specified optimist transaction ID, or `null`\n * if the transaction corresponding to the given ID cannot be found.\n *\n * @param {Object} state         Current global application state.\n * @param {Object} transactionId Optimist transaction ID.\n *\n * @return {Object} Global application state prior to transaction.\n */\nexport function getStateBeforeOptimisticTransaction( state, transactionId ) {\n\tconst transaction = find( state.optimist, ( entry ) => (\n\t\tentry.beforeState &&\n\t\tget( entry.action, [ 'optimist', 'id' ] ) === transactionId\n\t) );\n\n\treturn transaction ? transaction.beforeState : null;\n}\n\n/**\n * Returns true if the post is being published, or false otherwise.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether post is being published.\n */\nexport function isPublishingPost( state ) {\n\tif ( ! isSavingPost( state ) ) {\n\t\treturn false;\n\t}\n\n\t// Saving is optimistic, so assume that current post would be marked as\n\t// published if publishing\n\tif ( ! isCurrentPostPublished( state ) ) {\n\t\treturn false;\n\t}\n\n\t// Use post update transaction ID to retrieve the state prior to the\n\t// optimistic transaction\n\tconst stateBeforeRequest = getStateBeforeOptimisticTransaction(\n\t\tstate,\n\t\tPOST_UPDATE_TRANSACTION_ID\n\t);\n\n\t// Consider as publishing when current post prior to request was not\n\t// considered published\n\treturn (\n\t\t!! stateBeforeRequest &&\n\t\t! isCurrentPostPublished( null, stateBeforeRequest.currentPost )\n\t);\n}\n\n/**\n * Returns whether the permalink is editable or not.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether or not the permalink is editable.\n */\nexport function isPermalinkEditable( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute( state, 'permalink_template' );\n\n\treturn PERMALINK_POSTNAME_REGEX.test( permalinkTemplate );\n}\n\n/**\n * Returns the permalink for the post.\n *\n * @param {Object} state Editor state.\n *\n * @return {?string} The permalink, or null if the post is not viewable.\n */\nexport function getPermalink( state ) {\n\tconst permalinkParts = getPermalinkParts( state );\n\tif ( ! permalinkParts ) {\n\t\treturn null;\n\t}\n\n\tconst { prefix, postName, suffix } = permalinkParts;\n\n\tif ( isPermalinkEditable( state ) ) {\n\t\treturn prefix + postName + suffix;\n\t}\n\n\treturn prefix;\n}\n\n/**\n * Returns the permalink for a post, split into it's three parts: the prefix,\n * the postName, and the suffix.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} An object containing the prefix, postName, and suffix for\n *                  the permalink, or null if the post is not viewable.\n */\nexport function getPermalinkParts( state ) {\n\tconst permalinkTemplate = getEditedPostAttribute( state, 'permalink_template' );\n\tif ( ! permalinkTemplate ) {\n\t\treturn null;\n\t}\n\n\tconst postName = getEditedPostAttribute( state, 'slug' ) || getEditedPostAttribute( state, 'generated_slug' );\n\n\tconst [ prefix, suffix ] = permalinkTemplate.split( PERMALINK_POSTNAME_REGEX );\n\n\treturn {\n\t\tprefix,\n\t\tpostName,\n\t\tsuffix,\n\t};\n}\n\n/**\n * Returns true if an optimistic transaction is pending commit, for which the\n * before state satisfies the given predicate function.\n *\n * @param {Object}   state     Editor state.\n * @param {Function} predicate Function given state, returning true if match.\n *\n * @return {boolean} Whether predicate matches for some history.\n */\nexport function inSomeHistory( state, predicate ) {\n\tconst { optimist } = state;\n\n\t// In recursion, optimist state won't exist. Assume exhausted options.\n\tif ( ! optimist ) {\n\t\treturn false;\n\t}\n\n\treturn optimist.some( ( { beforeState } ) => (\n\t\tbeforeState && predicate( beforeState )\n\t) );\n}\n\n/**\n * Returns whether the post is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostLocked( state ) {\n\treturn state.postLock.isLocked;\n}\n\n/**\n * Returns whether post saving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostSavingLocked( state ) {\n\treturn Object.keys( state.postSavingLock ).length > 0;\n}\n\n/**\n * Returns whether post autosaving is locked.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is locked.\n */\nexport function isPostAutosavingLocked( state ) {\n\treturn Object.keys( state.postAutosavingLock ).length > 0;\n}\n\n/**\n * Returns whether the edition of the post has been taken over.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Is post lock takeover.\n */\nexport function isPostLockTakeover( state ) {\n\treturn state.postLock.isTakeover;\n}\n\n/**\n * Returns details about the post lock user.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} A user object.\n */\nexport function getPostLockUser( state ) {\n\treturn state.postLock.user;\n}\n\n/**\n * Returns the active post lock.\n *\n * @param {Object} state Global application state.\n *\n * @return {Object} The lock object.\n */\nexport function getActivePostLock( state ) {\n\treturn state.postLock.activePostLock;\n}\n\n/**\n * Returns whether or not the user has the unfiltered_html capability.\n *\n * @param {Object} state Editor state.\n *\n * @return {boolean} Whether the user can or can't post unfiltered HTML.\n */\nexport function canUserUseUnfilteredHTML( state ) {\n\treturn has( getCurrentPost( state ), [ '_links', 'wp:action-unfiltered-html' ] );\n}\n\n/**\n * Returns whether the pre-publish panel should be shown\n * or skipped when the user clicks the \"publish\" button.\n *\n * @param {Object} state Global application state.\n *\n * @return {boolean} Whether the pre-publish panel should be shown or not.\n */\nexport function isPublishSidebarEnabled( state ) {\n\tif ( state.preferences.hasOwnProperty( 'isPublishSidebarEnabled' ) ) {\n\t\treturn state.preferences.isPublishSidebarEnabled;\n\t}\n\treturn PREFERENCES_DEFAULTS.isPublishSidebarEnabled;\n}\n\n/**\n * Return the current block list.\n *\n * @param {Object} state\n * @return {Array} Block list.\n */\nexport function getEditorBlocks( state ) {\n\treturn getEditedPostAttribute( state, 'blocks' ) || EMPTY_ARRAY;\n}\n\n/**\n * Is the editor ready\n *\n * @param {Object} state\n * @return {boolean} is Ready.\n */\nexport function __unstableIsEditorReady( state ) {\n\treturn state.isReady;\n}\n\n/**\n * Returns the post editor settings.\n *\n * @param {Object} state Editor state.\n *\n * @return {Object} The editor settings object.\n */\nexport function getEditorSettings( state ) {\n\treturn state.editorSettings;\n}\n\n/*\n * Backward compatibility\n */\n\nfunction getBlockEditorSelector( name ) {\n\treturn createRegistrySelector( ( select ) => ( state, ...args ) => {\n\t\tdeprecated( '`wp.data.select( \\'core/editor\\' ).' + name + '`', {\n\t\t\talternative: '`wp.data.select( \\'core/block-editor\\' ).' + name + '`',\n\t\t} );\n\n\t\treturn select( 'core/block-editor' )[ name ]( ...args );\n\t} );\n}\n\n/**\n * @see getBlockName in core/block-editor store.\n */\nexport const getBlockName = getBlockEditorSelector( 'getBlockName' );\n\n/**\n * @see isBlockValid in core/block-editor store.\n */\nexport const isBlockValid = getBlockEditorSelector( 'isBlockValid' );\n\n/**\n * @see getBlockAttributes in core/block-editor store.\n */\nexport const getBlockAttributes = getBlockEditorSelector( 'getBlockAttributes' );\n\n/**\n * @see getBlock in core/block-editor store.\n */\nexport const getBlock = getBlockEditorSelector( 'getBlock' );\n\n/**\n * @see getBlocks in core/block-editor store.\n */\nexport const getBlocks = getBlockEditorSelector( 'getBlocks' );\n\n/**\n * @see __unstableGetBlockWithoutInnerBlocks in core/block-editor store.\n */\nexport const __unstableGetBlockWithoutInnerBlocks = getBlockEditorSelector( '__unstableGetBlockWithoutInnerBlocks' );\n\n/**\n * @see getClientIdsOfDescendants in core/block-editor store.\n */\nexport const getClientIdsOfDescendants = getBlockEditorSelector( 'getClientIdsOfDescendants' );\n\n/**\n * @see getClientIdsWithDescendants in core/block-editor store.\n */\nexport const getClientIdsWithDescendants = getBlockEditorSelector( 'getClientIdsWithDescendants' );\n\n/**\n * @see getGlobalBlockCount in core/block-editor store.\n */\nexport const getGlobalBlockCount = getBlockEditorSelector( 'getGlobalBlockCount' );\n\n/**\n * @see getBlocksByClientId in core/block-editor store.\n */\nexport const getBlocksByClientId = getBlockEditorSelector( 'getBlocksByClientId' );\n\n/**\n * @see getBlockCount in core/block-editor store.\n */\nexport const getBlockCount = getBlockEditorSelector( 'getBlockCount' );\n\n/**\n * @see getBlockSelectionStart in core/block-editor store.\n */\nexport const getBlockSelectionStart = getBlockEditorSelector( 'getBlockSelectionStart' );\n\n/**\n * @see getBlockSelectionEnd in core/block-editor store.\n */\nexport const getBlockSelectionEnd = getBlockEditorSelector( 'getBlockSelectionEnd' );\n\n/**\n * @see getSelectedBlockCount in core/block-editor store.\n */\nexport const getSelectedBlockCount = getBlockEditorSelector( 'getSelectedBlockCount' );\n\n/**\n * @see hasSelectedBlock in core/block-editor store.\n */\nexport const hasSelectedBlock = getBlockEditorSelector( 'hasSelectedBlock' );\n\n/**\n * @see getSelectedBlockClientId in core/block-editor store.\n */\nexport const getSelectedBlockClientId = getBlockEditorSelector( 'getSelectedBlockClientId' );\n\n/**\n * @see getSelectedBlock in core/block-editor store.\n */\nexport const getSelectedBlock = getBlockEditorSelector( 'getSelectedBlock' );\n\n/**\n * @see getBlockRootClientId in core/block-editor store.\n */\nexport const getBlockRootClientId = getBlockEditorSelector( 'getBlockRootClientId' );\n\n/**\n * @see getBlockHierarchyRootClientId in core/block-editor store.\n */\nexport const getBlockHierarchyRootClientId = getBlockEditorSelector( 'getBlockHierarchyRootClientId' );\n\n/**\n * @see getAdjacentBlockClientId in core/block-editor store.\n */\nexport const getAdjacentBlockClientId = getBlockEditorSelector( 'getAdjacentBlockClientId' );\n\n/**\n * @see getPreviousBlockClientId in core/block-editor store.\n */\nexport const getPreviousBlockClientId = getBlockEditorSelector( 'getPreviousBlockClientId' );\n\n/**\n * @see getNextBlockClientId in core/block-editor store.\n */\nexport const getNextBlockClientId = getBlockEditorSelector( 'getNextBlockClientId' );\n\n/**\n * @see getSelectedBlocksInitialCaretPosition in core/block-editor store.\n */\nexport const getSelectedBlocksInitialCaretPosition = getBlockEditorSelector( 'getSelectedBlocksInitialCaretPosition' );\n\n/**\n * @see getMultiSelectedBlockClientIds in core/block-editor store.\n */\nexport const getMultiSelectedBlockClientIds = getBlockEditorSelector( 'getMultiSelectedBlockClientIds' );\n\n/**\n * @see getMultiSelectedBlocks in core/block-editor store.\n */\nexport const getMultiSelectedBlocks = getBlockEditorSelector( 'getMultiSelectedBlocks' );\n\n/**\n * @see getFirstMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getFirstMultiSelectedBlockClientId = getBlockEditorSelector( 'getFirstMultiSelectedBlockClientId' );\n\n/**\n * @see getLastMultiSelectedBlockClientId in core/block-editor store.\n */\nexport const getLastMultiSelectedBlockClientId = getBlockEditorSelector( 'getLastMultiSelectedBlockClientId' );\n\n/**\n * @see isFirstMultiSelectedBlock in core/block-editor store.\n */\nexport const isFirstMultiSelectedBlock = getBlockEditorSelector( 'isFirstMultiSelectedBlock' );\n\n/**\n * @see isBlockMultiSelected in core/block-editor store.\n */\nexport const isBlockMultiSelected = getBlockEditorSelector( 'isBlockMultiSelected' );\n\n/**\n * @see isAncestorMultiSelected in core/block-editor store.\n */\nexport const isAncestorMultiSelected = getBlockEditorSelector( 'isAncestorMultiSelected' );\n\n/**\n * @see getMultiSelectedBlocksStartClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksStartClientId = getBlockEditorSelector( 'getMultiSelectedBlocksStartClientId' );\n\n/**\n * @see getMultiSelectedBlocksEndClientId in core/block-editor store.\n */\nexport const getMultiSelectedBlocksEndClientId = getBlockEditorSelector( 'getMultiSelectedBlocksEndClientId' );\n\n/**\n * @see getBlockOrder in core/block-editor store.\n */\nexport const getBlockOrder = getBlockEditorSelector( 'getBlockOrder' );\n\n/**\n * @see getBlockIndex in core/block-editor store.\n */\nexport const getBlockIndex = getBlockEditorSelector( 'getBlockIndex' );\n\n/**\n * @see isBlockSelected in core/block-editor store.\n */\nexport const isBlockSelected = getBlockEditorSelector( 'isBlockSelected' );\n\n/**\n * @see hasSelectedInnerBlock in core/block-editor store.\n */\nexport const hasSelectedInnerBlock = getBlockEditorSelector( 'hasSelectedInnerBlock' );\n\n/**\n * @see isBlockWithinSelection in core/block-editor store.\n */\nexport const isBlockWithinSelection = getBlockEditorSelector( 'isBlockWithinSelection' );\n\n/**\n * @see hasMultiSelection in core/block-editor store.\n */\nexport const hasMultiSelection = getBlockEditorSelector( 'hasMultiSelection' );\n\n/**\n * @see isMultiSelecting in core/block-editor store.\n */\nexport const isMultiSelecting = getBlockEditorSelector( 'isMultiSelecting' );\n\n/**\n * @see isSelectionEnabled in core/block-editor store.\n */\nexport const isSelectionEnabled = getBlockEditorSelector( 'isSelectionEnabled' );\n\n/**\n * @see getBlockMode in core/block-editor store.\n */\nexport const getBlockMode = getBlockEditorSelector( 'getBlockMode' );\n\n/**\n * @see isTyping in core/block-editor store.\n */\nexport const isTyping = getBlockEditorSelector( 'isTyping' );\n\n/**\n * @see isCaretWithinFormattedText in core/block-editor store.\n */\nexport const isCaretWithinFormattedText = getBlockEditorSelector( 'isCaretWithinFormattedText' );\n\n/**\n * @see getBlockInsertionPoint in core/block-editor store.\n */\nexport const getBlockInsertionPoint = getBlockEditorSelector( 'getBlockInsertionPoint' );\n\n/**\n * @see isBlockInsertionPointVisible in core/block-editor store.\n */\nexport const isBlockInsertionPointVisible = getBlockEditorSelector( 'isBlockInsertionPointVisible' );\n\n/**\n * @see isValidTemplate in core/block-editor store.\n */\nexport const isValidTemplate = getBlockEditorSelector( 'isValidTemplate' );\n\n/**\n * @see getTemplate in core/block-editor store.\n */\nexport const getTemplate = getBlockEditorSelector( 'getTemplate' );\n\n/**\n * @see getTemplateLock in core/block-editor store.\n */\nexport const getTemplateLock = getBlockEditorSelector( 'getTemplateLock' );\n\n/**\n * @see canInsertBlockType in core/block-editor store.\n */\nexport const canInsertBlockType = getBlockEditorSelector( 'canInsertBlockType' );\n\n/**\n * @see getInserterItems in core/block-editor store.\n */\nexport const getInserterItems = getBlockEditorSelector( 'getInserterItems' );\n\n/**\n * @see hasInserterItems in core/block-editor store.\n */\nexport const hasInserterItems = getBlockEditorSelector( 'hasInserterItems' );\n\n/**\n * @see getBlockListSettings in core/block-editor store.\n */\nexport const getBlockListSettings = getBlockEditorSelector( 'getBlockListSettings' );\n","/**\n * WordPress dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { SAVE_POST_NOTICE_ID, TRASH_POST_NOTICE_ID } from '../constants';\n\n/**\n * External dependencies\n */\nimport { get, includes } from 'lodash';\n\n/**\n * Builds the arguments for a success notification dispatch.\n *\n * @param {Object} data Incoming data to build the arguments from.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveSuccess( data ) {\n\tconst { previousPost, post, postType } = data;\n\t// Autosaves are neither shown a notice nor redirected.\n\tif ( get( data.options, [ 'isAutosave' ] ) ) {\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = includes( publishStatus, previousPost.status );\n\tconst willPublish = includes( publishStatus, post.status );\n\n\tlet noticeMessage;\n\tlet shouldShowLink = get( postType, [ 'viewable' ], false );\n\n\tif ( ! isPublished && ! willPublish ) {\n\t\t// If saving a non-published post, don't show notice.\n\t\tnoticeMessage = null;\n\t} else if ( isPublished && ! willPublish ) {\n\t\t// If undoing publish status, show specific notice\n\t\tnoticeMessage = postType.labels.item_reverted_to_draft;\n\t\tshouldShowLink = false;\n\t} else if ( ! isPublished && willPublish ) {\n\t\t// If publishing or scheduling a post, show the corresponding\n\t\t// publish message\n\t\tnoticeMessage = {\n\t\t\tpublish: postType.labels.item_published,\n\t\t\tprivate: postType.labels.item_published_privately,\n\t\t\tfuture: postType.labels.item_scheduled,\n\t\t}[ post.status ];\n\t} else {\n\t\t// Generic fallback notice\n\t\tnoticeMessage = postType.labels.item_updated;\n\t}\n\n\tif ( noticeMessage ) {\n\t\tconst actions = [];\n\t\tif ( shouldShowLink ) {\n\t\t\tactions.push( {\n\t\t\t\tlabel: postType.labels.view_item,\n\t\t\t\turl: post.link,\n\t\t\t} );\n\t\t}\n\t\treturn [\n\t\t\tnoticeMessage,\n\t\t\t{\n\t\t\t\tid: SAVE_POST_NOTICE_ID,\n\t\t\t\ttype: 'snackbar',\n\t\t\t\tactions,\n\t\t\t},\n\t\t];\n\t}\n\n\treturn [];\n}\n\n/**\n * Builds the fail notification arguments for dispatch.\n *\n * @param {Object} data Incoming data to build the arguments with.\n *\n * @return {Array} Arguments for dispatch. An empty array signals no\n *                 notification should be sent.\n */\nexport function getNotificationArgumentsForSaveFail( data ) {\n\tconst { post, edits, error } = data;\n\tif ( error && 'rest_autosave_no_changes' === error.code ) {\n\t\t// Autosave requested a new autosave, but there were no changes. This shouldn't\n\t\t// result in an error notice for the user.\n\t\treturn [];\n\t}\n\n\tconst publishStatus = [ 'publish', 'private', 'future' ];\n\tconst isPublished = publishStatus.indexOf( post.status ) !== -1;\n\t// If the post was being published, we show the corresponding publish error message\n\t// Unless we publish an \"updating failed\" message\n\tconst messages = {\n\t\tpublish: __( 'Publishing failed.' ),\n\t\tprivate: __( 'Publishing failed.' ),\n\t\tfuture: __( 'Scheduling failed.' ),\n\t};\n\tlet noticeMessage = ! isPublished && publishStatus.indexOf( edits.status ) !== -1 ?\n\t\tmessages[ edits.status ] :\n\t\t__( 'Updating failed.' );\n\n\t// Check if message string contains HTML. Notice text is currently only\n\t// supported as plaintext, and stripping the tags may muddle the meaning.\n\tif ( error.message && ! ( /<\\/?[^>]*>/.test( error.message ) ) ) {\n\t\tnoticeMessage = sprintf( __( '%1$s Error message: %2$s' ), noticeMessage, error.message );\n\t}\n\treturn [ noticeMessage, {\n\t\tid: SAVE_POST_NOTICE_ID,\n\t} ];\n}\n\n/**\n * Builds the trash fail notification arguments for dispatch.\n *\n * @param {Object} data\n *\n * @return {Array} Arguments for dispatch.\n */\nexport function getNotificationArgumentsForTrashFail( data ) {\n\treturn [\n\t\tdata.error.message && data.error.code !== 'unknown_error' ?\n\t\t\tdata.error.message :\n\t\t\t__( 'Trashing failed' ),\n\t\t{\n\t\t\tid: TRASH_POST_NOTICE_ID,\n\t\t},\n\t];\n}\n","/**\n * External dependencies\n */\nimport memoize from 'memize';\n\n/**\n * WordPress dependencies\n */\nimport {\n\tisUnmodifiedDefaultBlock,\n\tserialize,\n\tgetFreeformContentHandlerName,\n} from '@wordpress/blocks';\nimport { removep } from '@wordpress/autop';\n\n/**\n * Serializes blocks following backwards compatibility conventions.\n *\n * @param {Array} blocksForSerialization The blocks to serialize.\n *\n * @return {string} The blocks serialization.\n */\nconst serializeBlocks = memoize(\n\t( blocksForSerialization ) => {\n\t\t// A single unmodified default block is assumed to\n\t\t// be equivalent to an empty post.\n\t\tif (\n\t\t\tblocksForSerialization.length === 1 &&\n\t\t\tisUnmodifiedDefaultBlock( blocksForSerialization[ 0 ] )\n\t\t) {\n\t\t\tblocksForSerialization = [];\n\t\t}\n\n\t\tlet content = serialize( blocksForSerialization );\n\n\t\t// For compatibility, treat a post consisting of a\n\t\t// single freeform block as legacy content and apply\n\t\t// pre-block-editor removep'd content formatting.\n\t\tif (\n\t\t\tblocksForSerialization.length === 1 &&\n\t\t\tblocksForSerialization[ 0 ].name === getFreeformContentHandlerName()\n\t\t) {\n\t\t\tcontent = removep( content );\n\t\t}\n\n\t\treturn content;\n\t},\n\t{ maxSize: 1 }\n);\n\nexport default serializeBlocks;\n","/**\n * Internal dependencies\n */\nimport mediaUpload from './media-upload';\n\nexport { mediaUpload };\nexport { cleanForSlug } from './url.js';\n","/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { select } from '@wordpress/data';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n/**\n * Upload a media file when the file upload button is activated.\n * Wrapper around mediaUpload() that injects the current post ID.\n *\n * @param   {Object}   $0                   Parameters object passed to the function.\n * @param   {?Object}  $0.additionalData    Additional data to include in the request.\n * @param   {string}   $0.allowedTypes      Array with the types of media that can be uploaded, if unset all types are allowed.\n * @param   {Array}    $0.filesList         List of files.\n * @param   {?number}  $0.maxUploadFileSize Maximum upload size in bytes allowed for the site.\n * @param   {Function} $0.onError           Function called when an error happens.\n * @param   {Function} $0.onFileChange      Function called each time a file or a temporary representation of the file is available.\n */\nexport default function( {\n\tadditionalData = {},\n\tallowedTypes,\n\tfilesList,\n\tmaxUploadFileSize,\n\tonError = noop,\n\tonFileChange,\n} ) {\n\tconst { getCurrentPostId, getEditorSettings } = select( 'core/editor' );\n\tconst wpAllowedMimeTypes = getEditorSettings().allowedMimeTypes;\n\tmaxUploadFileSize = maxUploadFileSize || getEditorSettings().maxUploadFileSize;\n\n\tuploadMedia( {\n\t\tallowedTypes,\n\t\tfilesList,\n\t\tonFileChange,\n\t\tadditionalData: {\n\t\t\tpost: getCurrentPostId(),\n\t\t\t...additionalData,\n\t\t},\n\t\tmaxUploadFileSize,\n\t\tonError: ( { message } ) => onError( message ),\n\t\twpAllowedMimeTypes,\n\t} );\n}\n","/**\n * External dependencies\n */\nimport { groupBy } from 'lodash';\n\n/**\n * Returns terms in a tree form.\n *\n * @param {Array} flatTerms  Array of terms in flat format.\n *\n * @return {Array} Array of terms in tree format.\n */\nexport function buildTermsTree( flatTerms ) {\n\tconst flatTermsWithParentAndChildren = flatTerms.map( ( term ) => {\n\t\treturn {\n\t\t\tchildren: [],\n\t\t\tparent: null,\n\t\t\t...term,\n\t\t};\n\t} );\n\n\tconst termsByParent = groupBy( flatTermsWithParentAndChildren, 'parent' );\n\tif ( termsByParent.null && termsByParent.null.length ) {\n\t\treturn flatTermsWithParentAndChildren;\n\t}\n\tconst fillWithChildren = ( terms ) => {\n\t\treturn terms.map( ( term ) => {\n\t\t\tconst children = termsByParent[ term.id ];\n\t\t\treturn {\n\t\t\t\t...term,\n\t\t\t\tchildren: children && children.length ?\n\t\t\t\t\tfillWithChildren( children ) :\n\t\t\t\t\t[],\n\t\t\t};\n\t\t} );\n\t};\n\n\treturn fillWithChildren( termsByParent[ '0' ] || [] );\n}\n","/**\n * External dependencies\n */\nimport { deburr, toLower, trim } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@wordpress/url';\n\n/**\n * Returns the URL of a WPAdmin Page.\n *\n * TODO: This should be moved to a module less specific to the editor.\n *\n * @param {string} page  Page to navigate to.\n * @param {Object} query Query Args.\n *\n * @return {string} WPAdmin URL.\n */\nexport function getWPAdminURL( page, query ) {\n\treturn addQueryArgs( page, query );\n}\n\n/**\n * Performs some basic cleanup of a string for use as a post slug\n *\n * This replicates some of what sanitize_title() does in WordPress core, but\n * is only designed to approximate what the slug will be.\n *\n * Converts whitespace, periods, forward slashes and underscores to hyphens.\n * Converts Latin-1 Supplement and Latin Extended-A letters to basic Latin\n * letters. Removes combining diacritical marks. Converts remaining string\n * to lowercase. It does not touch octets, HTML entities, or other encoded\n * characters.\n *\n * @param {string} string Title or slug to be processed\n *\n * @return {string} Processed string\n */\nexport function cleanForSlug( string ) {\n\tif ( ! string ) {\n\t\treturn '';\n\t}\n\treturn toLower( deburr( trim( string.replace( /[\\s\\./_]+/g, '-' ), '-' ) ) );\n}\n","(function() { module.exports = this[\"regeneratorRuntime\"]; }());","(function() { module.exports = this[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = this[\"wp\"][\"autop\"]; }());","(function() { module.exports = this[\"wp\"][\"blockDirectory\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = this[\"wp\"][\"blocks\"]; }());","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"compose\"]; }());","(function() { module.exports = this[\"wp\"][\"coreData\"]; }());","(function() { module.exports = this[\"wp\"][\"data\"]; }());","(function() { module.exports = this[\"wp\"][\"dataControls\"]; }());","(function() { module.exports = this[\"wp\"][\"date\"]; }());","(function() { module.exports = this[\"wp\"][\"deprecated\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"wp\"][\"hooks\"]; }());","(function() { module.exports = this[\"wp\"][\"htmlEntities\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"isShallowEqual\"]; }());","(function() { module.exports = this[\"wp\"][\"keycodes\"]; }());","(function() { module.exports = this[\"wp\"][\"mediaUtils\"]; }());","(function() { module.exports = this[\"wp\"][\"notices\"]; }());","(function() { module.exports = this[\"wp\"][\"nux\"]; }());","(function() { module.exports = this[\"wp\"][\"richText\"]; }());","(function() { module.exports = this[\"wp\"][\"serverSideRender\"]; }());","(function() { module.exports = this[\"wp\"][\"url\"]; }());","(function() { module.exports = this[\"wp\"][\"viewport\"]; }());","(function() { module.exports = this[\"wp\"][\"wordcount\"]; }());","(function() { module.exports = this[\"lodash\"]; }());","(function() { module.exports = this[\"React\"]; }());"],"sourceRoot":""}